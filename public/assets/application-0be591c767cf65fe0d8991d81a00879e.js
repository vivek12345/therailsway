!function(e,t){function n(e){return M.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function i(e){if(!Cn[e]){var t=R.body,n=M("<"+e+">").appendTo(t),i=n.css("display");n.remove(),("none"===i||""===i)&&(gn||(gn=R.createElement("iframe"),gn.frameBorder=gn.width=gn.height=0),t.appendChild(gn),vn&&gn.createElement||(vn=(gn.contentWindow||gn.contentDocument).document,vn.write(("CSS1Compat"===R.compatMode?"<!doctype html>":"")+"<html><body>"),vn.close()),n=vn.createElement(e),vn.body.appendChild(n),i=M.css(n,"display"),t.removeChild(gn)),Cn[e]=i}return Cn[e]}function r(e,t){var n={};return M.each(En.concat.apply([],En.slice(0,t)),function(){n[this]=e}),n}function o(){bn=t}function a(){return setTimeout(o,0),bn=M.now()}function s(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function l(){try{return new e.XMLHttpRequest}catch(t){}}function c(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,r,o,a,s,l,c,u,d=e.dataTypes,f={},p=d.length,h=d[0];for(i=1;p>i;i++){if(1===i)for(r in e.converters)"string"==typeof r&&(f[r.toLowerCase()]=e.converters[r]);if(a=h,h=d[i],"*"===h)h=a;else if("*"!==a&&a!==h){if(s=a+" "+h,l=f[s]||f["* "+h],!l){u=t;for(c in f)if(o=c.split(" "),(o[0]===a||"*"===o[0])&&(u=f[o[1]+" "+h])){c=f[c],c===!0?l=u:u===!0&&(l=c);break}}!l&&!u&&M.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):u(c(n)))}}return n}function u(e,n,i){var r,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)a=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function d(e,t,n,i){if(M.isArray(t))M.each(t,function(t,r){n||Ut.test(e)?i(e,r):d(e+"["+("object"==typeof r||M.isArray(r)?t:"")+"]",r,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else for(var r in t)d(e+"["+r+"]",t[r],n,i)}function f(e,n){var i,r,o=M.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&M.extend(!0,e,r)}function p(e,n,i,r,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=e[o],c=0,u=l?l.length:0,d=e===sn;u>c&&(d||!s);c++)s=l[c](n,i,r),"string"==typeof s&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=p(e,n,i,r,s,a)));return(d||!s)&&!a["*"]&&(s=p(e,n,i,r,"*",a)),s}function h(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),M.isFunction(n))for(var i,r,o,a=t.toLowerCase().split(nn),s=0,l=a.length;l>s;s++)i=a[s],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function m(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r="width"===t?$t:jt,o=0,a=r.length;if(i>0){if("border"!==n)for(;a>o;o++)n||(i-=parseFloat(M.css(e,"padding"+r[o]))||0),"margin"===n?i+=parseFloat(M.css(e,n+r[o]))||0:i-=parseFloat(M.css(e,"border"+r[o]+"Width"))||0;return i+"px"}if(i=At(e,t,t),(0>i||null==i)&&(i=e.style[t]||0),i=parseFloat(i)||0,n)for(;a>o;o++)i+=parseFloat(M.css(e,"padding"+r[o]))||0,"padding"!==n&&(i+=parseFloat(M.css(e,"border"+r[o]+"Width"))||0),"margin"===n&&(i+=parseFloat(M.css(e,n+r[o]))||0);return i+"px"}function g(e,t){t.src?M.ajax({url:t.src,async:!1,dataType:"script"}):M.globalEval((t.text||t.textContent||t.innerHTML||"").replace(kt,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function v(e){var t=R.createElement("div");return Dt.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e){var t=(e.nodeName||"").toLowerCase();"input"===t?b(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&M.grep(e.getElementsByTagName("input"),b)}function b(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function C(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function x(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(M.expando))}function w(e,t){if(1===t.nodeType&&M.hasData(e)){var n,i,r,o=M._data(e),a=M._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)M.event.add(t,n+(s[n][i].namespace?".":"")+s[n][i].namespace,s[n][i],s[n][i].data)}a.data&&(a.data=M.extend({},a.data))}}function E(e){return M.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e){var t=mt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function T(e,t,n){if(t=t||0,M.isFunction(t))return M.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return M.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=M.grep(e,function(e){return 1===e.nodeType});if(dt.test(t))return M.filter(t,i,!n);t=M.filter(t,i)}return M.grep(e,function(e){return M.inArray(e,t)>=0===n})}function N(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function k(){return!0}function S(){return!1}function D(e,t,n){var i=t+"defer",r=t+"queue",o=t+"mark",a=M._data(e,i);!(!a||"queue"!==n&&M._data(e,r)||"mark"!==n&&M._data(e,o)||!setTimeout(function(){!M._data(e,r)&&!M._data(e,o)&&(M.removeData(e,i,!0),a.fire())},0))}function A(e){for(var t in e)if(("data"!==t||!M.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function B(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace($,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:M.isNumeric(i)?parseFloat(i):I.test(i)?M.parseJSON(i):i}catch(o){}M.data(e,n,i)}else i=t}return i}function F(e){var t,n,i=P[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)i[e[t]]=!0;return i}var R=e.document,L=e.navigator,H=e.location,M=function(){function n(){if(!s.isReady){try{R.documentElement.doScroll("left")}catch(e){return setTimeout(n,1),void 0}s.ready()}}var i,r,o,a,s=function(e,t){return new s.fn.init(e,t,i)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,f=/^\s+/,p=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,C=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,E=/-([a-z]|[0-9])/gi,_=/^-ms-/,T=function(e,t){return(t+"").toUpperCase()},N=L.userAgent,k=Object.prototype.toString,S=Object.prototype.hasOwnProperty,D=Array.prototype.push,A=Array.prototype.slice,B=String.prototype.trim,F=Array.prototype.indexOf,H={};return s.fn=s.prototype={constructor:s,init:function(e,n,i){var r,o,a,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&R.body)return this.context=R,this[0]=R.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(r="<"!==e.charAt(0)||">"!==e.charAt(e.length-1)||e.length<3?u.exec(e):[null,e,null],r&&(r[1]||!n)){if(r[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:R,a=h.exec(e),a?s.isPlainObject(n)?(e=[R.createElement(a[1])],s.fn.attr.call(e,n,!0)):e=[l.createElement(a[1])]:(a=s.buildFragment([r[1]],[l]),e=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,e);if(o=R.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=R,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return s.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),s.makeArray(e,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return A.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return s.isArray(e)?D.apply(i,e):s.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return s.each(this,e,t)},ready:function(e){return s.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(A.apply(this,arguments),"slice",A.call(arguments).join(","))},map:function(e){return this.pushStack(s.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var e,n,i,r,o,a,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"!=typeof l&&!s.isFunction(l)&&(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(n in e)i=l[n],r=e[n],l!==r&&(d&&r&&(s.isPlainObject(r)||(o=s.isArray(r)))?(o?(o=!1,a=i&&s.isArray(i)?i:[]):a=i&&s.isPlainObject(i)?i:{},l[n]=s.extend(d,a,r)):r!==t&&(l[n]=r));return l},s.extend({noConflict:function(t){return e.$===s&&(e.$=c),t&&e.jQuery===s&&(e.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(e){e?s.readyWait++:s.ready(!0)},ready:function(e){if(e===!0&&!--s.readyWait||e!==!0&&!s.isReady){if(!R.body)return setTimeout(s.ready,1);if(s.isReady=!0,e!==!0&&--s.readyWait>0)return;o.fireWith(R,[s]),s.fn.trigger&&s(R).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===R.readyState)return setTimeout(s.ready,1);if(R.addEventListener)R.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",s.ready,!1);else if(R.attachEvent){R.attachEvent("onreadystatechange",a),e.attachEvent("onload",s.ready);var t=!1;try{t=null==e.frameElement}catch(i){}R.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===s.type(e)},isArray:Array.isArray||function(e){return"array"===s.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):H[k.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==s.type(e)||e.nodeType||s.isWindow(e))return!1;try{if(e.constructor&&!S.call(e,"constructor")&&!S.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||S.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=s.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():(s.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,r;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&s.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_,"ms-").replace(E,T)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,o=0,a=e.length,l=a===t||s.isFunction(e);if(i)if(l){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;a>o&&n.apply(e[o++],i)!==!1;);else if(l){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:B?function(e){return null==e?"":B.call(e)}:function(e){return null==e?"":(e+"").replace(f,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=s.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||s.isWindow(e)?D.call(n,e):s.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(F)return F.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=e.length,r=0;if("number"==typeof n.length)for(var o=n.length;o>r;r++)e[i++]=n[r];else for(;n[r]!==t;)e[i++]=n[r++];return e.length=i,e},grep:function(e,t,n){var i,r=[];n=!!n;for(var o=0,a=e.length;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,a=[],l=0,c=e.length,u=e instanceof s||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||s.isArray(e));if(u)for(;c>l;l++)r=n(e[l],l,i),null!=r&&(a[a.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){if("string"==typeof n){var i=e[n];n=e,e=i}if(!s.isFunction(e))return t;var r=A.call(arguments,2),o=function(){return e.apply(n,r.concat(A.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||s.guid++,o},access:function(e,n,i,r,o,a){var l=e.length;if("object"==typeof n){for(var c in n)s.access(e,c,n[c],r,o,i);return e}if(i!==t){r=!a&&r&&s.isFunction(i);for(var u=0;l>u;u++)o(e[u],n,r?i.call(e[u],u,o(e[u],n)):i,a);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||C.exec(e)||x.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}s.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof s&&!(i instanceof e)&&(i=e(i)),s.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(R);return e},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),r=s.uaMatch(N),r.browser&&(s.browser[r.browser]=!0,s.browser.version=r.version),s.browser.webkit&&(s.browser.safari=!0),d.test(" ")&&(f=/^[\s\xA0]+/,p=/[\s\xA0]+$/),i=s(R),R.addEventListener?a=function(){R.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:R.attachEvent&&(a=function(){"complete"===R.readyState&&(R.detachEvent("onreadystatechange",a),s.ready())}),s}(),P={};M.Callbacks=function(e){e=e?P[e]||F(e):{};var n,i,r,o,a,s=[],l=[],c=function(t){var n,i,r,o;for(n=0,i=t.length;i>n;n++)r=t[n],o=M.type(r),"array"===o?c(r):"function"===o&&(!e.unique||!d.has(r))&&s.push(r)},u=function(t,c){for(c=c||[],n=!e.memory||[t,c],i=!0,a=r||0,r=0,o=s.length;s&&o>a;a++)if(s[a].apply(t,c)===!1&&e.stopOnFalse){n=!0;break}i=!1,s&&(e.once?n===!0?d.disable():s=[]:l&&l.length&&(n=l.shift(),d.fireWith(n[0],n[1])))},d={add:function(){if(s){var e=s.length;c(arguments),i?o=s.length:n&&n!==!0&&(r=e,u(n[0],n[1]))}return this},remove:function(){if(s)for(var t=arguments,n=0,r=t.length;r>n;n++)for(var l=0;l<s.length&&(t[n]!==s[l]||(i&&o>=l&&(o--,a>=l&&a--),s.splice(l--,1),!e.unique));l++);return this},has:function(e){if(s)for(var t=0,n=s.length;n>t;t++)if(e===s[t])return!0;return!1},empty:function(){return s=[],this},disable:function(){return s=l=n=t,this},disabled:function(){return!s},lock:function(){return l=t,(!n||n===!0)&&d.disable(),this},locked:function(){return!l},fireWith:function(t,r){return l&&(i?e.once||l.push([t,r]):(!e.once||!n)&&u(t,r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d};var O=[].slice;M.extend({Deferred:function(e){var t,n=M.Callbacks("once memory"),i=M.Callbacks("once memory"),r=M.Callbacks("memory"),o="pending",a={resolve:n,reject:i,notify:r},s={done:n.add,fail:i.add,progress:r.add,state:function(){return o},isResolved:n.fired,isRejected:i.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return M.Deferred(function(i){M.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,r=t[0],o=t[1];M.isFunction(r)?l[e](function(){n=r.apply(this,arguments),n&&M.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[o+"With"](this===l?i:this,[n])}):l[e](i[o])})}).promise()},promise:function(e){if(null==e)e=s;else for(var t in s)e[t]=s[t];return e}},l=s.promise({});for(t in a)l[t]=a[t].fire,l[t+"With"]=a[t].fireWith;return l.done(function(){o="resolved"},i.disable,r.lock).fail(function(){o="rejected"},n.disable,r.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){a[e]=arguments.length>1?O.call(arguments,0):t,l.notifyWith(c,a)}}function n(e){return function(t){i[e]=arguments.length>1?O.call(arguments,0):t,--s||l.resolveWith(l,i)}}var i=O.call(arguments,0),r=0,o=i.length,a=Array(o),s=o,l=1>=o&&e&&M.isFunction(e.promise)?e:M.Deferred(),c=l.promise();if(o>1){for(;o>r;r++)i[r]&&i[r].promise&&M.isFunction(i[r].promise)?i[r].promise().then(n(r),l.reject,t(r)):--s;s||l.resolveWith(l,i)}else l!==e&&l.resolveWith(l,o?[e]:[]);return c}}),M.support=function(){var t,n,i,r,o,a,s,l,c,u,d,f,p=R.createElement("div");if(R.documentElement,p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),i=p.getElementsByTagName("a")[0],!n||!n.length||!i)return{};r=R.createElement("select"),o=r.appendChild(R.createElement("option")),a=p.getElementsByTagName("input")[0],t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!R.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==R.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(h){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),a=R.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),p.appendChild(a),l=R.createDocumentFragment(),l.appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(p),p.innerHTML="",e.getComputedStyle&&(s=R.createElement("div"),s.style.width="0",s.style.marginRight="0",p.style.width="2px",p.appendChild(s),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),p.attachEvent)for(d in{submit:1,change:1,focusin:1})u="on"+d,f=u in p,f||(p.setAttribute(u,"return;"),f="function"==typeof p[u]),t[d+"Bubbles"]=f;return l.removeChild(p),l=r=o=s=p=a=null,M(function(){var e,n,i,r,o,a,s,l,u,d,h=R.getElementsByTagName("body")[0];!h||(a=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",u="style='"+s+"border:5px solid #000;padding:0;'",d="<div "+u+"><div></div></div>"+"<table "+u+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",e=R.createElement("div"),e.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+a+"px",h.insertBefore(e,h.firstChild),p=R.createElement("div"),e.appendChild(p),p.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=p.getElementsByTagName("td"),f=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",t.reliableHiddenOffsets=f&&0===c[0].offsetHeight,p.innerHTML="",p.style.width=p.style.paddingLeft="1px",M.boxModel=t.boxModel=2===p.offsetWidth,"undefined"!=typeof p.style.zoom&&(p.style.display="inline",p.style.zoom=1,t.inlineBlockNeedsLayout=2===p.offsetWidth,p.style.display="",p.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=2!==p.offsetWidth),p.style.cssText=s+l,p.innerHTML=d,n=p.firstChild,i=n.firstChild,r=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===r.offsetTop},i.style.position="fixed",i.style.top="20px",o.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,o.doesNotIncludeMarginInBodyOffset=h.offsetTop!==a,h.removeChild(e),p=e=null,M.extend(t,o))}),t}();var I=/^(?:\{.*\}|\[.*\])$/,$=/([A-Z])/g;M.extend({cache:{},uuid:0,expando:"jQuery"+(M.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?M.cache[e[M.expando]]:e[M.expando],!!e&&!A(e)},data:function(e,n,i,r){if(M.acceptData(e)){var o,a,s,l=M.expando,c="string"==typeof n,u=e.nodeType,d=u?M.cache:e,f=u?e[l]:e[l]&&l,p="events"===n;if(!(f&&d[f]&&(p||r||d[f].data)||!c||i!==t))return;return f||(u?e[l]=f=++M.uuid:f=l),d[f]||(d[f]={},u||(d[f].toJSON=M.noop)),("object"==typeof n||"function"==typeof n)&&(r?d[f]=M.extend(d[f],n):d[f].data=M.extend(d[f].data,n)),o=a=d[f],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[M.camelCase(n)]=i),p&&!a[n]?o.events:(c?(s=a[n],null==s&&(s=a[M.camelCase(n)])):s=a,s)}},removeData:function(e,t,n){if(M.acceptData(e)){var i,r,o,a=M.expando,s=e.nodeType,l=s?M.cache:e,c=s?e[a]:a;if(!l[c])return;if(t&&(i=n?l[c]:l[c].data)){M.isArray(t)||(t in i?t=[t]:(t=M.camelCase(t),t=t in i?[t]:t.split(" ")));for(r=0,o=t.length;o>r;r++)delete i[t[r]];if(!(n?A:M.isEmptyObject)(i))return}if(!n&&(delete l[c].data,!A(l[c])))return;M.support.deleteExpando||!l.setInterval?delete l[c]:l[c]=null,s&&(M.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null)}},_data:function(e,t,n){return M.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=M.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),M.fn.extend({data:function(e,n){var i,r,o,a=null;if("undefined"==typeof e){if(this.length&&(a=M.data(this[0]),1===this[0].nodeType&&!M._data(this[0],"parsedAttrs"))){r=this[0].attributes;for(var s=0,l=r.length;l>s;s++)o=r[s].name,0===o.indexOf("data-")&&(o=M.camelCase(o.substring(5)),B(this[0],o,a[o]));M._data(this[0],"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){M.data(this,e)}):(i=e.split("."),i[1]=i[1]?"."+i[1]:"",n===t?(a=this.triggerHandler("getData"+i[1]+"!",[i[0]]),a===t&&this.length&&(a=M.data(this[0],e),a=B(this[0],e,a)),a===t&&i[1]?this.data(i[0]):a):this.each(function(){var t=M(this),r=[i[0],n];t.triggerHandler("setData"+i[1]+"!",r),M.data(this,e,n),t.triggerHandler("changeData"+i[1]+"!",r)}))},removeData:function(e){return this.each(function(){M.removeData(this,e)})}}),M.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",M._data(e,t,(M._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var i=n+"mark",r=e?0:(M._data(t,i)||1)-1;r?M._data(t,i,r):(M.removeData(t,i,!0),D(t,n,"mark"))}},queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=M._data(e,t),n&&(!i||M.isArray(n)?i=M._data(e,t,M.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=M.queue(e,t),i=n.shift(),r={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),M._data(e,t+".run",r),i.call(e,function(){M.dequeue(e,t)},r)),n.length||(M.removeData(e,t+"queue "+t+".run",!0),D(e,t,"queue"))}}),M.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?M.queue(this[0],e):this.each(function(){var t=M.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(e){return this.each(function(){M.dequeue(this,e)})},delay:function(e,t){return e=M.fx?M.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function i(){--l||o.resolveWith(a,[a])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var r,o=M.Deferred(),a=this,s=a.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";s--;)(r=M.data(a[s],c,t,!0)||(M.data(a[s],u,t,!0)||M.data(a[s],d,t,!0))&&M.data(a[s],c,M.Callbacks("once memory"),!0))&&(l++,r.add(i));return i(),o.promise()}});var j,W,z,q=/[\n\t\r]/g,U=/\s+/,V=/\r/g,X=/^(?:button|input)$/i,K=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea)?$/i,Q=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Y=M.support.getSetAttribute;M.fn.extend({attr:function(e,t){return M.access(this,e,t,!0,M.attr)},removeAttr:function(e){return this.each(function(){M.removeAttr(this,e)})},prop:function(e,t){return M.access(this,e,t,!0,M.prop)},removeProp:function(e){return e=M.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a,s;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(U),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;s>a;a++)~o.indexOf(" "+t[a]+" ")||(o+=t[a]+" ");r.className=M.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,a,s,l;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(U),i=0,r=this.length;r>i;i++)if(o=this[i],1===o.nodeType&&o.className)if(e){for(a=(" "+o.className+" ").replace(q," "),s=0,l=n.length;l>s;s++)a=a.replace(" "+n[s]+" "," ");o.className=M.trim(a)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return M.isFunction(e)?this.each(function(n){M(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=M(this),s=t,l=e.split(U);r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&M._data(this,"__className__",this.className),this.className=this.className||e===!1?"":M._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r,o=this[0];return arguments.length?(r=M.isFunction(e),this.each(function(i){var o,a=M(this);1===this.nodeType&&(o=r?e.call(this,i,a.val()):e,null==o?o="":"number"==typeof o?o+="":M.isArray(o)&&(o=M.map(o,function(e){return null==e?"":e+""})),n=M.valHooks[this.nodeName.toLowerCase()]||M.valHooks[this.type],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=M.valHooks[o.nodeName.toLowerCase()]||M.valHooks[o.type],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(V,""):null==i?"":i)):void 0}}),M.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,o=e.selectedIndex,a=[],s=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,i=l?o+1:s.length;i>n;n++)if(r=s[n],!(!r.selected||(M.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&M.nodeName(r.parentNode,"optgroup"))){if(t=M(r).val(),l)return t;a.push(t)}return l&&!a.length&&s.length?M(s[o]).val():a},set:function(e,t){var n=M.makeArray(t);return M(e).find("option").each(function(){this.selected=M.inArray(M(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,r){var o,a,s,l=e.nodeType;return e&&3!==l&&8!==l&&2!==l?r&&n in M.attrFn?M(e)[n](i):"undefined"==typeof e.getAttribute?M.prop(e,n,i):(s=1!==l||!M.isXMLDoc(e),s&&(n=n.toLowerCase(),a=M.attrHooks[n]||(Q.test(n)?W:j)),i!==t?null===i?(M.removeAttr(e,n),void 0):a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,""+i),i):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o)):void 0},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&1===e.nodeType)for(i=t.toLowerCase().split(U),o=i.length;o>a;a++)r=i[a],r&&(n=M.propFix[r]||r,M.attr(e,r,""),e.removeAttribute(Y?r:n),Q.test(r)&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(X.test(e.nodeName)&&e.parentNode)M.error("type property can't be changed");else if(!M.support.radioValue&&"radio"===t&&M.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&M.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){return j&&M.nodeName(e,"button")?j.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;return e&&3!==s&&8!==s&&2!==s?(a=1!==s||!M.isXMLDoc(e),a&&(n=M.propFix[n]||n,o=M.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):K.test(e.nodeName)||G.test(e.nodeName)&&e.href?0:t}}}}),M.attrHooks.tabindex=M.propHooks.tabIndex,W={get:function(e,n){var i,r=M.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?M.removeAttr(e,n):(i=M.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Y||(z={name:!0,id:!0},j=M.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(z[n]?""!==i.nodeValue:i.specified)?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=R.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},M.attrHooks.tabindex.set=j.set,M.each(["width","height"],function(e,t){M.attrHooks[t]=M.extend(M.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),M.attrHooks.contenteditable={get:j.get,set:function(e,t,n){""===t&&(t="false"),j.set(e,t,n)}}),M.support.hrefNormalized||M.each(["href","src","width","height"],function(e,n){M.attrHooks[n]=M.extend(M.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),M.support.style||(M.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),M.support.optSelected||(M.propHooks.selected=M.extend(M.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),M.support.enctype||(M.propFix.enctype="encoding"),M.support.checkOn||M.each(["radio","checkbox"],function(){M.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]=M.extend(M.valHooks[this],{set:function(e,t){return M.isArray(t)?e.checked=M.inArray(M(e).val(),t)>=0:void 0}})});var J=/^(?:textarea|input|select)$/i,Z=/^([^\.]*)?(?:\.(.+))?$/,et=/\bhover(\.\S+)?\b/,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,rt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ot=function(e){var t=rt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},at=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},st=function(e){return M.event.special.hover?e:e.replace(et,"mouseenter$1 mouseleave$1")};M.event={add:function(e,n,i,r,o){var a,s,l,c,u,d,f,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(a=M._data(e))){for(i.handler&&(h=i,i=h.handler),i.guid||(i.guid=M.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof M||e&&M.event.triggered===e.type?t:M.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=M.trim(st(n)).split(" "),c=0;c<n.length;c++)u=Z.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),g=M.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=M.event.special[d]||{},p=M.extend({type:d,origType:u[1],data:r,handler:i,guid:i.guid,selector:o,quick:ot(o),namespace:f.join(".")},h),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,f,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),M.event.global[d]=!0;
e=null}},global:{},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,p,h,m,g,v=M.hasData(e)&&M._data(e);if(v&&(f=v.events)){for(t=M.trim(st(t||"")).split(" "),o=0;o<t.length;o++)if(a=Z.exec(t[o])||[],s=l=a[1],c=a[2],s){for(p=M.event.special[s]||{},s=(i?p.delegateType:p.bindType)||s,m=f[s]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!(!r&&l!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,!p.remove||!p.remove.call(e,g)));0===m.length&&u!==m.length&&((!p.teardown||p.teardown.call(e,c)===!1)&&M.removeEvent(e,s,v.handle),delete f[s])}else for(s in f)M.event.remove(e,s+t[o],n,i,!0);M.isEmptyObject(f)&&(h=v.handle,h&&(h.elem=null),M.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,l,c,u,d,f,p,h,m,g=n.type||n,v=[];if(it.test(g+M.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),(!r||M.event.customEvent[g])&&!M.event.global[g])return;if(n="object"==typeof n?n[M.expando]?n:new M.Event(g,n):new M.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",!r){a=M.cache;for(l in a)a[l].events&&a[l].events[g]&&M.event.trigger(n,i,a[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=r),i=null!=i?M.makeArray(i):[],i.unshift(n),f=M.event.special[g]||{},f.trigger&&f.trigger.apply(r,i)===!1)return;if(h=[[r,f.bindType||g]],!o&&!f.noBubble&&!M.isWindow(r)){for(m=f.delegateType||g,c=it.test(m+g)?r:r.parentNode,u=null;c;c=c.parentNode)h.push([c,m]),u=c;u&&u===r.ownerDocument&&h.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)c=h[l][0],n.type=h[l][1],p=(M._data(c,"events")||{})[n.type]&&M._data(c,"handle"),p&&p.apply(c,i),p=d&&c[d],p&&M.acceptData(c)&&p.apply(c,i)===!1&&n.preventDefault();return n.type=g,!(o||n.isDefaultPrevented()||f._default&&f._default.apply(r.ownerDocument,i)!==!1||"click"===g&&M.nodeName(r,"a")||!M.acceptData(r)||!d||!r[g]||("focus"===g||"blur"===g)&&0===n.target.offsetWidth||M.isWindow(r)||(u=r[d],u&&(r[d]=null),M.event.triggered=g,r[g](),M.event.triggered=t,!u||!(r[d]=u))),n.result}},dispatch:function(n){n=M.event.fix(n||e.event);var i,r,o,a,s,l,c,u,d,f,p=(M._data(this,"events")||{})[n.type]||[],h=p.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=[];if(m[0]=n,n.delegateTarget=this,h&&!n.target.disabled&&(!n.button||"click"!==n.type))for(a=M(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this){for(l={},u=[],a[0]=o,i=0;h>i;i++)d=p[i],f=d.selector,l[f]===t&&(l[f]=d.quick?at(o,d.quick):a.is(f)),l[f]&&u.push(d);u.length&&v.push({elem:o,matches:u})}for(p.length>h&&v.push({elem:this,matches:p.slice(h)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(c=v[i],n.currentTarget=c.elem,r=0;r<c.matches.length&&!n.isImmediatePropagationStopped();r++)d=c.matches[r],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,s=((M.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,m),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||R,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[M.expando])return e;var n,i,r=e,o=M.event.fixHooks[e.type]||{},a=o.props?this.props.concat(o.props):this.props;for(e=M.Event(r),n=a.length;n;)i=a[--n],e[i]=r[i];return e.target||(e.target=r.srcElement||R),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,r):e},special:{ready:{setup:M.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){M.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=M.extend(new M.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?M.event.trigger(r,null,t):M.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},M.event.handle=M.event.dispatch,M.removeEvent=R.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},M.Event=function(e,t){return this instanceof M.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?k:S):this.type=e,t&&M.extend(this,t),this.timeStamp=e&&e.timeStamp||M.now(),this[M.expando]=!0,void 0):new M.Event(e,t)},M.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k,this.stopPropagation()},isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S},M.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){M.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return o.selector,(!r||r!==i&&!M.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),M.support.submitBubbles||(M.event.special.submit={setup:function(){return M.nodeName(this,"form")?!1:(M.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=M.nodeName(n,"input")||M.nodeName(n,"button")?n.form:t;i&&!i._submit_attached&&(M.event.add(i,"submit._submit",function(e){this.parentNode&&!e.isTrigger&&M.event.simulate("submit",this.parentNode,e,!0)}),i._submit_attached=!0)}),void 0)},teardown:function(){return M.nodeName(this,"form")?!1:(M.event.remove(this,"._submit"),void 0)}}),M.support.changeBubbles||(M.event.special.change={setup:function(){return J.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(M.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),M.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,M.event.simulate("change",this,e,!0))})),!1):(M.event.add(this,"beforeactivate._change",function(e){var t=e.target;J.test(t.nodeName)&&!t._change_attached&&(M.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&M.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return M.event.remove(this,"._change"),J.test(this.nodeName)}}),M.support.focusinBubbles||M.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){M.event.simulate(t,e.target,M.event.fix(e),!0)};M.event.special[t]={setup:function(){0===n++&&R.addEventListener(e,i,!0)},teardown:function(){0===--n&&R.removeEventListener(e,i,!0)}}}),M.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=n,n=t);for(s in e)this.on(s,n,i,e[s],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=S;else if(!r)return this;return 1===o&&(a=r,r=function(e){return M().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=M.guid++)),this.each(function(){M.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on.call(this,e,t,n,i,1)},off:function(e,n,i){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return M(e.delegateTarget).off(r.namespace?r.type+"."+r.namespace:r.type,r.selector,r.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=S),this.each(function(){M.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return M(this.context).on(e,this.selector,t,n),this},die:function(e,t){return M(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){M.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?M.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||M.guid++,i=0,r=function(n){var r=(M._data(this,"lastToggle"+e.guid)||0)%i;return M._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),M.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){M.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},M.attrFn&&(M.attrFn[t]=!0),tt.test(t)&&(M.event.fixHooks[t]=M.event.keyHooks),nt.test(t)&&(M.event.fixHooks[t]=M.event.mouseHooks)}),function(){function e(e,t,n,i,o,a){for(var s=0,l=i.length;l>s;s++){var c=i[s];if(c){var u=!1;for(c=c[e];c;){if(c[r]===n){u=i[c.sizset];break}if(1===c.nodeType)if(a||(c[r]=n,c.sizset=s),"string"!=typeof t){if(c===t){u=!0;break}}else if(f.filter(t,[c]).length>0){u=c;break}c=c[e]}i[s]=u}}}function n(e,t,n,i,o,a){for(var s=0,l=i.length;l>s;s++){var c=i[s];if(c){var u=!1;for(c=c[e];c;){if(c[r]===n){u=i[c.sizset];break}if(1===c.nodeType&&!a&&(c[r]=n,c.sizset=s),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}i[s]=u}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var f=function(e,t,n,r){n=n||[],t=t||R;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var s,l,c,u,d,p,g,v,b=!0,C=f.isXML(t),x=[],E=e;do if(i.exec(""),s=i.exec(E),s&&(E=s[3],x.push(s[1]),s[2])){u=s[3];break}while(s);if(x.length>1&&m.exec(e))if(2===x.length&&h.relative[x[0]])l=w(x[0]+x[1],t,r);else for(l=h.relative[x[0]]?[t]:f(x.shift(),t);x.length;)e=x.shift(),h.relative[e]&&(e+=x.shift()),l=w(e,l,r);else if(!r&&x.length>1&&9===t.nodeType&&!C&&h.match.ID.test(x[0])&&!h.match.ID.test(x[x.length-1])&&(d=f.find(x.shift(),t,C),t=d.expr?f.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=r?{expr:x.pop(),set:y(r)}:f.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!t.parentNode?t:t.parentNode,C),l=d.expr?f.filter(d.expr,d.set):d.set,x.length>0?c=y(l):b=!1;x.length;)p=x.pop(),g=p,h.relative[p]?g=x.pop():p="",null==g&&(g=t),h.relative[p](c,g,C);else c=x=[];if(c||(c=l),c||f.error(p||e),"[object Array]"===a.call(c))if(b)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&f.contains(t,c[v]))&&n.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&n.push(l[v]);else n.push.apply(n,c);else y(c,n);return u&&(f(u,o,n,r),f.uniqueSort(n)),n};f.uniqueSort=function(e){if(C&&(s=l,e.sort(C),s))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},f.matches=function(e,t){return f(e,null,null,t)},f.matchesSelector=function(e,t){return f(t,null,null,[e]).length>0},f.find=function(e,t,n){var i,r,o,a,s,l;if(!e)return[];for(r=0,o=h.order.length;o>r;r++)if(s=h.order[r],(a=h.leftMatch[s].exec(e))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(c,""),i=h.find[s](a,t,n),null!=i))){e=e.replace(h.match[s],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},f.filter=function(e,n,i,r){for(var o,a,s,l,c,u,d,p,m,g=e,v=[],y=n,b=n&&n[0]&&f.isXML(n[0]);e&&n.length;){for(s in h.filter)if(null!=(o=h.leftMatch[s].exec(e))&&o[2]){if(u=h.filter[s],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),h.preFilter[s])if(o=h.preFilter[s](o,y,i,v,r,b)){if(o===!0)continue}else a=l=!0;if(o)for(p=0;null!=(c=y[p]);p++)c&&(l=u(c,o,p,y),m=r^l,i&&null!=l?m?a=!0:y[p]=!1:m&&(v.push(c),a=!0));if(l!==t){if(i||(y=v),e=e.replace(h.match[s],""),!a)return[];break}}if(e===g){if(null!=a)break;f.error(e)}g=e}return y},f.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=f.getText=function(e){var t,n,i=e.nodeType,r="";if(i){if(1===i||9===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)r+=p(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(r+=p(n));return r},h=f.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,a=0,s=e.length;s>a;a++)if(o=e[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[a]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&f.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,r=0,o=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();o>r;r++)if(n=e[r]){var a=n.parentNode;e[r]=a.nodeName.toLowerCase()===t?a:!1}}else{for(;o>r;r++)n=e[r],n&&(e[r]=i?n.parentNode:n.parentNode===t);i&&f.filter(t,e,!0)}},"":function(t,i,r){var a,s=o++,l=e;"string"==typeof i&&!d.test(i)&&(i=i.toLowerCase(),a=i,l=n),l("parentNode",i,s,t,a,r)},"~":function(t,i,r){var a,s=o++,l=e;"string"==typeof i&&!d.test(i)&&(i=i.toLowerCase(),a=i,l=n),l("previousSibling",i,s,t,a,r)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(c,"")+" ",o)return e;for(var a,s=0;null!=(a=t[s]);s++)a&&(r^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(a):n&&(t[s]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||f.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&f.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,i,r,o){var a=e[1]=e[1].replace(c,"");return!o&&h.attrMap[a]&&(e[1]=h.attrMap[a]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,r,o){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var a=f.filter(e[3],t,n,!0^o);return n||r.push.apply(r,a),!1}e[3]=f(e[3],null,null,t)}else if(h.match.POS.test(e[0])||h.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!f(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=h.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if("not"===r){for(var a=t[3],s=0,l=a.length;l>s;s++)if(a[s]===e)return!1;return!0}f.error(r)},CHILD:function(e,t){var n,i,o,a,s,l,c=t[1],u=e;switch(c){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===c)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(n=t[2],i=t[3],1===n&&0===i)return!0;if(o=t[0],a=e.parentNode,a&&(a[r]!==o||!e.nodeIndex)){for(s=0,u=a.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++s);a[r]=o}return l=e.nodeIndex-i,0===n?0===l:0===l%n&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=f.attr?f.attr(e,n):h.attrHandle[n]?h.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],a=t[4];return null==i?"!="===o:!o&&f.attr?null!=i:"="===o?r===a:"*="===o?r.indexOf(a)>=0:"~="===o?(" "+r+" ").indexOf(a)>=0:a?"!="===o?r!==a:"^="===o?0===r.indexOf(a):"$="===o?r.substr(r.length-a.length)===a:"|="===o?r===a||r.substr(0,a.length+1)===a+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=h.setFilters[r];return o?o(e,n,t,i):void 0}}},m=h.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in h.match)h.match[v]=new RegExp(h.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),h.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+h.match[v].source.replace(/\\(\d+)/g,g));var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(R.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,i=t||[];if("[object Array]"===a.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var r=e.length;r>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var C,x;R.documentElement.compareDocumentPosition?C=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(C=function(e,t){if(e===t)return s=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,c=a;if(a===l)return x(e,t);if(!a)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var u=0;n>u&&i>u;u++)if(r[u]!==o[u])return x(r[u],o[u]);return u===n?x(e,o[u],-1):x(r[u],t,1)},x=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=R.createElement("div"),n="script"+(new Date).getTime(),i=R.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),R.getElementById(n)&&(h.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},h.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=R.createElement("div");e.appendChild(R.createComment("")),e.getElementsByTagName("*").length>0&&(h.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(h.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),R.querySelectorAll&&function(){var e=f,t=R.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){f=function(t,i,r,o){if(i=i||R,!o&&!f.isXML(i)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(a&&(1===i.nodeType||9===i.nodeType)){if(a[1])return y(i.getElementsByTagName(t),r);if(a[2]&&h.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(a[2]),r)}if(9===i.nodeType){if("body"===t&&i.body)return y([i.body],r);if(a&&a[3]){var s=i.getElementById(a[3]);if(!s||!s.parentNode)return y([],r);if(s.id===a[3])return y([s],r)}try{return y(i.querySelectorAll(t),r)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,u=i.getAttribute("id"),d=u||n,p=i.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),m&&p&&(i=i.parentNode);try{if(!m||p)return y(i.querySelectorAll("[id='"+d+"'] "+t),r)}catch(g){}finally{u||c.removeAttribute("id")}}}return e(t,i,r,o)};for(var i in e)f[i]=e[i];t=null}}(),function(){var e=R.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(R.createElement("div"),"div"),i=!1;try{t.call(R.documentElement,"[test!='']:sizzle")}catch(r){i=!0}f.matchesSelector=function(e,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!f.isXML(e))try{if(i||!h.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=t.call(e,r);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(a){}return f(r,null,null,[e]).length>0}}}(),function(){var e=R.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;h.order.splice(1,0,"CLASS"),h.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null}}(),f.contains=R.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:R.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},f.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var w=function(e,t,n){for(var i,r=[],o="",a=t.nodeType?[t]:t;i=h.match.PSEUDO.exec(e);)o+=i[0],e=e.replace(h.match.PSEUDO,"");e=h.relative[e]?e+"*":e;for(var s=0,l=a.length;l>s;s++)f(e,a[s],r,n);return f.filter(o,r)};f.attr=M.attr,f.selectors.attrMap={},M.find=f,M.expr=f.selectors,M.expr[":"]=M.expr.filters,M.unique=f.uniqueSort,M.text=f.getText,M.isXMLDoc=f.isXML,M.contains=f.contains}();var lt=/Until$/,ct=/^(?:parents|prevUntil|prevAll)/,ut=/,/,dt=/^.[^:#\[\.,]*$/,ft=Array.prototype.slice,pt=M.expr.match.POS,ht={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return M(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(M.contains(i[t],this))return!0});var r,o,a,s=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(r=s.length,M.find(e,this[t],s),t>0)for(o=r;o<s.length;o++)for(a=0;r>a;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t=M(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(M.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(T(this,e,!1),"not",e)},filter:function(e){return this.pushStack(T(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?pt.test(e)?M(e,this.context).index(this[0])>=0:M.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,r=[],o=this[0];if(M.isArray(e)){for(var a=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)M(o).is(e[n])&&r.push({selector:e[n],elem:o,level:a});o=o.parentNode,a++}return r}var s=pt.test(e)||"string"!=typeof e?M(e,t||this.context):0;for(n=0,i=this.length;i>n;n++)for(o=this[n];o;){if(s?s.index(o)>-1:M.find.matchesSelector(o,e)){r.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return r=r.length>1?M.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?M.inArray(this[0],M(e)):M.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?M(e,t):M.makeArray(e&&e.nodeType?[e]:e),i=M.merge(this.get(),n);return this.pushStack(N(n[0])||N(i[0])?i:M.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),M.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M.dir(e,"parentNode")},parentsUntil:function(e,t,n){return M.dir(e,"parentNode",n)},next:function(e){return M.nth(e,2,"nextSibling")},prev:function(e){return M.nth(e,2,"previousSibling")},nextAll:function(e){return M.dir(e,"nextSibling")},prevAll:function(e){return M.dir(e,"previousSibling")},nextUntil:function(e,t,n){return M.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return M.dir(e,"previousSibling",n)},siblings:function(e){return M.sibling(e.parentNode.firstChild,e)},children:function(e){return M.sibling(e.firstChild)},contents:function(e){return M.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:M.makeArray(e.childNodes)}},function(e,t){M.fn[e]=function(n,i){var r=M.map(this,t,n);return lt.test(e)||(i=n),i&&"string"==typeof i&&(r=M.filter(i,r)),r=this.length>1&&!ht[e]?M.unique(r):r,(this.length>1||ut.test(i))&&ct.test(e)&&(r=r.reverse()),this.pushStack(r,e,ft.call(arguments).join(","))}}),M.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?M.find.matchesSelector(t[0],e)?[t[0]]:[]:M.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!M(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},nth:function(e,t,n){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var mt="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,vt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,Ct=/<tbody/i,xt=/<|&#?\w+;/,wt=/<(?:script|style)/i,Et=/<(?:script|object|embed|option|style)/i,_t=new RegExp("<(?:"+mt+")","i"),Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/\/(java|ecma)script/i,kt=/^\s*<!(?:\[CDATA\[|\-\-)/,St={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Dt=_(R);St.optgroup=St.option,St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,M.support.htmlSerialize||(St._default=[1,"div<div>","</div>"]),M.fn.extend({text:function(e){return M.isFunction(e)?this.each(function(t){var n=M(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||R).createTextNode(e)):M.text(this)},wrapAll:function(e){if(M.isFunction(e))return this.each(function(t){M(this).wrapAll(e.call(this,t))});if(this[0]){var t=M(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return M.isFunction(e)?this.each(function(t){M(this).wrapInner(e.call(this,t))}):this.each(function(){var t=M(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=M.isFunction(e);return this.each(function(n){M(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){M.nodeName(this,"body")||M(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=M.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,M.clean(arguments)),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||M.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(M.cleanData(n.getElementsByTagName("*")),M.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&M.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return M.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(gt,""):null;if("string"!=typeof e||wt.test(e)||!M.support.leadingWhitespace&&vt.test(e)||St[(bt.exec(e)||["",""])[1].toLowerCase()])M.isFunction(e)?this.each(function(t){var n=M(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(yt,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)1===this[n].nodeType&&(M.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(r){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?M.isFunction(e)?this.each(function(t){var n=M(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=M(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;M(this).remove(),t?M(t).before(e):M(n).append(e)
})):this.length?this.pushStack(M(M.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,a,s,l=e[0],c=[];if(!M.support.checkClone&&3===arguments.length&&"string"==typeof l&&Tt.test(l))return this.each(function(){M(this).domManip(e,n,i,!0)});if(M.isFunction(l))return this.each(function(r){var o=M(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(s=l&&l.parentNode,r=M.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:M.buildFragment(e,this,c),a=r.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild,o){n=n&&M.nodeName(o,"tr");for(var u=0,d=this.length,f=d-1;d>u;u++)i.call(n?E(this[u],o):this[u],r.cacheable||d>1&&f>u?M.clone(a,!0,!0):a)}c.length&&M.each(c,g)}return this}}),M.buildFragment=function(e,t,n){var i,r,o,a,s=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=R),1===e.length&&"string"==typeof s&&s.length<512&&a===R&&"<"===s.charAt(0)&&!Et.test(s)&&(M.support.checkClone||!Tt.test(s))&&(M.support.html5Clone||!_t.test(s))&&(r=!0,o=M.fragments[s],o&&1!==o&&(i=o)),i||(i=a.createDocumentFragment(),M.clean(e,a,i,n)),r&&(M.fragments[s]=o?i:1),{fragment:i,cacheable:r}},M.fragments={},M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){M.fn[e]=function(n){var i=[],r=M(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===r.length)return r[t](this[0]),this;for(var a=0,s=r.length;s>a;a++){var l=(a>0?this.clone(!0):this).get();M(r[a])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),M.extend({clone:function(e,t,n){var i,r,o,a=M.support.html5Clone||!_t.test("<"+e.nodeName)?e.cloneNode(!0):v(e);if(!(M.support.noCloneEvent&&M.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||M.isXMLDoc(e)))for(x(e,a),i=C(e),r=C(a),o=0;i[o];++o)r[o]&&x(i[o],r[o]);if(t&&(w(e,a),n))for(i=C(e),r=C(a),o=0;i[o];++o)w(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r;t=t||R,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||R);for(var o,a,s=[],l=0;null!=(a=e[l]);l++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(xt.test(a)){a=a.replace(yt,"<$1></$2>");var c=(bt.exec(a)||["",""])[1].toLowerCase(),u=St[c]||St._default,d=u[0],f=t.createElement("div");for(t===R?Dt.appendChild(f):_(t).appendChild(f),f.innerHTML=u[1]+a+u[2];d--;)f=f.lastChild;if(!M.support.tbody){var p=Ct.test(a),h="table"!==c||p?"<table>"!==u[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes;for(o=h.length-1;o>=0;--o)M.nodeName(h[o],"tbody")&&!h[o].childNodes.length&&h[o].parentNode.removeChild(h[o])}!M.support.leadingWhitespace&&vt.test(a)&&f.insertBefore(t.createTextNode(vt.exec(a)[0]),f.firstChild),a=f.childNodes}else a=t.createTextNode(a);var m;if(!M.support.appendChecked)if(a[0]&&"number"==typeof(m=a.length))for(o=0;m>o;o++)y(a[o]);else y(a);a.nodeType?s.push(a):s=M.merge(s,a)}if(n)for(r=function(e){return!e.type||Nt.test(e.type)},l=0;s[l];l++)if(!i||!M.nodeName(s[l],"script")||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()){if(1===s[l].nodeType){var g=M.grep(s[l].getElementsByTagName("script"),r);s.splice.apply(s,[l+1,0].concat(g))}n.appendChild(s[l])}else i.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);return s},cleanData:function(e){for(var t,n,i,r=M.cache,o=M.event.special,a=M.support.deleteExpando,s=0;null!=(i=e[s]);s++)if((!i.nodeName||!M.noData[i.nodeName.toLowerCase()])&&(n=i[M.expando])){if(t=r[n],t&&t.events){for(var l in t.events)o[l]?M.event.remove(i,l):M.removeEvent(i,l,t.handle);t.handle&&(t.handle.elem=null)}a?delete i[M.expando]:i.removeAttribute&&i.removeAttribute(M.expando),delete r[n]}}});var At,Bt,Ft,Rt=/alpha\([^)]*\)/i,Lt=/opacity=([^)]*)/,Ht=/([A-Z]|^ms)/g,Mt=/^-?\d+(?:px)?$/i,Pt=/^-?\d/,Ot=/^([\-+])=([\-+.\de]+)/,It={position:"absolute",visibility:"hidden",display:"block"},$t=["Left","Right"],jt=["Top","Bottom"];M.fn.css=function(e,n){return 2===arguments.length&&n===t?this:M.access(this,e,n,!0,function(e,n,i){return i!==t?M.style(e,n,i):M.css(e,n)})},M.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=At(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":M.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s=M.camelCase(n),l=e.style,c=M.cssHooks[s];if(n=M.cssProps[s]||s,i===t)return c&&"get"in c&&(o=c.get(e,!1,r))!==t?o:l[n];if(a=typeof i,"string"===a&&(o=Ot.exec(i))&&(i=+(o[1]+1)*+o[2]+parseFloat(M.css(e,n)),a="number"),null==i||"number"===a&&isNaN(i))return;if("number"===a&&!M.cssNumber[s]&&(i+="px"),!(c&&"set"in c&&(i=c.set(e,i))===t))try{l[n]=i}catch(u){}}},css:function(e,n,i){var r,o;return n=M.camelCase(n),o=M.cssHooks[n],n=M.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(r=o.get(e,!0,i))!==t?r:At?At(e,n):void 0},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(r in t)e.style[r]=i[r]}}),M.curCSS=M.css,M.each(["height","width"],function(e,t){M.cssHooks[t]={get:function(e,n,i){var r;return n?0!==e.offsetWidth?m(e,t,i):(M.swap(e,It,function(){r=m(e,t,i)}),r):void 0},set:function(e,t){return Mt.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),M.support.opacity||(M.cssHooks.opacity={get:function(e,t){return Lt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=M.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===M.trim(o.replace(Rt,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=Rt.test(o)?o.replace(Rt,r):o+" "+r)}}),M(function(){M.support.reliableMarginRight||(M.cssHooks.marginRight={get:function(e,t){var n;return M.swap(e,{display:"inline-block"},function(){n=t?At(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),R.defaultView&&R.defaultView.getComputedStyle&&(Bt=function(e,t){var n,i,r;return t=t.replace(Ht,"-$1").toLowerCase(),(i=e.ownerDocument.defaultView)&&(r=i.getComputedStyle(e,null))&&(n=r.getPropertyValue(t),""===n&&!M.contains(e.ownerDocument.documentElement,e)&&(n=M.style(e,t))),n}),R.documentElement.currentStyle&&(Ft=function(e,t){var n,i,r,o=e.currentStyle&&e.currentStyle[t],a=e.style;return null===o&&a&&(r=a[t])&&(o=r),!Mt.test(o)&&Pt.test(o)&&(n=a.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o||0,o=a.pixelLeft+"px",a.left=n,i&&(e.runtimeStyle.left=i)),""===o?"auto":o}),At=Bt||Ft,M.expr&&M.expr.filters&&(M.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!M.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||M.css(e,"display"))},M.expr.filters.visible=function(e){return!M.expr.filters.hidden(e)});var Wt,zt,qt=/%20/g,Ut=/\[\]$/,Vt=/\r?\n/g,Xt=/#.*$/,Kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Qt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Jt=/^\/\//,Zt=/\?/,en=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tn=/^(?:select|textarea)/i,nn=/\s+/,rn=/([?&])_=[^&]*/,on=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,an=M.fn.load,sn={},ln={},cn=["*/"]+["*"];try{Wt=H.href}catch(un){Wt=R.createElement("a"),Wt.href="",Wt=Wt.href}zt=on.exec(Wt.toLowerCase())||[],M.fn.extend({load:function(e,n,i){if("string"!=typeof e&&an)return an.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var o=e.slice(r,e.length);e=e.slice(0,r)}var a="GET";n&&(M.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=M.param(n,M.ajaxSettings.traditional),a="POST"));var s=this;return M.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),s.html(o?M("<div>").append(n.replace(en,"")).find(o):n)),i&&s.each(i,[n,t,e])}}),this},serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?M.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tn.test(this.nodeName)||Gt.test(this.type))}).map(function(e,t){var n=M(this).val();return null==n?null:M.isArray(n)?M.map(n,function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}}):{name:t.name,value:n.replace(Vt,"\r\n")}}).get()}}),M.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){M.fn[t]=function(e){return this.on(t,e)}}),M.each(["get","post"],function(e,n){M[n]=function(e,i,r,o){return M.isFunction(i)&&(o=o||r,r=i,i=t),M.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),M.extend({getScript:function(e,n){return M.get(e,t,n,"script")},getJSON:function(e,t,n){return M.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?f(e,M.ajaxSettings):(t=e,e=M.ajaxSettings),f(e,t),e},ajaxSettings:{url:Wt,isLocal:Qt.test(zt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":M.parseJSON,"text xml":M.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:h(sn),ajaxTransport:h(ln),ajax:function(e,n){function i(e,n,i,a){if(2!==E){E=2,l&&clearTimeout(l),s=t,o=a||"",_.readyState=e>0?4:0;var d,p,h,x,w,T=n,N=i?u(m,_,i):t;if(e>=200&&300>e||304===e)if(m.ifModified&&((x=_.getResponseHeader("Last-Modified"))&&(M.lastModified[r]=x),(w=_.getResponseHeader("Etag"))&&(M.etag[r]=w)),304===e)T="notmodified",d=!0;else try{p=c(m,N),T="success",d=!0}catch(k){T="parsererror",h=k}else h=T,(!T||e)&&(T="error",0>e&&(e=0));_.status=e,_.statusText=""+(n||T),d?y.resolveWith(g,[p,T,_]):y.rejectWith(g,[_,T,h]),_.statusCode(C),C=t,f&&v.trigger("ajax"+(d?"Success":"Error"),[_,m,d?p:h]),b.fireWith(g,[_,T]),f&&(v.trigger("ajaxComplete",[_,m]),--M.active||M.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,d,f,h,m=M.ajaxSetup({},n),g=m.context||m,v=g!==m&&(g.nodeType||g instanceof M)?M(g):M.event,y=M.Deferred(),b=M.Callbacks("once memory"),C=m.statusCode||{},x={},w={},E=0,_={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,x[e]=t}return this},getAllResponseHeaders:function(){return 2===E?o:null},getResponseHeader:function(e){var n;if(2===E){if(!a)for(a={};n=Kt.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(m.mimeType=e),this},abort:function(e){return e=e||"abort",s&&s.abort(e),i(0,e),this}};if(y.promise(_),_.success=_.done,_.error=_.fail,_.complete=b.add,_.statusCode=function(e){if(e){var t;if(2>E)for(t in e)C[t]=[C[t],e[t]];else t=e[_.status],_.then(t,t)}return this},m.url=((e||m.url)+"").replace(Xt,"").replace(Jt,zt[1]+"//"),m.dataTypes=M.trim(m.dataType||"*").toLowerCase().split(nn),null==m.crossDomain&&(d=on.exec(m.url.toLowerCase()),m.crossDomain=!(!d||d[1]==zt[1]&&d[2]==zt[2]&&(d[3]||("http:"===d[1]?80:443))==(zt[3]||("http:"===zt[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=M.param(m.data,m.traditional)),p(sn,m,n,_),2===E)return!1;if(f=m.global,m.type=m.type.toUpperCase(),m.hasContent=!Yt.test(m.type),f&&0===M.active++&&M.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Zt.test(m.url)?"&":"?")+m.data,delete m.data),r=m.url,m.cache===!1)){var T=M.now(),N=m.url.replace(rn,"$1_="+T);m.url=N+(N===m.url?(Zt.test(m.url)?"&":"?")+"_="+T:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&_.setRequestHeader("Content-Type",m.contentType),m.ifModified&&(r=r||m.url,M.lastModified[r]&&_.setRequestHeader("If-Modified-Since",M.lastModified[r]),M.etag[r]&&_.setRequestHeader("If-None-Match",M.etag[r])),_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+cn+"; q=0.01":""):m.accepts["*"]);for(h in m.headers)_.setRequestHeader(h,m.headers[h]);if(m.beforeSend&&(m.beforeSend.call(g,_,m)===!1||2===E))return _.abort(),!1;for(h in{success:1,error:1,complete:1})_[h](m[h]);if(s=p(ln,m,n,_)){_.readyState=1,f&&v.trigger("ajaxSend",[_,m]),m.async&&m.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},m.timeout));try{E=1,s.send(x,i)}catch(k){if(!(2>E))throw k;i(-1,k)}}else i(-1,"No Transport");return _},param:function(e,n){var i=[],r=function(e,t){t=M.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=M.ajaxSettings.traditional),M.isArray(e)||e.jquery&&!M.isPlainObject(e))M.each(e,function(){r(this.name,this.value)});else for(var o in e)d(o,e[o],n,r);return i.join("&").replace(qt,"+")}}),M.extend({active:0,lastModified:{},etag:{}});var dn=M.now(),fn=/(\=)\?(&|$)|\?\?/i;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return M.expando+"_"+dn++}}),M.ajaxPrefilter("json jsonp",function(t,n,i){var r="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(fn.test(t.url)||r&&fn.test(t.data))){var o,a=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s=e[a],l=t.url,c=t.data,u="$1"+a+"$2";return t.jsonp!==!1&&(l=l.replace(fn,u),t.url===l&&(r&&(c=c.replace(fn,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+a))),t.url=l,t.data=c,e[a]=function(e){o=[e]},i.always(function(){e[a]=s,o&&M.isFunction(s)&&e[a](o[0])}),t.converters["script json"]=function(){return o||M.error(a+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return M.globalEval(e),e}}}),M.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),M.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=R.head||R.getElementsByTagName("head")[0]||R.documentElement;return{send:function(r,o){n=R.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var pn,hn=e.ActiveXObject?function(){for(var e in pn)pn[e](0,1)}:!1,mn=0;M.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&l()||s()}:l,function(e){M.extend(M.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(M.ajaxSettings.xhr()),M.support.ajax&&M.ajaxTransport(function(n){if(!n.crossDomain||M.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,d,f;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=M.noop,hn&&delete pn[a]),r)4!==l.readyState&&l.abort();else{s=l.status,u=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f),d.text=l.responseText;try{c=l.statusText}catch(p){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(h){r||o(-1,h)}d&&o(s,c,d,u)},n.async&&4!==l.readyState?(a=++mn,hn&&(pn||(pn={},M(e).unload(hn)),pn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var gn,vn,yn,bn,Cn={},xn=/^(?:toggle|show|hide)$/,wn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,En=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];M.fn.extend({show:function(e,t,n){var o,a;if(e||0===e)return this.animate(r("show",3),e,t,n);for(var s=0,l=this.length;l>s;s++)o=this[s],o.style&&(a=o.style.display,!M._data(o,"olddisplay")&&"none"===a&&(a=o.style.display=""),""===a&&"none"===M.css(o,"display")&&M._data(o,"olddisplay",i(o.nodeName)));for(s=0;l>s;s++)o=this[s],o.style&&(a=o.style.display,(""===a||"none"===a)&&(o.style.display=M._data(o,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(r("hide",3),e,t,n);for(var i,o,a=0,s=this.length;s>a;a++)i=this[a],i.style&&(o=M.css(i,"display"),"none"!==o&&!M._data(i,"olddisplay")&&M._data(i,"olddisplay",o));for(a=0;s>a;a++)this[a].style&&(this[a].style.display="none");return this},_toggle:M.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return M.isFunction(e)&&M.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:M(this).is(":hidden");M(this)[t?"show":"hide"]()}):this.animate(r("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,r){function o(){a.queue===!1&&M._mark(this);var t,n,r,o,s,l,c,u,d,f=M.extend({},a),p=1===this.nodeType,h=p&&M(this).is(":hidden");f.animatedProperties={};for(r in e){if(t=M.camelCase(r),r!==t&&(e[t]=e[r],delete e[r]),n=e[t],M.isArray(n)?(f.animatedProperties[t]=n[1],n=e[t]=n[0]):f.animatedProperties[t]=f.specialEasing&&f.specialEasing[t]||f.easing||"swing","hide"===n&&h||"show"===n&&!h)return f.complete.call(this);p&&("height"===t||"width"===t)&&(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===M.css(this,"display")&&"none"===M.css(this,"float")&&(M.support.inlineBlockNeedsLayout&&"inline"!==i(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(r in e)o=new M.fx(this,f,r),n=e[r],xn.test(n)?(d=M._data(this,"toggle"+r)||("toggle"===n?h?"show":"hide":0),d?(M._data(this,"toggle"+r,"show"===d?"hide":"show"),o[d]()):o[n]()):(s=wn.exec(n),l=o.cur(),s?(c=parseFloat(s[2]),u=s[3]||(M.cssNumber[r]?"":"px"),"px"!==u&&(M.style(this,r,(c||1)+u),l=(c||1)/o.cur()*l,M.style(this,r,l+u)),s[1]&&(c=("-="===s[1]?-1:1)*c+l),o.custom(l,c,u)):o.custom(l,n,""));return!0}var a=M.speed(t,n,r);return M.isEmptyObject(e)?this.each(a.complete,[!1]):(e=M.extend({},e),a.queue===!1?this.each(o):this.queue(a.queue,o))},stop:function(e,n,i){return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var r=t[n];M.removeData(e,n,!0),r.stop(i)}var n,r=!1,o=M.timers,a=M._data(this);if(i||M._unmark(!0,this),null==e)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&t(this,a,n);else a[n=e+".run"]&&a[n].stop&&t(this,a,n);for(n=o.length;n--;)o[n].elem===this&&(null==e||o[n].queue===e)&&(i?o[n](!0):o[n].saveState(),r=!0,o.splice(n,1));(!i||!r)&&M.dequeue(this,e)})}}),M.each({slideDown:r("show",1),slideUp:r("hide",1),slideToggle:r("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){M.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),M.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?M.extend({},e):{complete:n||!n&&t||M.isFunction(e)&&e,duration:e,easing:n&&t||t&&!M.isFunction(t)&&t};return i.duration=M.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in M.fx.speeds?M.fx.speeds[i.duration]:M.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(e){M.isFunction(i.old)&&i.old.call(this),i.queue?M.dequeue(this,i.queue):e!==!1&&M._unmark(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),M.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(M.fx.step[this.prop]||M.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=M.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,i){function r(e){return o.step(e)}var o=this,s=M.fx;this.startTime=bn||a(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(M.cssNumber[this.prop]?"":"px"),r.queue=this.options.queue,r.elem=this.elem,r.saveState=function(){o.options.hide&&M._data(o.elem,"fxshow"+o.prop)===t&&M._data(o.elem,"fxshow"+o.prop,o.start)},r()&&M.timers.push(r)&&!yn&&(yn=setInterval(s.tick,s.interval))},show:function(){var e=M._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||M.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),M(this.elem).show()},hide:function(){this.options.orig[this.prop]=M._data(this.elem,"fxshow"+this.prop)||M.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,r=bn||a(),o=!0,s=this.elem,l=this.options;if(e||r>=l.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),l.animatedProperties[this.prop]=!0;for(t in l.animatedProperties)l.animatedProperties[t]!==!0&&(o=!1);if(o){if(null!=l.overflow&&!M.support.shrinkWrapBlocks&&M.each(["","X","Y"],function(e,t){s.style["overflow"+t]=l.overflow[e]}),l.hide&&M(s).hide(),l.hide||l.show)for(t in l.animatedProperties)M.style(s,t,l.orig[t]),M.removeData(s,"fxshow"+t,!0),M.removeData(s,"toggle"+t,!0);i=l.complete,i&&(l.complete=!1,i.call(s))}return!1}return 1/0==l.duration?this.now=r:(n=r-this.startTime,this.state=n/l.duration,this.pos=M.easing[l.animatedProperties[this.prop]](this.state,n,0,1,l.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},M.extend(M.fx,{tick:function(){for(var e,t=M.timers,n=0;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||M.fx.stop()},interval:13,stop:function(){clearInterval(yn),yn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){M.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),M.each(["width","height"],function(e,t){M.fx.step[t]=function(e){M.style(e.elem,t,Math.max(0,e.now)+e.unit)}}),M.expr&&M.expr.filters&&(M.expr.filters.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length});var _n=/^t(?:able|d|h)$/i,Tn=/^(?:body|html)$/i;M.fn.offset="getBoundingClientRect"in R.documentElement?function(e){var t,i=this[0];if(e)return this.each(function(t){M.offset.setOffset(this,e,t)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return M.offset.bodyOffset(i);try{t=i.getBoundingClientRect()}catch(r){}var o=i.ownerDocument,a=o.documentElement;if(!t||!M.contains(a,i))return t?{top:t.top,left:t.left}:{top:0,left:0};var s=o.body,l=n(o),c=a.clientTop||s.clientTop||0,u=a.clientLeft||s.clientLeft||0,d=l.pageYOffset||M.support.boxModel&&a.scrollTop||s.scrollTop,f=l.pageXOffset||M.support.boxModel&&a.scrollLeft||s.scrollLeft,p=t.top+d-c,h=t.left+f-u;return{top:p,left:h}}:function(e){var t=this[0];if(e)return this.each(function(t){M.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return M.offset.bodyOffset(t);for(var n,i=t.offsetParent,r=t,o=t.ownerDocument,a=o.documentElement,s=o.body,l=o.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==s&&t!==a&&(!M.support.fixedPosition||"fixed"!==c.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===i&&(u+=t.offsetTop,d+=t.offsetLeft,M.support.doesNotAddBorder&&(!M.support.doesAddBorderForTableAndCells||!_n.test(t.nodeName))&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),r=i,i=t.offsetParent),M.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(u+=s.offsetTop,d+=s.offsetLeft),M.support.fixedPosition&&"fixed"===c.position&&(u+=Math.max(a.scrollTop,s.scrollTop),d+=Math.max(a.scrollLeft,s.scrollLeft)),{top:u,left:d}},M.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return M.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(M.css(e,"marginTop"))||0,n+=parseFloat(M.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=M.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=M(e),s=a.offset(),l=M.css(e,"top"),c=M.css(e,"left"),u=("absolute"===i||"fixed"===i)&&M.inArray("auto",[l,c])>-1,d={},f={};u?(f=a.position(),r=f.top,o=f.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),M.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},M.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=Tn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(M.css(e,"marginTop"))||0,n.left-=parseFloat(M.css(e,"marginLeft"))||0,i.top+=parseFloat(M.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(M.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||R.body;e&&!Tn.test(e.nodeName)&&"static"===M.css(e,"position");)e=e.offsetParent;return e})}}),M.each(["Left","Top"],function(e,i){var r="scroll"+i;M.fn[r]=function(i){var o,a;return i===t?(o=this[0])?(a=n(o),a?"pageXOffset"in a?a[e?"pageYOffset":"pageXOffset"]:M.support.boxModel&&a.document.documentElement[r]||a.document.body[r]:o[r]):null:this.each(function(){a=n(this),a?a.scrollTo(e?M(a).scrollLeft():i,e?i:M(a).scrollTop()):this[r]=i})}}),M.each(["Height","Width"],function(e,n){var i=n.toLowerCase();M.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(M.css(e,i,"padding")):this[i]():null},M.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(M.css(t,i,e?"margin":"border")):this[i]():null},M.fn[i]=function(e){var r=this[0];if(!r)return null==e?null:this;if(M.isFunction(e))return this.each(function(t){var n=M(this);n[i](e.call(this,t,n[i]()))});if(M.isWindow(r)){var o=r.document.documentElement["client"+n],a=r.document.body;return"CSS1Compat"===r.document.compatMode&&o||a&&a["client"+n]||o}if(9===r.nodeType)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var s=M.css(r,i),l=parseFloat(s);return M.isNumeric(l)?l:s}return this.css(i,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=M,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return M})}(window),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,u,d;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var f=i.data("ujs:submit-button");f&&(a.push(f),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);d={type:r||"GET",data:a,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),o&&(d.url=o);var p=n.ajax(d);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&s!==t&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,a=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(!(!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||a))return!0;var s=n.handleRemote(r);return s===!1?n.enableElement(r):s.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),s=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(o){if(s){setTimeout(function(){n.disableFormElements(r)
},13);var l=n.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(){!function(e){return e.attachinary={index:0,config:{disableWith:"Uploading...",indicateProgress:!0,invalidFormatMessage:"Invalid file format",template:'<ul>\n  <% for(var i=0; i<files.length; i++){ %>\n    <li>\n      <img\n        src="<%= $.cloudinary.url(files[i].public_id, { "version": files[i].version, "format": \'jpg\', "crop": \'fill\', "width": 75, "height": 75 }) %>"\n        alt="" width="75" height="75" />\n      <a href="#" data-remove="<%= files[i].public_id %>">Remove</a>\n    </li>\n  <% } %>\n</ul>',render:function(t){return e.attachinary.Templating.template(this.template,{files:t})}}},e.fn.attachinary=function(t){var n;return n=e.extend({},e.attachinary.config,t),this.each(function(){var t;return t=e(this),t.data("attachinary-bond")?void 0:t.data("attachinary-bond",new e.attachinary.Attachinary(t,n))})},e.attachinary.Attachinary=function(){function t(e,t){this.$input=e,this.config=t,this.options=this.$input.data("attachinary"),this.files=this.options.files,this.$form=this.$input.closest("form"),this.$submit=this.$form.find("input[type=submit]"),this.initFileUpload(),this.addFilesContainer(),this.bindEventHandlers(),this.redraw(),this.checkMaximum()}return t.prototype.initFileUpload=function(){var e;return this.options.field_name=this.$input.attr("name"),e={dataType:"json",paramName:"file",headers:{"X-Requested-With":"XMLHttpRequest"},dropZone:this.config.dropZone||this.$input,sequentialUploads:!0},this.$input.attr("accept")&&(e.acceptFileTypes=new RegExp("^"+this.$input.attr("accept").split(",").join("|")+"$","i")),this.$input.fileupload(e)},t.prototype.bindEventHandlers=function(){var t=this;return this.$input.bind("fileuploadsend",function(){return t.$input.addClass("uploading"),t.$form.addClass("uploading"),t.$input.prop("disabled",!0),t.config.disableWith&&(t.$submit.each(function(t,n){var i;return i=e(n),i.data("old-val",i.val())}),t.$submit.val(t.config.disableWith),t.$submit.prop("disabled",!0)),!t.maximumReached()}),this.$input.bind("fileuploaddone",function(e,n){return t.addFile(n.result)}),this.$input.bind("fileuploadstart",function(n){return t.$input=e(n.target)}),this.$input.bind("fileuploadalways",function(){return t.$input.removeClass("uploading"),t.$form.removeClass("uploading"),t.checkMaximum(),t.config.disableWith?(t.$submit.each(function(t,n){var i;return i=e(n),i.val(i.data("old-val"))}),t.$submit.prop("disabled",!1)):void 0}),this.$input.bind("fileuploadprogressall",function(e,n){var i;return i=parseInt(100*(n.loaded/n.total),10),t.config.disableWith&&t.config.indicateProgress?t.$submit.val("["+i+"%] "+t.config.disableWith):void 0})},t.prototype.addFile=function(t){return this.options.accept&&-1===e.inArray(t.format,this.options.accept)?alert(this.config.invalidFormatMessage):(this.files.push(t),this.redraw(),this.checkMaximum(),this.$input.trigger("attachinary:fileadded",[t]))},t.prototype.removeFile=function(e){var t,n,i,r,o,a;for(i=[],n=null,a=this.files,r=0,o=a.length;o>r;r++)t=a[r],t.public_id===e?n=t:i.push(t);return this.files=i,this.redraw(),this.checkMaximum(),this.$input.trigger("attachinary:fileremoved",[n])},t.prototype.checkMaximum=function(){return this.maximumReached()?this.$input.prop("disabled",!0):this.$input.prop("disabled",!1)},t.prototype.maximumReached=function(){return this.options.maximum&&this.files.length>=this.options.maximum},t.prototype.addFilesContainer=function(){return this.$filesContainer=e('<div class="attachinary_container">'),this.$input.after(this.$filesContainer)},t.prototype.redraw=function(){var t=this;return this.$filesContainer.empty(),this.files.length>0?(this.$filesContainer.append(this.makeHiddenField(JSON.stringify(this.files))),this.$filesContainer.append(this.config.render(this.files)),this.$filesContainer.find("[data-remove]").on("click",function(n){return n.preventDefault(),t.removeFile(e(n.target).data("remove"))}),this.$filesContainer.show()):(this.$filesContainer.append(this.makeHiddenField(null)),this.$filesContainer.hide())},t.prototype.makeHiddenField=function(t){var n;return n=e('<input type="hidden">'),n.attr("name",this.options.field_name),n.val(t),n},t}(),e.attachinary.Templating={settings:{start:"<%",end:"%>",interpolate:/<%=(.+?)%>/g},escapeRegExp:function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},template:function(e,t){var n,i,r;return n=this.settings,i=new RegExp("'(?=[^"+n.end.substr(0,1)+"]*"+this.escapeRegExp(n.end)+")","g"),r=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj||{}){p.push('"+e.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(i,"").split("'").join("\\'").split("").join("'").replace(n.interpolate,"',$1,'").split(n.start).join("');").split(n.end).join("p.push('")+"');}return p.join('');"),t?r(t):r}}}(jQuery)}.call(this),/* ==========================================================
 * bootstrap-carousel.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),i=n.parent().children(),r=i.index(n),o=this;if(!(t>i.length-1||0>t))return this.sliding?this.$element.one("slid",function(){o.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(i[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),o=this.interval,a="next"==t?"left":"right",s="next"==t?"first":"last",l=this,c=e.Event("slide",{relatedTarget:r[0]});if(this.sliding=!0,o&&this.pause(),r=r.length?r:this.$element.find(".item")[s](),!r.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,i.addClass(a),r.addClass(a),this.$element.one(e.support.transition.end,function(){r.removeClass([t,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=!r.data("modal")&&e.extend({},r.data(),i.data());r.carousel(o),t.preventDefault()})})}(window.jQuery),/* ===================================================
 * bootstrap-transition.js v2.1.0
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(e.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),o.focus(),!1},keydown:function(t){var r,o,a,s,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(a=n(r),s=a.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&a.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,a,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&e.support.transition&&o.hasClass("fade");a?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),function(){}.call(this),/**
 * jCarouselLite - jQuery plugin to navigate images/any content in a carousel style widget.
 * @requires jQuery v1.2 or above
 *
 * http://gmarwaha.com/jquery/jcarousellite/
 *
 * Copyright (c) 2007 Ganeshji Marwaha (gmarwaha.com)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Version: 1.0.1
 * Note: Requires jquery 1.2 or above from version 1.0.1
 */
function(e){function t(t,n){return parseInt(e.css(t[0],n))||0}function n(e){return e[0].offsetWidth+t(e,"marginLeft")+t(e,"marginRight")}function i(e){return e[0].offsetHeight+t(e,"marginTop")+t(e,"marginBottom")}e.fn.jCarouselLite=function(t){return t=e.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:!1,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:3,start:0,scroll:1,pauseOnHover:!1,beforeStart:null,afterEnd:null},t||{}),this.each(function(){function r(){return m.slice(v).slice(0,p)}function o(n){if(!a&&!h){if(t.beforeStart&&t.beforeStart.call(this,r()),t.circular)n<=t.start-p-1?(u.css(s,-((g-2*p)*y)+"px"),v=n==t.start-p-1?g-2*p-1:g-2*p-t.scroll):n>=g-p+1?(u.css(s,-(p*y)+"px"),v=n==g-p+1?p+1:p+t.scroll):v=n;else{if(0>n||n>g-p)return;v=n}a=!0,u.animate("left"==s?{left:-(v*y)}:{top:-(v*y)},t.speed,t.easing,function(){t.afterEnd&&t.afterEnd.call(this,r()),a=!1}),t.circular||(e(t.btnPrev+","+t.btnNext).removeClass("disabled"),e(v-t.scroll<0&&t.btnPrev||v+t.scroll>g-p&&t.btnNext||[]).addClass("disabled"))}return!1}var a=!1,s=t.vertical?"top":"left",l=t.vertical?"height":"width",c=e(this),u=e("ul",c),d=e("li",u),f=d.size(),p=t.visible,h=0;t.circular&&(u.prepend(d.slice(f-p-1+1).clone()).append(d.slice(0,p).clone()),t.start+=p),t.pauseOnHover?u.hover(function(){h=1},function(){h=0}):"";var m=e("li",u),g=m.size(),v=t.start;c.css("visibility","visible"),m.css({overflow:"hidden","float":t.vertical?"none":"left"}),u.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"}),c.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var y=t.vertical?i(m):n(m),b=y*g,C=y*p;m.css({width:m.width(),height:m.height()}),u.css(l,b+"px").css(s,-(v*y)),c.css(l,C+"px"),t.btnPrev&&e(t.btnPrev).click(function(){return o(v-t.scroll)}),t.btnNext&&e(t.btnNext).click(function(){return o(v+t.scroll)}),t.btnGo&&e.each(t.btnGo,function(n,i){e(i).click(function(){return o(t.circular?t.visible+n:n)})}),t.mouseWheel&&c.mousewheel&&c.mousewheel(function(e,n){return n>0?o(v-t.scroll):o(v+t.scroll)}),t.auto&&setInterval(function(){o(v+t.scroll)},t.auto+t.speed)})}}(jQuery),/*
 * Cloudinary's jQuery library - v1.0.7
 * Copyright Cloudinary
 * see https://github.com/cloudinary/cloudinary_js
 */
function(e){function t(e){if(null===e||"undefined"==typeof e)return"";var t,n,i=e+"",r="",o=0;t=n=0,o=i.length;for(var a=0;o>a;a++){var s=i.charCodeAt(a),l=null;128>s?n++:l=s>127&&2048>s?String.fromCharCode(192|s>>6,128|63&s):String.fromCharCode(224|s>>12,128|63&s>>6,128|63&s),null!==l&&(n>t&&(r+=i.slice(t,n)),r+=l,t=n=a+1)}return n>t&&(r+=i.slice(t,o)),r}function n(e){e=t(e);var n="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=0,r=0,o=0;i=-1^i;for(var a=0,s=e.length;s>a;a++)o=255&(i^e.charCodeAt(a)),r="0x"+n.substr(9*o,8),i=i>>>8^r;return i=-1^i,0>i&&(i+=4294967296),i}function i(e,t,n){var i=e[t];return delete e[t],"undefined"==typeof i?n:i}function r(t){return t?e.isArray(t)?t:[t]:[]}function o(e){return"undefined"!=typeof e&&(""+e).length>0}function a(t){var n=t.width,s=t.height,l=i(t,"size");if(l){var c=l.split("x");t.width=n=c[0],t.height=s=c[1]}var u=t.overlay||t.underlay,d=i(t,"crop"),f=r(i(t,"angle")).join("."),p=u||o(f)||"fit"==d||"limit"==d||"lfill"==d;n&&(p||parseFloat(n)<1)&&delete t.width,s&&(p||parseFloat(s)<1)&&delete t.height,d||u||(n=s=void 0);var h=i(t,"background");h=h&&h.replace(/^#/,"rgb:");var m=r(i(t,"transformation",[])),g=[];e.grep(m,function(e){return"object"==typeof e}).length>0?m=e.map(m,function(t){return"object"==typeof t?a(e.extend({},t)):a({transformation:t})}):(g=e.grep(m,function(){return null!=this&&""!=this}).join("."),m=[]);var v=i(t,"effect");e.isArray(v)&&(v=v.join(":"));var y=i(t,"border");if(e.isPlainObject(y)){var b=""+(y.width||2),C=(y.color||"black").replace(/^#/,"rgb:");y=b+"px_solid_"+C}var x=r(i(t,"flags")).join("."),w=[["c",d],["t",g],["w",n],["h",s],["b",h],["e",v],["a",f],["bo",y],["fl",x]],E={x:"x",y:"y",radius:"r",gravity:"g",quality:"q",prefix:"p",default_image:"d",underlay:"u",overlay:"l",fetch_format:"f",density:"dn",page:"pg",color_space:"cl",delay:"dl",opacity:"o"};for(var _ in E)w.push([E[_],i(t,_)]);w.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),w.push([i(t,"raw_transformation")]);var T=e.map(e.grep(w,function(e){var t=e[e.length-1];return o(t)}),function(e){return e.join("_")}).join(",");return m.push(T),e.grep(m,o).join("/")}function s(e){return p||(p=document.createElement("img")),p.src=e,e=p.src,p.src=null,e}function l(t,r){r=r||{};var l=i(r,"type","upload");"fetch"==l&&(r.fetch_format=r.fetch_format||i(r,"format"));var c=a(r),u=i(r,"resource_type","image"),p=i(r,"version"),h=i(r,"format"),m=i(r,"cloud_name",e.cloudinary.config().cloud_name);if(!m)throw"Unknown cloud_name";var g=i(r,"private_cdn",e.cloudinary.config().private_cdn),v=i(r,"secure_distribution",e.cloudinary.config().secure_distribution),y=i(r,"cname",e.cloudinary.config().cname),b=i(r,"cdn_subdomain",e.cloudinary.config().cdn_subdomain),C=i(r,"shorten",e.cloudinary.config().shorten),x=i(r,"secure","https:"==window.location.protocol);if(v=v||f,"fetch"==l&&(t=s(t)),t.match(/^https?:/)){if("upload"==l||"asset"==l)return t;t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/")}else h&&(t=t.replace(/\.(jpg|png|gif|webp)$/,"")+"."+h);var w="file:"==window.location.protocol?"file://":x?"https://":"http://";if(m.match(/^\//)&&!x)w="/res"+m;else{var E=b?"a"+(n(t)%5+1)+".":"";x?w+=v:(host=y||(g?m+"-res.cloudinary.com":"res.cloudinary.com"),w+=E+host),(!g||x&&v==d)&&(w+="/"+m)}C&&"image"==u&&"upload"==l&&(u="iu",l=void 0),t.search("/")>=0&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!o(p)&&(p=1);var _=[w,u,l,c,p?"v"+p:"",t].join("/").replace(/([^:])\/+/g,"$1/");return _}function c(e){var t=i(e,"html_width"),n=i(e,"html_height");t&&(e.width=t),n&&(e.height=n)}var u="d3jpl91pxevbkh.cloudfront.net",d="cloudinary-a.akamaihd.net",f=d,p=void 0,h=void 0;e.cloudinary={CF_SHARED_CDN:u,AKAMAI_SHARED_CDN:d,SHARED_CDN:f,config:function(t,n){if(h||(h={},e('meta[name^="cloudinary_"]').each(function(){h[e(this).attr("name").replace("cloudinary_","")]=e(this).attr("content")})),"undefined"!=typeof n)h[t]=n;else{if("string"==typeof t)return h[t];t&&(h=t)}return h},url:function(t,n){return n=e.extend({},n),l(t,n)},url_internal:l,transformation_string:function(t){return t=e.extend({},t),a(t)},image:function(t,n){n=e.extend({},n);var i=l(t,n);return c(n),e("<img/>").attr(n).attr("src",i)},facebook_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"facebook"},n))},twitter_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter"},n))},twitter_name_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter_name"},n))},gravatar_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"gravatar"},n))},fetch_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"fetch"},n))},sprite_css:function(t,n){return n=e.extend({type:"sprite"},n),t.match(/.css$/)||(n.format="css"),e.cloudinary.url(t,n)}},e.fn.cloudinary=function(t){return this.filter("img").each(function(){var n=e.extend({width:e(this).attr("width"),height:e(this).attr("height"),src:e(this).attr("src")},e.extend(e(this).data(),t)),r=i(n,"source",i(n,"src")),o=l(r,n);c(n),e(this).attr({src:o,width:n.width,height:n.height})}),this},e.fn.webpify=function(t,n){var i=this;if(t=t||{},n=n||t,!r){var r=e.Deferred(),o=new Image;o.onerror=r.reject,o.onload=r.resolve,o.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoBAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="}e(function(){r.done(function(){e(i).cloudinary(e.extend({},e.extend(n,{format:"webp"})))}).fail(function(){e(i).cloudinary(t)})})},e.fn.fetchify=function(t){return this.cloudinary(e.extend(t,{type:"fetch"}))}}(jQuery),function(e){e.fn.fileupload&&(e.fn.cloudinary_fileupload=function(t){var n=!this.data("blueimpFileupload");if(t=e.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t),this.fileupload(t),n&&(this.bind("fileuploaddone",function(t,n){if(!n.result.error){if(n.result.path=["v",n.result.version,"/",n.result.public_id,n.result.format?"."+n.result.format:""].join(""),n.cloudinaryField&&n.form.length>0){var i=[n.result.resource_type,n.result.type,n.result.path].join("/")+"#"+n.result.signature,r=e(n.form).find('input[name="'+n.cloudinaryField+'"]');r.length>0?r.val(i):e("<input></input>").attr({type:"hidden",name:n.cloudinaryField}).val(i).appendTo(n.form)}e(t.target).trigger("cloudinarydone",n)}}),!this.fileupload("option").url)){var i="https://api.cloudinary.com/v1_1/"+e.cloudinary.config().cloud_name+"/upload";this.fileupload("option","url",i)}return this},e.fn.cloudinary_upload_url=function(e){this.fileupload("option","formData").file=e,this.fileupload("add",{files:[e]}),delete this.fileupload("option","formData").file},e(function(){e("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()}))}(jQuery),/*
 * jQuery File Upload Plugin 5.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://creativecommons.org/licenses/MIT/
 */
function(e){"use strict";e.widget("blueimp.fileupload",{options:{namespace:void 0,dropZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["namespace","dropZone","fileInput"],_isXHRUpload:function(e){var t="undefined";return!(e.forceIframeTransport||typeof XMLHttpRequestUpload===t||typeof File===t||e.multipart&&typeof FormData===t)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n=t.total||this._getTotal(t.files),i=parseInt(e.loaded/e.total*(t.chunkSize||n),10)+(t.uploadedBytes||0);this._loaded+=i-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=i,t.total=n,this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total})}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&i.upload.addEventListener&&(i.upload.addEventListener("progress",function(e){n._onProgress(e,t)},!1),t.xhr=function(){return i})},_initXHRData:function(t){var n,i=t.files[0];(!t.multipart||t.blob)&&(t.headers=e.extend(t.headers,{"X-File-Name":i.name,"X-File-Type":i.type,"X-File-Size":i.size}),t.blob?t.multipart||(t.contentType="application/octet-stream",t.data=t.blob):(t.contentType=i.type,t.data=i)),t.multipart&&"undefined"!=typeof FormData&&(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(t.paramName,t.blob):e.each(t.files,function(e,i){i instanceof Blob&&n.append(t.paramName,i)}),t.data=n),t.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e)},_initDataSettings:function(e){this._isXHRUpload(e)?this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)):this._initIframeSettings(e)},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form"))),t.paramName||(t.paramName=t.fileInput.prop("name")||"files[]"),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&(t.type="POST")},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_chunkedUpload:function(t,n){var i,r,o,a,s=this,l=t.files[0],c=l.size,u=t.uploadedBytes=t.uploadedBytes||0,d=t.maxChunkSize||c,f=l.webkitSlice||l.mozSlice||l.slice;return this._isXHRUpload(t)&&f&&(u||c>d)&&!t.data?n?!0:u>=c?(l.error="uploadedBytes",this._getXHRPromise(!1)):(r=Math.ceil((c-u)/d),i=function(n){return n?i(n-=1).pipe(function(){var i=e.extend({},t);return i.blob=f.call(l,u+n*d,u+(n+1)*d),i.chunkSize=i.blob.size,s._initXHRData(i),s._initProgressListener(i),o=(e.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(){i.loaded||s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:i.chunkSize,total:i.chunkSize}),i),t.uploadedBytes=i.uploadedBytes+=i.chunkSize})}):s._getXHRPromise(!0)},a=i(r),a.abort=function(){return o.abort()},this._enhancePromise(a)):!1},_beforeSend:function(e,t){0===this._active&&this._trigger("start"),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,i,r){this._isXHRUpload(r)||this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:1,total:1}),r),r.result=t,r.textStatus=n,r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(e,t,n,i,r){this._active-=1,r.result=e,r.textStatus=t,r.jqXHR=n,r.errorThrown=i,this._trigger("always",null,r),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0)},_onSend:function(t,n){var i,r,o,a=this,s=a._getAJAXSettings(n),l=function(n,r){return a._sending+=1,i=i||(n!==!1&&a._trigger("send",t,s)!==!1&&(a._chunkedUpload(s)||e.ajax(s))||a._getXHRPromise(!1,s.context,r)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._sending-=1,n&&n.done?a._onAlways(e,t,n,void 0,s):a._onAlways(void 0,t,e,n,s),s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if(!i.isRejected()){i.resolve();break}i=a._slots.shift()}})};return this._beforeSend(t,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),o=r.pipe(l)):o=this._sequence=this._sequence.pipe(l,l),o.abort=function(){var e=[void 0,"abort","abort"];return i?i.abort():(r&&r.rejectWith(e),l(!1,e))},this._enhancePromise(o)):l()},_onAdd:function(t,n){var i,r=this,o=!0,a=e.extend({},this.options,n),s=n.files,l=a.limitMultiFileUploads;if((a.singleFileUploads||l)&&this._isXHRUpload(a)){if(!a.singleFileUploads&&l)for(s=[],i=0;i<n.files.length;i+=l)s.push(n.files.slice(i,i+l))}else s=[s];return e.each(s,function(i,a){var s=e.isArray(a)?a:[a],l=e.extend({},n,{files:s});return l.submit=function(){return r._onSend(t,l)},o=r._trigger("add",t,l)}),o},_normalizeFile:function(e,t){void 0===t.name&&void 0===t.size&&(t.name=t.fileName,t.size=t.fileSize)},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i})},_onChange:function(t){var n=t.data.fileupload,i={files:e.each(e.makeArray(t.target.files),n._normalizeFile),fileInput:e(t.target),form:e(t.target.form)};return i.files.length||(i.files=[{name:t.target.value.replace(/^.*\\/,"")}]),i.form.length?i.fileInput.data("blueimp.fileupload.form",i.form):i.form=i.fileInput.data("blueimp.fileupload.form"),n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)===!1||n._onAdd(t,i)===!1?!1:void 0},_onDrop:function(t){var n=t.data.fileupload,i=t.dataTransfer=t.originalEvent.dataTransfer,r={files:e.each(e.makeArray(i&&i.files),n._normalizeFile)};return n._trigger("drop",t,r)===!1||n._onAdd(t,r)===!1?!1:(t.preventDefault(),void 0)},_onDragOver:function(e){var t=e.data.fileupload,n=e.dataTransfer=e.originalEvent.dataTransfer;return t._trigger("dragover",e)===!1?!1:(n&&(n.dropEffect=n.effectAllowed="copy"),e.preventDefault(),void 0)},_initEventHandlers:function(){var e=this.options.namespace||this.name;this.options.dropZone.bind("dragover."+e,{fileupload:this},this._onDragOver).bind("drop."+e,{fileupload:this},this._onDrop),this.options.fileInput.bind("change."+e,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var e=this.options.namespace||this.name;this.options.dropZone.unbind("dragover."+e,this._onDragOver).unbind("drop."+e,this._onDrop),this.options.fileInput.unbind("change."+e,this._onChange)},_beforeSetOption:function(){this._destroyEventHandlers()},_afterSetOption:function(){var t=this.options;t.fileInput||(t.fileInput=e()),t.dropZone||(t.dropZone=e()),this._initEventHandlers()},_setOption:function(t,n){var i=-1!==e.inArray(t,this._refreshOptionsList);i&&this._beforeSetOption(t,n),e.Widget.prototype._setOption.call(this,t,n),i&&this._afterSetOption(t,n)},_create:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is("input:file")?this.element:this.element.find("input:file"):t.fileInput||(t.fileInput=e()),t.dropZone||(t.dropZone=e()),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},destroy:function(){this._destroyEventHandlers(),e.Widget.prototype.destroy.call(this)},enable:function(){e.Widget.prototype.enable.call(this),this._initEventHandlers()},disable:function(){this._destroyEventHandlers(),e.Widget.prototype.disable.call(this)},add:function(t){t&&!this.options.disabled&&(t.files=e.each(e.makeArray(t.files),this._normalizeFile),this._onAdd(null,t))},send:function(t){return t&&!this.options.disabled&&(t.files=e.each(e.makeArray(t.files),this._normalizeFile),t.files.length)?this._onSend(null,t):this._getXHRPromise(!1,t&&t.context)}})}(jQuery),/*
 * jQuery Iframe Transport Plugin 1.2.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://creativecommons.org/licenses/MIT/
 */
function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if("POST"===n.type||"GET"===n.type){var i,r;return{send:function(o,a){i=e('<form style="display:none;"></form>'),r=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t;r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}a(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(){e(this).prop("name",n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo("body")},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(e){return e.text()},"iframe json":function(t){return e.parseJSON(t.text())},"iframe html":function(e){return e.find("body").html()},"iframe script":function(t){return e.globalEval(t.text())}}})}(jQuery),/*!
 * jQuery UI Widget @VERSION
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e){var t=e.fn.remove;e.fn.remove=function(){return e("*",this).add(this).each(function(){e(this).triggerHandler("remove")}),t.apply(this,arguments)},e.widget=function(t,n,i){var r,o=t.split(".")[0];t=t.split(".")[1],r=o+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var a=new n;a.options=e.extend({},a.options),e[o][t].prototype=e.extend(!0,a,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:r},i),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(t,n){e.fn[t]=function(i){var r="string"==typeof i,o=Array.prototype.slice.call(arguments,1),a=this;return i=!r&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,r&&"_"===i.substring(0,1)?a:(r?this.each(function(){var n=e.data(this,t),r=n&&e.isFunction(n[i])?n[i].apply(n,o):n;return r!==n&&void 0!==r?(a=r,!1):void 0}):this.each(function(){var r=e.data(this,t);r?(i&&r.option(i),r._init()):e.data(this,t,new n(i,this))}),a)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){this.element=e(n).data(this.widgetName,this),this.options=e.extend(!0,{},this.options,e.metadata&&e.metadata.get(n)[this.widgetName],t);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled")},widget:function(){return this.element},option:function(t,n){var i=t,r=this;if(0===arguments.length)return e.extend({},r.options);if("string"==typeof t){if(void 0===n)return this.options[t];i={},i[t]=n}return e.each(i,function(e,t){r._setOption(e,t)}),r},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+this.namespace+"-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,i){var r=this.options[t];if(n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i=i||{},n.originalEvent)for(var o,a=e.event.props.length;a;)o=e.event.props[--a],n[o]=n.originalEvent[o];return this.element.trigger(n,i),!(e.isFunction(r)&&r.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(jQuery),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),/*
 * Cloudinary's jQuery library - v1.0.6
 * Copyright Cloudinary
 * see https://github.com/cloudinary/cloudinary_js
 */
function(e){function t(e){if(null===e||"undefined"==typeof e)return"";var t,n,i=e+"",r="",o=0;t=n=0,o=i.length;for(var a=0;o>a;a++){var s=i.charCodeAt(a),l=null;128>s?n++:l=s>127&&2048>s?String.fromCharCode(192|s>>6,128|63&s):String.fromCharCode(224|s>>12,128|63&s>>6,128|63&s),null!==l&&(n>t&&(r+=i.slice(t,n)),r+=l,t=n=a+1)}return n>t&&(r+=i.slice(t,o)),r}function n(e){e=t(e);var n="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",i=0,r=0,o=0;i=-1^i;for(var a=0,s=e.length;s>a;a++)o=255&(i^e.charCodeAt(a)),r="0x"+n.substr(9*o,8),i=i>>>8^r;return i=-1^i,0>i&&(i+=4294967296),i}function i(e,t,n){var i=e[t];return delete e[t],"undefined"==typeof i?n:i}function r(t){return t?e.isArray(t)?t:[t]:[]}function o(e){return"undefined"!=typeof e&&(""+e).length>0}function a(t){var n=t.width,s=t.height,l=i(t,"size");if(l){var c=l.split("x");t.width=n=c[0],t.height=s=c[1]}var u=t.overlay||t.underlay,d=i(t,"crop"),f=r(i(t,"angle")).join("."),p=u||o(f)||"fit"==d||"limit"==d||"lfill"==d;n&&(p||parseFloat(n)<1)&&delete t.width,s&&(p||parseFloat(s)<1)&&delete t.height,d||u||(n=s=void 0);var h=i(t,"background");h=h&&h.replace(/^#/,"rgb:");var m=r(i(t,"transformation",[])),g=[];e.grep(m,function(e){return"object"==typeof e}).length>0?m=e.map(m,function(t){return"object"==typeof t?a(e.extend({},t)):a({transformation:t})}):(g=e.grep(m,function(){return null!=this&&""!=this}).join("."),m=[]);var v=i(t,"effect");e.isArray(v)&&(v=v.join(":"));var y=i(t,"border");if(e.isPlainObject(y)){var b=""+(y.width||2),C=(y.color||"black").replace(/^#/,"rgb:");y=b+"px_solid_"+C}var x=r(i(t,"flags")).join("."),w=[["c",d],["t",g],["w",n],["h",s],["b",h],["e",v],["a",f],["bo",y],["fl",x]],E={x:"x",y:"y",radius:"r",gravity:"g",quality:"q",prefix:"p",default_image:"d",underlay:"u",overlay:"l",fetch_format:"f",density:"dn",page:"pg",color_space:"cl",delay:"dl",opacity:"o"};for(var _ in E)w.push([E[_],i(t,_)]);w.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),w.push([i(t,"raw_transformation")]);var T=e.map(e.grep(w,function(e){var t=e[e.length-1];return o(t)}),function(e){return e.join("_")}).join(",");return m.push(T),e.grep(m,o).join("/")}function s(e){return p||(p=document.createElement("img")),p.src=e,e=p.src,p.src=null,e}function l(t,r){r=r||{};var l=i(r,"type","upload");"fetch"==l&&(r.fetch_format=r.fetch_format||i(r,"format"));var c=a(r),u=i(r,"resource_type","image"),p=i(r,"version"),h=i(r,"format"),m=i(r,"cloud_name",e.cloudinary.config().cloud_name);if(!m)throw"Unknown cloud_name";var g=i(r,"private_cdn",e.cloudinary.config().private_cdn),v=i(r,"secure_distribution",e.cloudinary.config().secure_distribution),y=i(r,"cname",e.cloudinary.config().cname),b=i(r,"cdn_subdomain",e.cloudinary.config().cdn_subdomain),C=i(r,"shorten",e.cloudinary.config().shorten),x=i(r,"secure","https:"==window.location.protocol);if(v=v||f,"fetch"==l&&(t=s(t)),t.match(/^https?:/)){if("upload"==l||"asset"==l)return t;t=encodeURIComponent(t).replace(/%3A/g,":").replace(/%2F/g,"/")}else h&&(t+="."+h);var w="file:"==window.location.protocol?"file://":x?"https://":"http://";if(m.match(/^\//)&&!x)w="/res"+m;else{var E=b?"a"+(n(t)%5+1)+".":"";x?w+=v:(host=y||(g?m+"-res.cloudinary.com":"res.cloudinary.com"),w+=E+host),(!g||x&&v==d)&&(w+="/"+m)}C&&"image"==u&&"upload"==l&&(u="iu",l=void 0),t.search("/")>=0&&!t.match(/^v[0-9]+/)&&!t.match(/^https?:\//)&&!o(p)&&(p=1);var _=[w,u,l,c,p?"v"+p:"",t].join("/").replace(/([^:])\/+/g,"$1/");return _}function c(e){var t=i(e,"html_width"),n=i(e,"html_height");t&&(e.width=t),n&&(e.height=n)}var u="d3jpl91pxevbkh.cloudfront.net",d="cloudinary-a.akamaihd.net",f=d,p=void 0,h=void 0;e.cloudinary={CF_SHARED_CDN:u,AKAMAI_SHARED_CDN:d,SHARED_CDN:f,config:function(t,n){if(h||(h={},e('meta[name^="cloudinary_"]').each(function(){h[e(this).attr("name").replace("cloudinary_","")]=e(this).attr("content")})),"undefined"!=typeof n)h[t]=n;else{if("string"==typeof t)return h[t];t&&(h=t)}return h},url:function(t,n){return n=e.extend({},n),l(t,n)},url_internal:l,transformation_string:function(t){return t=e.extend({},t),a(t)},image:function(t,n){n=e.extend({},n);var i=l(t,n);return c(n),e("<img/>").attr(n).attr("src",i)},facebook_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"facebook"},n))},twitter_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter"},n))},twitter_name_profile_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"twitter_name"},n))},gravatar_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"gravatar"},n))},fetch_image:function(t,n){return e.cloudinary.image(t,e.extend({type:"fetch"},n))}},e.fn.cloudinary=function(t){return this.filter("img").each(function(){var n=e.extend({width:e(this).attr("width"),height:e(this).attr("height"),src:e(this).attr("src")},e.extend(e(this).data(),t)),r=i(n,"source",i(n,"src")),o=l(r,n);c(n),e(this).attr({src:o,width:n.width,height:n.height})}),this},e.fn.fetchify=function(t){return this.cloudinary(e.extend(t,{type:"fetch"}))}}(jQuery),function(e){e.fn.fileupload&&(e.fn.cloudinary_fileupload=function(t){var n=!this.data("blueimpFileupload");if(t=e.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},t),this.fileupload(t),n&&(this.bind("fileuploaddone",function(t,n){if(!n.result.error){if(n.result.path=["v",n.result.version,"/",n.result.public_id,n.result.format?"."+n.result.format:""].join(""),n.cloudinaryField&&n.form.length>0){var i=[n.result.resource_type,n.result.type,n.result.path].join("/")+"#"+n.result.signature,r=e(n.form).find('input[name="'+n.cloudinaryField+'"]');r.length>0?r.val(i):e("<input></input>").attr({type:"hidden",name:n.cloudinaryField}).val(i).appendTo(n.form)}e(t.target).trigger("cloudinarydone",n)}}),!this.fileupload("option").url)){var i="https://api.cloudinary.com/v1_1/"+e.cloudinary.config().cloud_name+"/upload";this.fileupload("option","url",i)}return this},e.fn.cloudinary_upload_url=function(e){this.fileupload("option","formData").file=e,this.fileupload("add",{files:[e]}),delete this.fileupload("option","formData").file},e(function(){e("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()}))}(jQuery),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){for(var i=0;i<n.length;i++){for(var r=e,o=n[i],s=o.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=a[o]}}var a={};/**
 * EventUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/EventUtils",[],function(){function e(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function n(e,t){function n(){return!1}function i(){return!0}var r,o,l=t||{};for(r in e)s[r]||(l[r]=e[r]);if(l.target||(l.target=l.srcElement||document),e&&a.test(e.type)&&e.pageX===o&&e.clientX!==o){var c=l.target.ownerDocument||document,u=c.documentElement,d=c.body;l.pageX=e.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0),l.pageY=e.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=i,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=n,l.isPropagationStopped=n,l.isImmediatePropagationStopped=n),l}function i(n,i,r){function o(){r.domLoaded||(r.domLoaded=!0,i(c))}function a(){"complete"===l.readyState&&(t(l,"readystatechange",a),o())}function s(){try{l.documentElement.doScroll("left")}catch(e){return setTimeout(s,0),void 0}o()}var l=n.document,c={type:"ready"};return r.domLoaded?(i(c),void 0):(l.addEventListener?e(n,"DOMContentLoaded",o):(e(l,"readystatechange",a),l.documentElement.doScroll&&n===n.top&&s()),e(n,"load",o),void 0)}function r(){function r(e,t){var n,i,r,o,a=f[t];if(n=a&&a[e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var a,s,l,c,u,d=this,f={};s=o+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},a=1,d.domLoaded=!1,d.events=f,d.bind=function(t,o,p,h){function m(e){r(n(e||E.event),g)}var g,v,y,b,C,x,w,E=window;if(t&&3!==t.nodeType&&8!==t.nodeType){for(t[s]?g=t[s]:(g=a++,t[s]=g,f[g]={}),h=h||t,o=o.split(" "),y=o.length;y--;)b=o[y],x=m,C=w=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==t.readyState?p.call(h,n({type:b})):(c||(C=u[b],C&&(x=function(e){var t,i;if(t=e.currentTarget,i=e.relatedTarget,i&&t.contains)i=t.contains(i);else for(;i&&i!==t;)i=i.parentNode;i||(e=n(e||E.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,r(e,g))})),l||"focusin"!==b&&"focusout"!==b||(w=!0,C="focusin"===b?"focus":"blur",x=function(e){e=n(e||E.event),e.type="focus"===e.type?"focusin":"focusout",r(e,g)}),v=f[g][b],v?"ready"===b&&d.domLoaded?p({type:b}):v.push({func:p,scope:h}):(f[g][b]=v=[{func:p,scope:h}],v.fakeName=C,v.capture=w,v.nativeHandler=x,"ready"===b?i(t,x,d):e(t,C||b,x,w)));return t=v=0,p}},d.unbind=function(e,n,i){var r,o,a,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(r=e[s]){if(u=f[r],n){for(n=n.split(" "),a=n.length;a--;)if(c=n[a],o=u[c]){if(i)for(l=o.length;l--;)if(o[l].func===i){var p=o.nativeHandler;o=o.slice(0,l).concat(o.slice(l+1)),o.nativeHandler=p,u[c]=o}i&&0!==o.length||(delete u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture))}}else{for(c in u)o=u[c],t(e,o.fakeName||c,o.nativeHandler,o.capture);u={}}for(c in u)return d;delete f[r];try{delete e[s]}catch(h){e[s]=null}}return d},d.fire=function(e,t,i){var o;if(!e||3===e.nodeType||8===e.nodeType)return d;i=n(null,i),i.type=t,i.target=e;do o=e[s],o&&r(i,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[s]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[s]&&i(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var o="mce-data-",a=/^(?:mouse|contextmenu)|click/,s={keyLocation:1,layerX:1,layerY:1,returnValue:1};return r.Event=new r,r.Event.bind(window,"ready",function(){}),r}),/**
 * Sizzle.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
/*
 * Sizzle CSS Selector Engine
 *  Copyright, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
i("tinymce/dom/Sizzle",[],function(){function e(e){return gt.test(e+"")}function n(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>_.cacheLength&&delete e[t.shift()],e[n]=i,i}}function r(e){return e[I]=!0,e}function o(e){var t=F.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var r,o,a,s,l,c,u,p,h,m;if((t?t.ownerDocument||t:$)!==F&&B(t),t=t||F,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(L&&!i){if(r=vt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&O(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&j.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(j.qsa&&!H.test(e)){if(u=!0,p=I,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?p=u.replace(Ct,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+f(c[l]);h=mt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return C(e.replace(ct,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e,t){var n,i,r,o,s,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=_.preFilter;s;){(!n||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=dt.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ct," ")}),s=s.slice(n.length));for(o in _.filter)!(i=ht[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):U(e,l).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=W+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[I]||(t[I]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===E)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||E,l[1]===!0)return!0}}function h(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function g(e,t,n,i,o,a){return i&&!i[I]&&(i=g(i)),o&&!o[I]&&(o=g(o,a)),r(function(r,a,s,l){var c,u,d,f=[],p=[],h=a.length,g=r||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?g:m(g,f,e,s,l),y=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=m(y,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(v[p[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?nt.call(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else y=m(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):et.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return nt.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==S)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=_.relative[e[s].type])u=[p(h(u),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[I]){for(i=++s;r>i&&!_.relative[e[i].type];i++);return g(s>1&&h(u),s>1&&f(e.slice(0,s-1)).replace(ct,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&f(e))}u.push(n)}return h(u)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,s=function(r,s,l,c,u){var d,f,p,h=[],g=0,v="0",y=r&&[],b=null!=u,C=S,x=r||o&&_.find.TAG("*",u&&s.parentNode||s),w=W+=null==C?1:Math.random()||.1;for(b&&(S=s!==F&&s,E=n);null!=(d=x[v]);v++){if(o&&d){for(f=0;p=e[f++];)if(p(d,s,l)){c.push(d);break}b&&(W=w,E=++n)}i&&((d=!p&&d)&&g--,r&&y.push(d))}if(g+=v,i&&v!==g){for(f=0;p=t[f++];)p(y,h,s,l);if(r){if(g>0)for(;v--;)y[v]||h[v]||(h[v]=J.call(c));h=m(h)}et.apply(c,h),b&&!r&&h.length>0&&g+t.length>1&&a.uniqueSort(c)}return b&&(W=w,S=C),y};return i?r(s):s}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)a(e,t[i],n);return n}function C(e,t,n,i){var r,o,a,s,l,c=d(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&L&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(wt,Et),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(wt,Et),mt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return et.apply(n,i),n;break}}return k(e,c)(i,t,!L,n,mt.test(e)),n}function x(){}var w,E,_,T,N,k,S,D,A,B,F,R,L,H,M,P,O,I="sizzle"+-new Date,$=window.document,j={},W=0,z=0,q=n(),U=n(),V=n(),X=!1,K=function(){return 0},G=typeof t,Q=1<<31,Y=[],J=Y.pop,Z=Y.push,et=Y.push,tt=Y.slice,nt=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=rt.replace("w","w#"),at="([*^$|!~]?=)",st="\\["+it+"*("+rt+")"+it+"*(?:"+at+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+it+"*\\]",lt=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),dt=new RegExp("^"+it+"*([\\x20\\t\\r\\n\\f>+~])"+it+"*"),ft=new RegExp(lt),pt=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),NAME:new RegExp("^\\[name=['\"]?("+rt+")['\"]?\\]"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/[\x20\t\r\n\f]*[+~]/,gt=/^[^{]+\{\s*\[native code/,vt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,yt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,Ct=/'|\\/g,xt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,wt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Et=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{et.apply(Y=tt.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(_t){et={apply:Y.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}N=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},B=a.setDocument=function(n){var i=n?n.ownerDocument||n:$;return i!==F&&9===i.nodeType&&i.documentElement?(F=i,R=i.documentElement,L=!N(i),j.getElementsByTagName=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),j.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),j.getElementsByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),j.getByName=o(function(e){e.id=I+0,e.appendChild(F.createElement("a")).setAttribute("name",I),e.appendChild(F.createElement("i")).setAttribute("name",I),R.appendChild(e);var t=i.getElementsByName&&i.getElementsByName(I).length===2+i.getElementsByName(I+0).length;return R.removeChild(e),t}),j.sortDetached=o(function(e){return e.compareDocumentPosition&&1&e.compareDocumentPosition(F.createElement("div"))}),_.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==G&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},j.getByName?(_.find.ID=function(e,t){if(typeof t.getElementById!==G&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){return e.getAttribute("id")===t}}):(_.find.ID=function(e,n){if(typeof n.getElementById!==G&&L){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==G&&i.getAttributeNode("id").value===e?[i]:t:[]}},_.filter.ID=function(e){var t=e.replace(wt,Et);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=j.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.NAME=j.getByName&&function(e,t){return typeof t.getElementsByName!==G?t.getElementsByName(name):void 0},_.find.CLASS=j.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&L?t.getElementsByClassName(e):void 0},M=[],H=[":focus"],(j.qsa=e(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||H.push("\\["+it+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||H.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&H.push("[*^$]="+it+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(j.matchesSelector=e(P=R.matchesSelector||R.mozMatchesSelector||R.webkitMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(e){j.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),M.push("!=",lt)}),H=new RegExp(H.join("|")),M=M.length&&new RegExp(M.join("|")),O=e(R.contains)||R.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=R.compareDocumentPosition?function(e,t){if(e===t)return X=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||D&&t.compareDocumentPosition(e)===n?e===i||O($,e)?-1:t===i||O($,t)?1:A?nt.call(A,e)-nt.call(A,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return X=!0,0;if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===$?-1:c[r]===$?1:0},F):F},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==F&&B(e),t=t.replace(xt,"='$1']"),j.matchesSelector&&L&&(!M||!M.test(t))&&!H.test(t))try{var n=P.call(e,t);if(n||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,F,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==F&&B(e),O(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==F&&B(e),L&&(t=t.toLowerCase()),(n=_.attrHandle[t])?n(e):!L||j.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=0,r=0;if(X=!j.detectDuplicates,D=!j.sortDetached,A=!j.sortStable&&e.slice(0),e.sort(K),X){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},T=a.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},_=a.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Et),e[3]=(e[4]||e[5]||"").replace(wt,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ft.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(wt,Et).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&q(e,function(e){return t.test(e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=a.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(u=g[I]||(g[I]={}),c=u[e]||[],p=c[0]===W&&c[1],f=c[0]===W&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){u[e]=[W,p,f];break}}else if(y&&(c=(t[I]||(t[I]={}))[e])&&c[0]===W)f=c[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[I]||(d[I]={}))[e]=[W,f]),d!==t)););return f-=r,f===i||0===f%i&&f/i>=0}}},PSEUDO:function(e,t){var n,i=_.pseudos[e]||_.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[I]?i(t):i.length>1?(n=[e,e,"",t],_.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=nt.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ct,"$1"));return i[I]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return a(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(wt,Et).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===R},focus:function(e){return e===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return bt.test(e.nodeName)},input:function(e){return yt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=c(w);return k=a.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[I]?i.push(o):r.push(o);o=V(e,y(r,i))}return o},_.pseudos.nth=_.pseudos.eq,x.prototype=_.filters=_.pseudos,_.setFilters=new x,j.sortStable=I.split("").sort(K).join("")===I,B(),[0,0].sort(K),j.detectDuplicates=X,"function"==typeof i&&i.amd?i(function(){return a}):window.Sizzle=a,a}),/**
 * DomQuery.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * Some of this logic is based on jQuery code that is released under
 * MIT license that grants us to sublicense it under LGPL.
 *
 * @ignore-file
 */
i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle"],function(e,n){function i(e){return"undefined"!=typeof e}function r(e){return"string"==typeof e}function o(e){var t,n,i;for(i=g.createElement("div"),t=g.createDocumentFragment(),i.innerHTML=e;n=i.firstChild;)t.appendChild(n);return t}function a(e,t,n){var i;if("string"==typeof t)t=o(t);else if(t.length){for(i=0;i<t.length;i++)a(e,t[i],n);return e}for(i=e.length;i--;)n.call(e[i],t.parentNode?t:t);return e}function s(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function l(e,t){var n;for(e=e||[],"string"==typeof e&&(e=e.split(" ")),t=t||{},n=e.length;n--;)t[e[n]]={};return t}function c(e,t){return new c.fn.init(e,t)}function u(e){var t,n,i,r=arguments;for(n=1;n<r.length;n++){t=r[n];for(i in t)e[i]=t[i]}return e}function d(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function p(e,t){var n,i,r,o,a;if(e)if(n=e.length,n===o){for(i in e)if(e.hasOwnProperty(i)&&(a=e[i],t.call(a,a,i)===!1))break}else for(r=0;n>r&&(a=e[r],t.call(a,a,i)!==!1);r++);return e}function h(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!c(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r}function m(e,t,n,i){for(var r=[];e;e=e[n])i&&e.nodeType!==i||e===t||r.push(e);return r}var g=document,v=Array.prototype.push,y=Array.prototype.slice,b=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=e.Event,x=l("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"),w=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},E=/^\s*|\s*$/g,_=function(e){return null===e||e===t?"":(""+e).replace(E,"")};return c.fn=c.prototype={constructor:c,selector:"",length:0,init:function(e,t){var n,i,a=this;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(r(e)){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:b.exec(e),!n)return c(t||document).find(e);if(n[1])for(i=o(e).firstChild;i;)this.add(i),i=i.nextSibling;else{if(i=g.getElementById(n[2]),i.id!==n[2])return a.find(e);a.length=1,a[0]=i}}else this.add(e);return a},toArray:function(){return d(this)},add:function(e){var t=this;return w(e)?v.apply(t,e):e instanceof c?t.add(e.toArray()):v.call(t,e),t},attr:function(e,n){var r=this;if("object"==typeof e)p(e,function(e,t){r.attr(t,e)});else{if(!i(n))return r[0]&&1===r[0].nodeType?r[0].getAttribute(e):t;this.each(function(){1===this.nodeType&&this.setAttribute(e,n)})}return r},css:function(e,n){var r=this;if("object"==typeof e)p(e,function(e,t){r.css(t,e)});else{if(e=e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),!i(n))return r[0]?r[0].style[e]:t;"number"!=typeof n||x[e]||(n+="px"),r.each(function(){var t=this.style;"opacity"===e&&this.runtimeStyle&&"undefined"==typeof this.runtimeStyle.opacity&&(t.filter=""===n?"":"alpha(opacity="+100*n+")");try{t[e]=n}catch(i){}})}return r},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],C.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(i(e)){for(t=n.length;t--;)n[t].innerHTML=e;return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(i(e)){for(t=n.length;t--;)n[t].innerText=n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return a(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return a(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){var e=this;return e[0]&&e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?a(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},appendTo:function(e){return c(e).append(this),this},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return-1!==e.indexOf(" ")?p(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(){var n,i=this;s(i,e)!==t&&(n=i.className,t?i.className+=n?" "+e:e:i.className=_((" "+n+" ").replace(" "+e+" "," ")))}),n},hasClass:function(e){return s(this[0],e)},each:function(e){return p(this,e)},on:function(e,t){return this.each(function(){C.bind(this,e,t)})},off:function(e,t){return this.each(function(){C.unbind(this,e,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new c(y.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},replaceWith:function(e){var t=this;return t[0]&&t[0].parentNode.replaceChild(c(e)[0],t[0]),t},wrap:function(e){return e=c(e)[0],this.each(function(){var t=this,n=e.cloneNode(!1);t.parentNode.insertBefore(n,t),n.appendChild(t)})},unwrap:function(){return this.each(function(){for(var e,t=this,n=t.firstChild;n;)e=n,n=n.nextSibling,t.parentNode.insertBefore(e,t)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),c(e)},find:function(e){var t,n,i=[];for(t=0,n=this.length;n>t;t++)c.find(e,this[t],i);return c(i)},push:v,sort:[].sort,splice:[].splice},u(c,{extend:u,toArray:d,inArray:f,isArray:w,each:p,trim:_,makeMap:l,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,isXMLDoc:n.isXML,contains:n.contains,filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?c.find.matchesSelector(t[0],e)?[t[0]]:[]:c.find.matches(e,t)}}),p({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t){return h(e,"parentNode",t)},next:function(e){return m(e,"nextSibling",1)},prev:function(e){return m(e,"previousSibling",1)},nextNodes:function(e){return m(e,"nextSibling")},prevNodes:function(e){return m(e,"previousSibling")},children:function(e){return m(e.firstChild,"nextSibling",1)},contents:function(e){return d(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){c.fn[e]=function(n){var i,r=this;if(r.length>1)throw new Error("DomQuery only supports traverse functions on a single node.");return r[0]&&(i=t(r[0],n)),i=c(i),n&&"parentsUntil"!==e?i.filter(n):i}}),c.fn.filter=function(e){return c.filter(e)},c.fn.is=function(e){return!!e&&this.filter(e).length>0},c.fn.init.prototype=c.fn,c}),/**
 * Styles.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Styles",[],function(){return function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="";for(e=e||{},o=("\\\" \\' \\; \\: ; : "+d).split(" "),r=0;r<o.length;r++)u[o[r]]=d+r,u[d+r]=o[r];return{toHex:function(e){return e.replace(a,n)},parse:function(t){function i(e,t){var n,i,r,o;"none"===y["border-image"]&&delete y["border-image"],n=y[e+"-top"+t],n&&(i=y[e+"-right"+t],n==i&&(r=y[e+"-bottom"+t],i==r&&(o=y[e+"-left"+t],r==o&&(y[e+t]=o,delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t]))))}function r(e){var t,n=y[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function o(e,t,n,i){r(t)&&r(n)&&r(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function d(e){return v=!0,u[e]}function f(e,t){return v&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(e,t,n,i,r,o){return(r=r||o)?(r=f(r),"'"+r.replace(/\'/g,"\\'")+"'"):(t=f(t||n||i),b&&(t=b.call(C,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}var h,m,g,v,y={},b=e.url_converter,C=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,d)});h=l.exec(t);)m=h[1].replace(c,"").toLowerCase(),g=h[2].replace(c,""),m&&g.length>0&&("font-weight"===m&&"700"===g?g="bold":("color"===m||"background-color"===m)&&(g=g.toLowerCase()),g=g.replace(a,n),g=g.replace(s,p),y[m]=v?f(g,!0):g),l.lastIndex=h.index+h[0].length;i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),o("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border}return y},serialize:function(e,n){function r(n){var r,o,a,l;if(r=t.styles[n])for(o=0,a=r.length;a>o;o++)n=r[o],l=e[n],l!==i&&l.length>0&&(s+=(s.length>0?" ":"")+n+": "+l+";")}var o,a,s="";if(n&&t&&t.styles)r("*"),r(n);else for(o in e)a=e[o],a!==i&&a.length>0&&(s+=(s.length>0?" ":"")+o+": "+a+";");return s}}}}),/**
 * TreeWalker.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TreeWalker",[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}}}),/**
 * Tools.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Tools",[],function(){function e(e,n){return n?"array"==n&&g(e)?!0:typeof e==n:e!==t}function n(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function i(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function r(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1}function o(e,t){var n=[];return r(e,function(e){n.push(t(e))}),n}function a(e,t){var n=[];return r(e,function(e){(!t||t(e))&&n.push(e)}),n}function s(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,this.onCreate&&this.onCreate(e[2],e[3],r[o]),void 0;t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}}function l(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function c(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==t&&(e[o]=a))}return e}function u(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),r(e,function(e,r){return t.call(i,e,r,n)===!1?!1:(u(e,t,n,i),void 0)}))}function d(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t}function f(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;i>n&&(t=t[e[n]],t);n++);return t}function p(t,n){return!t||e(t,"array")?t:o(t.split(n||","),m)}var h=/^\s*|\s*$/g,m=function(e){return null===e||e===t?"":(""+e).replace(h,"")},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{trim:m,isArray:g,is:e,toArray:n,makeMap:i,each:r,map:o,grep:a,inArray:l,extend:c,create:s,walk:u,createNS:d,resolve:f,explode:p}}),/**
 * Range.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){function i(){return H.createDocumentFragment()}function r(e,t){E(I,e,t)}function o(e,t){E($,e,t)}function a(e){r(e.parentNode,V(e))}function s(e){r(e.parentNode,V(e)+1)}function l(e){o(e.parentNode,V(e))}function c(e){o(e.parentNode,V(e)+1)}function u(e){e?(L[z]=L[W],L[q]=L[j]):(L[W]=L[z],L[j]=L[q]),L.collapsed=I}function d(e){a(e),c(e)}function f(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,t){var n=L[W],i=L[j],r=L[z],o=L[q],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?w(n,i,a,s):1===e?w(r,o,a,s):2===e?w(r,o,l,c):3===e?w(n,i,l,c):void 0}function h(){_(O)}function m(){return _(M)}function g(){return _(P)}function v(e){var t,i,r=this[W],o=this[j];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function y(e){var t=L.extractContents();L.insertNode(e),e.appendChild(t),L.selectNode(e)}function b(){return U(new t(n),{startContainer:L[W],startOffset:L[j],endContainer:L[z],endOffset:L[q],collapsed:L.collapsed,commonAncestorContainer:L.commonAncestorContainer})}function C(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function x(){return L[W]==L[z]&&L[j]==L[q]}function w(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:r>t?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&t>a;)a++,s=s.nextSibling;return a>=t?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function E(e,t,i){var r,o;for(e?(L[W]=t,L[j]=i):(L[z]=t,L[q]=i),r=L[z];r.parentNode;)r=r.parentNode;for(o=L[W];o.parentNode;)o=o.parentNode;o==r?w(L[W],L[j],L[z],L[q])>0&&L.collapse(e):L.collapse(e),L.collapsed=x(),L.commonAncestorContainer=n.findCommonAncestor(L[W],L[z])}function _(e){var t,n,i,r,o,a,s,l=0,c=0;if(L[W]==L[z])return T(e);for(t=L[z],n=t.parentNode;n;t=n,n=n.parentNode){if(n==L[W])return N(t,e);++l}for(t=L[W],n=t.parentNode;n;t=n,n=n.parentNode){if(n==L[z])return k(t,e);++c}for(i=c-l,r=L[W];i>0;)r=r.parentNode,i--;for(o=L[z];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return S(r,o,e)}function T(e){var t,n,r,o,a,s,l,c,u;if(e!=O&&(t=i()),L[j]==L[q])return t;if(3==L[W].nodeType){if(n=L[W].nodeValue,r=n.substring(L[j],L[q]),e!=P&&(o=L[W],c=L[j],u=L[q]-L[j],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),L.collapse(I)),e==O)return;return r.length>0&&t.appendChild(H.createTextNode(r)),t}for(o=C(L[W],L[j]),a=L[q]-L[j];o&&a>0;)s=o.nextSibling,l=F(o,e),t&&t.appendChild(l),--a,o=s;return e!=P&&L.collapse(I),t}function N(e,t){var n,r,o,a,s,l;if(t!=O&&(n=i()),r=D(e,t),n&&n.appendChild(r),o=V(e),a=o-L[j],0>=a)return t!=P&&(L.setEndBefore(e),L.collapse($)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=F(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=P&&(L.setEndBefore(e),L.collapse($)),n}function k(e,t){var n,r,o,a,s,l;for(t!=O&&(n=i()),o=A(e,t),n&&n.appendChild(o),r=V(e),++r,a=L[q]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=F(o,t),n&&n.appendChild(l),--a,o=s;return t!=P&&(L.setStartAfter(e),L.collapse(I)),n}function S(e,t,n){var r,o,a,s,l,c,u,d;for(n!=O&&(o=i()),r=A(e,n),o&&o.appendChild(r),a=e.parentNode,s=V(e),l=V(t),++s,c=l-s,u=e.nextSibling;c>0;)d=u.nextSibling,r=F(u,n),o&&o.appendChild(r),u=d,--c;return r=D(t,n),o&&o.appendChild(r),n!=P&&(L.setStartAfter(e),L.collapse(I)),o}function D(e,t){var n,i,r,o,a,s=C(L[z],L[q]-1),l=s!=L[z];if(s==e)return B(s,l,$,t);for(n=s.parentNode,i=B(n,$,$,t);n;){for(;s;)r=s.previousSibling,o=B(s,l,$,t),t!=O&&i.insertBefore(o,i.firstChild),l=I,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=B(n,$,$,t),t!=O&&a.appendChild(i),i=a}}function A(e,t){var n,i,r,o,a,s=C(L[W],L[j]),l=s!=L[W];if(s==e)return B(s,l,I,t);for(n=s.parentNode,i=B(n,$,I,t);n;){for(;s;)r=s.nextSibling,o=B(s,l,I,t),t!=O&&i.appendChild(o),l=I,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=B(n,$,I,t),t!=O&&a.appendChild(i),i=a}}function B(e,t,i,r){var o,a,s,l,c;if(t)return F(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(l=L[j],a=o.substring(l),s=o.substring(0,l)):(l=L[q],a=o.substring(0,l),s=o.substring(l)),r!=P&&(e.nodeValue=s),r==O)return;return c=n.clone(e,$),c.nodeValue=a,c}if(r!=O)return n.clone(e,$)}function F(e,t){return t!=O?t==P?n.clone(e,I):e:(e.parentNode.removeChild(e),void 0)}function R(){return n.create("body",null,g()).outerText}var L=this,H=n.doc,M=0,P=1,O=2,I=!0,$=!1,j="startOffset",W="startContainer",z="endContainer",q="endOffset",U=e.extend,V=n.nodeIndex;return U(L,{startContainer:H,startOffset:0,endContainer:H,endOffset:0,collapsed:I,commonAncestorContainer:H,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:f,compareBoundaryPoints:p,deleteContents:h,extractContents:m,cloneContents:g,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:R}),L}return t.prototype.toString=function(){return this.toStringIE()},t}),/**
 * Entities.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=e.makeMap,s=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&(#x|#)?([\w]+);/g,d={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return r[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||i,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?c:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(u,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):d[r]||String.fromCharCode(r)):o[e]||i[e]||t(e)})}};return f}),/**
 * Env.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Env",[],function(){var e,t,n,i,r,o,a,s=navigator,l=s.userAgent;e=window.opera&&window.opera.buildNumber,t=/WebKit/.test(l),n=!t&&!e&&/MSIE/gi.test(l)&&/Explorer/gi.test(s.appName),n=n&&/MSIE (\w+)\./.exec(l)[1],i=-1!=l.indexOf("Trident")?11:!1,n=n||i,r=!t&&/Gecko/.test(l),o=-1!=l.indexOf("Mac"),a=/(iPad|iPhone)/.test(l);var c=!a||l.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:t,ie:n,gecko:r,mac:o,iOS:a,contentEditable:c,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n?document.documentMode||7:10}}),/**
 * DOMUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,n,i,r,o,a,s,l){function c(e,t){var r,o=this;o.doc=e,o.win=window,o.files={},o.counter=0,o.stdMode=!g||e.documentMode>=8,o.boxModel=!g||"CSS1Compat"==e.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in e.createElement("a"),this.boundEvents=[],o.settings=t=h({keep_values:!1,hex_colors:1},t),o.schema=t.schema,o.styles=new n({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),o.fixDoc(e),o.events=t.ownEvents?new i(t.proxy):i.Event,r=t.schema?t.schema.getBlockElements():{},o.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!r[e.nodeName]):!!r[e]}}var u=l.each,d=l.is,f=l.grep,p=l.trim,h=l.extend,m=s.webkit,g=s.ie,v=/^([a-z0-9],?)+$/i,y=/^[ \t\r\n]*$/,b=l.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return c.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(e){var t,n=this.settings;if(g&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,i,r=this;return!g||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),u(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.get(e.settings.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),d(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(n,i){var r;if(n.length===t){if("*"===i)return 1==n.nodeType;if(v.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}return n.nodeType&&1!=n.nodeType?!1:e.matches(i,n.nodeType?[n]:n).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=d(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return this.run(e,function(e){var n,i=e.parentNode;if(!i)return null;if(t)for(;n=e.firstChild;)!g||3!==n.nodeType||n.nodeValue?i.insertBefore(n,e):e.removeChild(n);return i.removeChild(e)})},setStyle:function(e,t,n){return this.run(e,function(e){var i,r,o=this;if(t)if("string"==typeof t){i=e.style,t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"number"!=typeof n||b[t]||(n+="px"),"opacity"===t&&e.runtimeStyle&&"undefined"==typeof e.runtimeStyle.opacity&&(i.filter=""===n?"":"alpha(opacity="+100*n+")"),"float"==t&&(t="cssFloat"in e.style?"cssFloat":"styleFloat");try{i[t]=n}catch(a){}o.settings.update_styles&&e.removeAttribute("data-mce-style")}else for(r in t)o.setStyle(e,r,t[r])})},getStyle:function(e,n,i){if(e=this.get(e)){if(this.doc.defaultView&&i){n=n.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(n)}catch(r){return null}}return n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=g?"styleFloat":"cssFloat"),e.currentStyle&&i?e.currentStyle[n]:e.style?e.style[n]:t}},setStyles:function(e,t){this.setStyle(e,t)},css:function(e,t,n){this.setStyle(e,t,n)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i=this;if(e&&t)return this.run(e,function(e){var r=i.settings,o=e.getAttribute(t);if(null!==n)switch(t){case"style":if(!d(n,"string"))return u(n,function(t,n){i.setStyle(e,n,t)}),void 0;r.keep_values&&(n?e.setAttribute("data-mce-style",n,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=n;break;case"class":e.className=n||"";break;case"src":case"href":r.keep_values&&(r.url_converter&&(n=r.url_converter.call(r.url_converter_scope||i,n,t,e)),i.setAttrib(e,"data-mce-"+t,n,2));break;case"shape":e.setAttribute("data-mce-style",n)}d(n)&&null!==n&&0!==n.length?e.setAttribute(t,""+n,2):e.removeAttribute(t,2),o!=n&&r.onSetAttrib&&r.onSetAttrib({attrElm:e,attrName:t,attrValue:n})})},setAttribs:function(e,t){var n=this;return this.run(e,function(e){u(t,function(t,i){n.setAttrib(e,i,t)})})},getAttrib:function(e,t,n){var i,r,o=this;if(e=o.get(e),!e||1!==e.nodeType)return n===r?!1:n;if(d(n)||(n=""),/^(src|href|style|coords|shape)$/.test(t)&&(i=e.getAttribute("data-mce-"+t)))return i;if(g&&o.props[t]&&(i=e[o.props[t]],i=i&&i.nodeValue?i.nodeValue:i),i||(i=e.getAttribute(t,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(t))return e[o.props[t]]===!0&&""===i?t:i?t:"";if("FORM"===e.nodeName&&e.getAttributeNode(t))return e.getAttributeNode(t).nodeValue;if("style"===t&&(i=i||e.style.cssText,i&&(i=o.serializeStyle(o.parseStyle(i),e.nodeName),o.settings.keep_values&&e.setAttribute("data-mce-style",i))),m&&"class"===t&&i&&(i=i.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),g)switch(t){case"rowspan":case"colspan":1===i&&(i="");break;case"size":("+0"===i||20===i||0===i)&&(i="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===i&&(i="");break;case"hspace":-1===i&&(i="");break;case"maxlength":case"tabindex":(32768===i||2147483647===i||"32768"===i)&&(i="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===i?t:n;case"shape":i=i.toLowerCase();break;default:0===t.indexOf("on")&&i&&(i=(""+i).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}return i!==r&&null!==i&&""!==i?""+i:n},getPos:function(e,t){var n,i,r=this,o=0,a=0,s=r.doc;if(e=r.get(e),t=t||s.body,e){if(t===s.body&&e.getBoundingClientRect)return i=e.getBoundingClientRect(),t=r.boxModel?s.documentElement:s.body,o=i.left+(s.documentElement.scrollLeft||s.body.scrollLeft)-t.clientTop,a=i.top+(s.documentElement.scrollTop||s.body.scrollTop)-t.clientLeft,{x:o,y:a};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==c.DOM&&r===document){var o=c.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,c.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=r.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;return n!==c.DOM&&i===document?(c.DOM.loadCSS(e),void 0):(e||(e=""),t=i.getElementsByTagName("head")[0],u(e.split(","),function(e){var r;n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),g&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}),void 0)},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=n=(""!==n?n+" ":"")+t,n):0})},removeClass:function(e,t){var n,i=this;return i.run(e,function(e){var r;return i.hasClass(e,t)?(n||(n=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g")),r=e.className.replace(n," "),r=p(" "!=r?r:""),e.className=r,r||(e.removeAttribute("class"),e.removeAttribute("className")),r):e.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},toggleClass:function(e,n,i){i=i===t?!this.hasClass(e,n):i,this.hasClass(e,n)!==i&&(i?this.addClass(e,n):this.removeClass(e,n))},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){var n=this;return n.run(e,function(e){if(g){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+t,e.removeChild(e.firstChild)}catch(i){var r=n.create("div");r.innerHTML="<br />"+t,u(f(r.childNodes),function(t,n){n&&e.canHaveHTML&&e.appendChild(t)})}}else e.innerHTML=t;return t})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){var i=this;return i.run(e,function(e){function r(){var r,o;for(o=n.createElement("body"),o.innerHTML=t,r=o.lastChild;r;)i.insertAfter(r.cloneNode(!0),e),r=r.previousSibling;i.remove(e)}if(1==e.nodeType)if(n=n||e.ownerDocument||i.doc,g)try{1==e.nodeType&&i.hasOuterHTML?e.outerHTML=t:r()}catch(o){r()}else r()})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){return d(t,"array")&&(e=e.cloneNode(!0)),n&&u(f(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),u(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(l.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],u(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(g){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,o,a,s,l=this,c=0;if(e=e.firstChild){a=new r(e,e.parentNode),t=t||l.schema?l.schema.getNonEmptyElements():null;do{if(o=e.nodeType,1===o){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){c++;continue}return!1}for(i=l.getAttribs(e),n=e.attributes.length;n--;)if(s=e.attributes[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==o)return!1;if(3===o&&!y.test(e.nodeValue))return!1}while(e=a.next())}return 1>=c},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n,i,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(o++,n=r);return o},split:function(e,t,n){function i(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var a=p(e.nodeValue).length;if(!s.isBlock(e.parentNode)||a>0||0===a&&t(e))return}else if(1==o&&(r=e.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();return e&&t?(l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),l=s.createRng(),l.setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),a=e.parentNode,a.insertBefore(i(r),e),n?a.replaceChild(n,t):a.insertBefore(t,e),a.insertBefore(i(o),e),s.remove(e),n||t):void 0},bind:function(e,t,n,i){var r=this;if(l.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(l.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return 1!=e.nodeType?null:(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null)},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}e.win=e.doc=e.root=e.events=e.frag=null},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},c.DOM=new c(document),c}),/**
 * ScriptLoader.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){function n(){function e(e,t){function n(){s.remove(a),o&&(o.onreadystatechange=o.onload=o=null),t()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var o,a,s=i;a=s.uniqueId(),o=document.createElement("script"),o.id=a,o.type="text/javascript",o.src=e,"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&n()}:o.onload=n,o.onerror=r,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}var t,n=0,a=1,s=2,l={},c=[],u={},d=[],f=0;this.isDone=function(e){return l[e]==s},this.markDone=function(e){l[e]=s},this.add=this.load=function(e,i,r){var o=l[e];o==t&&(c.push(e),l[e]=n),i&&(u[e]||(u[e]=[]),u[e].push({func:i,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(c,e,t)},this.loadScripts=function(n,i,c){function p(e){r(u[e],function(e){e.func.call(e.scope)}),u[e]=t}var h;d.push({func:i,scope:c||this}),h=function(){var t=o(n);n.length=0,r(t,function(t){return l[t]==s?(p(t),void 0):(l[t]!=a&&(l[t]=a,f++,e(t,function(){l[t]=s,f--,p(t),h()})),void 0)}),f||(r(d,function(e){e.func.call(e.scope)}),d.length=0)},h()}}var i=e.DOM,r=t.each,o=t.grep;return n.ScriptLoader=new n,n}),/**
 * AddOnManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){i.language&&i.languageLoad!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+i.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,o,a,s){function l(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,u=o;c.urls[n]||("object"==typeof o&&(u=o.prefix+o.resource+o.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=i.baseURL+"/"+u),c.urls[n]=u.substring(0,u.lastIndexOf("/")),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),/**
 * Node.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Node",[],function(){function e(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,n=i.length;n>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=this,r=[];for(n=i.firstChild;n;n=e(n,i))n.name===t&&r.push(n);return r},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)i=t[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),/**
 * Schema.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,i){function r(e){var t,n,i={};for(t=0,n=e.length;n>t;t++)i[e[t]]={};return i}var o,s,l,c=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=t(i)),s=3;s<c.length;s++)"string"==typeof c[s]&&(c[s]=t(c[s])),i.push.apply(i,c[s]);for(e=t(e),o=e.length;o--;)l=[].concat(a,t(n)),p[e[o]]={attributes:r(l),attributesOrder:l,children:r(i)}}function r(e,n){var i,r,o,a;for(e=t(e),i=e.length,n=t(n);i--;)for(r=p[e[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,s,l,c,u,d,f,p={};return i[e]?i[e]:(a=t("id accesskey class dir lang style tabindex title"),s=t("onabort onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncuechange ondblclick ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus oninput oninvalid onkeydown onkeypress onkeyup onload onloadeddata onloadedmetadata onloadstart onmousedown onmousemove onmouseout onmouseover onmouseup onmousewheel onpause onplay onplaying onprogress onratechange onreset onscroll onseeked onseeking onseeking onselect onshow onstalled onsubmit onsuspend ontimeupdate onvolumechange onwaiting"),l=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),c=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,t("article aside details dialog figure header footer hgroup section nav")),c.push.apply(c,t("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),f=t("acronym applet basefont big font strike tt"),c.push.apply(c,f),o(f,function(e){n(e,"",c)}),d=t("center dir isindex noframes"),l.push.apply(l,d),u=[].concat(l,c),o(d,function(e){n(e,"",u)})),u=u||[].concat(l,c),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",u,"param"),n("param","name value"),n("map","name",u,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",u,"legend"),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",u,"li"),n("noscript","",u),"html4"!=e&&(n("wbr"),n("ruby","",c,"rt rp"),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height",u,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls",u,"track source"),n("source","src type media"),n("track","kind src srclang label default"),n("datalist","",c,"option"),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",u,"figcaption"),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",u,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid codebase codetype archive standby align border hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","srcdoc sandbox seamless allowfullscreen")),o(t("a form meter progress dfn"),function(e){p[e]&&delete p[e].children[e]}),delete p.caption.children.table,i[e]=p,p)}var i={},r=e.makeMap,o=e.each,a=e.extend,s=e.explode,l=e.inArray;return function(e){function c(t,n,o){var s=e[t];return s?s=r(s,",",r(s.toUpperCase()," ")):(s=i[t],s||(s=r(n," ",r(n.toUpperCase()," ")),s=a(s,o),i[t]=s)),s}function u(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function d(e){var n,i,o,a,s,c,d,f,p,h,m,g,v,y,b,C,x,w,E,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=t(e,","),N["@"]&&(C=N["@"].attributes,x=N["@"].attributesOrder),n=0,i=e.length;i>n;n++)if(s=_.exec(e[n])){if(y=s[1],p=s[2],b=s[3],f=s[5],g={},v=[],c={attributes:g,attributesOrder:v},"#"===y&&(c.paddEmpty=!0),"-"===y&&(c.removeEmpty=!0),"!"===s[4]&&(c.removeEmptyAttrs=!0),C){for(w in C)g[w]=C[w];v.push.apply(v,x)}if(f)for(f=t(f,"|"),o=0,a=f.length;a>o;o++)if(s=T.exec(f[o])){if(d={},m=s[1],h=s[2].replace(/::/g,":"),y=s[3],E=s[4],"!"===m&&(c.attributesRequired=c.attributesRequired||[],c.attributesRequired.push(h),d.required=!0),"-"===m){delete g[h],v.splice(l(v,h),1);continue}y&&("="===y&&(c.attributesDefault=c.attributesDefault||[],c.attributesDefault.push({name:h,value:E}),d.defaultValue=E),":"===y&&(c.attributesForced=c.attributesForced||[],c.attributesForced.push({name:h,value:E}),d.forcedValue=E),"<"===y&&(d.validValues=r(E,"?"))),k.test(h)?(c.attributePatterns=c.attributePatterns||[],d.pattern=u(h),c.attributePatterns.push(d)):(g[h]||v.push(h),g[h]=d)}C||"@"!=p||(C=g,x=v),b&&(c.outputName=p,N[b]=c),k.test(p)?(c.pattern=u(p),S.push(c)):N[p]=c}}function f(e){N={},S=[],d(e),o(v,function(e,t){k[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&o(t(e,","),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",s=t[2];if(k[s]=k[r],D[s]=r,i||(w[s.toUpperCase()]={},w[s]={}),!N[s]){var l=N[r];l=a({},l),delete l.removeEmptyAttrs,delete l.removeEmpty,N[s]=l}o(k,function(e){e[r]&&(e[s]=e[r])})})}function h(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&o(t(e,","),function(e){var i,r,a=n.exec(e);a&&(r=a[1],i=r?k[a[2]]:k[a[2]]={"#comment":{}},i=k[a[2]],o(t(a[3],"|"),function(e){"-"===r?delete i[e]:i[e]={}}))})}function m(e){var t,n=N[e];if(n)return n;for(t=S.length;t--;)if(n=S[t],n.pattern.test(e))return n}var g,v,y,b,C,x,w,E,_,T=this,N={},k={},S=[],D={},A={};e=e||{},v=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),e.valid_styles&&(g={},o(e.valid_styles,function(e,t){g[t]=s(e)})),y=c("whitespace_elements","pre script noscript style textarea video audio iframe object"),b=c("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),C=c("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),x=c("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),E=c("non_empty_elements","td th iframe video audio object",C),_=c("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),w=c("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex samp option datalist select optgroup",_),o((e.special||"script noscript style textarea").split(" "),function(e){A[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?f(e.valid_elements):(o(v,function(e,t){N[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},k[t]=e.children}),"html5"!=e.schema&&o(t("strong/b em/i"),function(e){e=t(e,"/"),N[e[1]].outputName=e[0]}),N.img.attributesDefault=[{name:"alt",value:""}],o(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){N[e]&&(N[e].removeEmpty=!0)}),o(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){N[e].paddEmpty=!0}),o(t("span"),function(e){N[e].removeEmptyAttrs=!0})),p(e.custom_elements),h(e.valid_children),d(e.extended_valid_elements),h("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&o(s(e.invalid_elements),function(e){N[e]&&delete N[e]}),m("span")||d("span[!data-mce-type|*]"),T.children=k,T.styles=g,T.getBoolAttrs=function(){return x},T.getBlockElements=function(){return w},T.getTextBlockElements=function(){return _},T.getShortEndedElements=function(){return C},T.getSelfClosingElements=function(){return b},T.getNonEmptyElements=function(){return E},T.getWhiteSpaceElements=function(){return y},T.getSpecialElements=function(){return A},T.isValidChild=function(e,t){var n=k[e];return!(!n||!n[t])},T.isValid=function(e,t){var n,i,r=m(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},T.getElementRule=m,T.getCustomElements=function(){return D},T.addValidElements=d,T.setValidElements=f,T.addCustomElements=p,T.addValidChildren=h,T.elements=N}}),/**
 * SaxParser.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){var i=n.each;return function(n,r){var o=this,a=function(){};n=n||{},o.schema=r=r||new e,n.fix_self_closing!==!1&&(n.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(o[e]=n[e]||a)}),o.parse=function(e){function i(e){var t,n;for(t=P.length;t--&&P[t].name!==e;);if(t>=0){for(n=P.length-1;n>=t;n--)e=P[n],e.valid&&H.end(e.name);P.length=t}}function o(e,t,n,i,r){var o,a;if(t=t.toLowerCase(),n=t in g?t:I(n||i||r||""),y&&!p&&0!==t.indexOf("data-")){if(o=E[t],!o&&_){for(a=_.length;a--&&(o=_[a],!o.pattern.test(t)););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}c.map[t]=n,c.push({name:t,value:n})}var a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w,E,_,T,N,k,S,D,A,B,F,R,L,H=this,M=0,P=[],O=0,I=t.decode;for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),B=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,m=r.getShortEndedElements(),D=n.self_closing_elements||r.getSelfClosingElements(),g=r.getBoolAttrs(),y=n.validate,h=n.remove_internals,L=n.fix_self_closing,F=r.getSpecialElements();a=A.exec(e);){if(M<a.index&&H.text(I(e.substr(M,a.index-M))),s=a[6])s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),i(s);else if(s=a[7]){if(s=s.toLowerCase(),":"===s.charAt(0)&&(s=s.substr(1)),v=s in m,L&&D[s]&&P.length>0&&P[P.length-1].name===s&&i(s),!y||(b=r.getElementRule(s))){if(C=!0,y&&(E=b.attributes,_=b.attributePatterns),(w=a[8])?(p=-1!==w.indexOf("data-mce-type"),p&&h&&(C=!1),c=[],c.map={},w.replace(B,o)):(c=[],c.map={}),y&&!p){if(T=b.attributesRequired,N=b.attributesDefault,k=b.attributesForced,S=b.removeEmptyAttrs,S&&!c.length&&(C=!1),k)for(u=k.length;u--;)x=k[u],f=x.name,R=x.value,"{$uid}"===R&&(R="mce_"+O++),c.map[f]=R,c.push({name:f,value:R});if(N)for(u=N.length;u--;)x=N[u],f=x.name,f in c.map||(R=x.value,"{$uid}"===R&&(R="mce_"+O++),c.map[f]=R,c.push({name:f,value:R}));if(T){for(u=T.length;u--&&!(T[u]in c.map););-1===u&&(C=!1)}c.map["data-mce-bogus"]&&(C=!1)}C&&H.start(s,c,v)}else C=!1;if(l=F[s]){l.lastIndex=M=a.index+a[0].length,(a=l.exec(e))?(C&&(d=e.substr(M,a.index-M)),M=a.index+a[0].length):(d=e.substr(M),M=e.length),C&&(d.length>0&&H.text(d,!0),H.end(s)),A.lastIndex=M;continue}v||(w&&w.indexOf("/")==w.length-1?C&&H.end(s):P.push({name:s,valid:C}))}else(s=a[1])?H.comment(s):(s=a[2])?H.cdata(s):(s=a[3])?H.doctype(s):(s=a[4])&&H.pi(s,a[5]);M=a.index+a[0].length}for(M<e.length&&H.text(I(e.substr(M))),u=P.length-1;u>=0;u--)s=P[u],s.valid&&H.end(s.name)}}}),/**
 * DomParser.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function c(t){var n,i,o,a,s,c,d,f,p,h,m,g,v,y;for(m=r("tr,td,th,tbody,thead,tfoot,table"),h=l.getNonEmptyElements(),g=l.getTextBlockElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(g[i.name]&&"li"==i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!m[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(l.isValidChild(c.name,a[p].name)?(d=u.filterNode(a[p].clone()),c.append(d)):d=c,f=a[p].firstChild;f&&f!=a[p+1];)y=f.next,d.append(f),f=y;c=d}s.isEmpty(h)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(h)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(v=i.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if(v=i.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(u.filterNode(new e("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(u.filterNode(new e("div",1))):"style"===i.name||"script"===i.name?i.empty().remove():i.unwrap()}}}var u=this,d={},f=[],p={},h={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",u.schema=l=l||new t,u.filterNode=function(e){var t,n,i;n in d&&(i=p[n],i?i.push(e):p[n]=[e]),t=f.length;for(;t--;)n=f[t].name,n in e.attributes.map&&(i=h[n],i?i.push(e):h[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<f.length;n++)if(f[n].name===e)return f[n].callbacks.push(t),void 0;f.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(){function e(e){e&&(i=e.firstChild,i&&3==i.type&&(i.value=i.value.replace(D,"")),i=e.lastChild,i&&3==i.type&&(i.value=i.value.replace(B,"")))}var t,n,i=y.firstChild;if(l.isValidChild(y.name,P.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&"p"!==i.name&&!S[i.name]&&!i.attr("data-mce-type")?n?n.append(i):(n=u(P,1),y.insert(n,i),n.append(i)):(e(n),n=null),i=t;e(n)}}function u(t,n){var i,r=new e(t,n);return t in d&&(i=p[t],i?i.push(r):p[t]=[r]),r}function m(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(B,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}function g(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var v,y,b,C,x,w,E,_,T,N,k,S,D,A,B,F,R,L,H,M,P,O=[];if(o=o||{},p={},h={},S=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),M=l.getNonEmptyElements(),H=l.children,k=i.validate,P="forced_root_block"in o?o.forced_root_block:i.forced_root_block,L=l.getWhiteSpaceElements(),D=/^[ \t\r\n]+/,B=/[ \t\r\n]+$/,F=/[ \t\r\n]+/g,R=/^[ \t\r\n]+$/,v=new n({validate:k,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(e){b.append(u("#cdata",4)).value=e},text:function(e,t){var n;A||(e=e.replace(F," "),b.lastChild&&S[b.lastChild.name]&&(e=e.replace(D,""))),0!==e.length&&(n=u("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(u("#comment",8)).value=e},pi:function(e,t){b.append(u(e,7)).value=t,m(b)},doctype:function(e){var t;t=b.append(u("#doctype",10)),t.value=e,m(b)},start:function(e,t,n){var i,r,o,a,s;if(o=k?l.getElementRule(e):{}){for(i=u(o.outputName||e,1),i.attributes=t,i.shortEnded=n,b.append(i),s=H[b.name],s&&H[i.name]&&!s[i.name]&&O.push(i),r=f.length;r--;)a=f[r].name,a in t.map&&(T=h[a],T?T.push(i):h[a]=[i]);S[e]&&m(i),n||(b=i),!A&&L[e]&&(A=!0)}},end:function(t){var n,i,r,o,a;if(i=k?l.getElementRule(t):{}){if(S[t]&&!A){if(n=b.firstChild,n&&3===n.type)if(r=n.value.replace(D,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||R.test(r))&&(n.remove(),n=o),n=o;if(n=b.lastChild,n&&3===n.type)if(r=n.value.replace(B,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||R.test(r))&&(n.remove(),n=o),n=o}if(A&&L[t]&&(A=!1),(i.removeEmpty||i.paddEmpty)&&b.isEmpty(M))if(i.paddEmpty)b.empty().append(new e("#text","3")).value="";else if(!b.attributes.map.name&&!b.attributes.map.id)return a=b.parent,b.empty().remove(),b=a,void 0;b=b.parent}}},l),y=b=new e(o.context||i.root_name,11),v.parse(t),k&&O.length&&(o.context?o.invalid=!0:c(O)),P&&("body"==y.name||o.isRootContent)&&a(),!o.invalid){for(N in p){for(T=d[N],C=p[N],E=C.length;E--;)C[E].parent||C.splice(E,1);for(x=0,w=T.length;w>x;x++)T[x](C,N,o)}for(x=0,w=f.length;w>x;x++)if(T=f[x],T.name in h){for(C=h[T.name],E=C.length;E--;)C[E].parent||C.splice(E,1);for(E=0,_=T.callbacks.length;_>E;E++)T.callbacks[E](C,T.name,o)}}return y},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var n,i,r,o,a,c,u,d,f=t.length,p=s({},l.getBlockElements()),h=l.getNonEmptyElements();for(p.body=1,n=0;f>n;n++)if(i=t[n],r=i.parent,p[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(c=a.name,"span"!==c||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(h)&&(u=l.getElementRule(r.name),u&&(u.removeEmpty?r.remove():u.paddEmpty&&(r.empty().append(new e("#text",3)).value=""))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!p[r.name]);)r=r.parent;o===r&&(d=new e("#text",3),d.value="",i.replace(d))}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}})}}),/**
 * Writer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return t=t||{},i=t.indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,f;if(i&&r[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;u>c;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&i&&o[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("<!--",e,"-->")},pi:function(e,t){t?l.push("<?",e," ",t,"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),/**
 * Serializer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,c,u,d,f,p,h,m=r[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(d=[],d.map={},h=i.getElementRule(e.name),f=0,p=h.attributesOrder.length;p>f;f++)c=h.attributesOrder[f],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,p=l.length;p>f;f++)c=l[f].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do t(e);while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),/**
 * Serializer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o,a,s){var l=s.each,c=s.trim,u=e.DOM;return function(e,r){var s,d,f;return r&&(s=r.dom,d=r.schema),s=s||u,d=d||new o(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,f=new t(e,d),f.addAttributeFilter("src,href,style",function(t,n){for(var i,r,o,a=t.length,l="data-mce-"+n,c=e.url_converter,u=e.url_converter_scope;a--;)i=t[a],r=i.attributes.map[l],r!==o?(i.attr(n,r.length>0?r:null),i.attr(l,null)):(r=i.attributes.map[n],"style"===n?r=s.serializeStyle(s.parseStyle(r),i.name):c&&(r=c.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),f.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null)}),f.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),f.addAttributeFilter("data-mce-expando",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),f.addNodeFilter("noscript",function(e){for(var t,i=e.length;i--;)t=e[i].firstChild,t&&(t.value=n.decode(t.value))}),f.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=e.length;o--;)if(i=e[o],r=i.firstChild?i.firstChild.value:"","script"===t){var a=(i.attr("type")||"text/javascript").replace(/^mce\-/,"");i.attr("type","text/javascript"===a?null:a),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")}else r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),f.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(t,n){var r,o,u,p,h,m=this;return a.ie&&s.select("script,style,select,map").length>0?(h=t.innerHTML,t=t.cloneNode(!1),s.setHTML(t,h)):t=t.cloneNode(!0),r=t.ownerDocument.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),l("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,u=s.doc,s.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,m.onPreProcess(n)),p=new i(e,d),n.content=p.serialize(f.parse(c(n.getInner?t.innerHTML:s.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||m.onPostProcess(n),u&&(s.doc=u),n.node=null,n.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){r&&r.fire("PreProcess",e)},onPostProcess:function(e){r&&r.fire("PostProcess",e)}}}}),/**
 * TridentSelection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/TridentSelection",[],function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,u,d=0,f=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,r=a.length-1;r>=d;)if(c=Math.floor((d+r)/2),s=a[c],i.moveToElementText(s),f=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),f>0)r=c-1;else{if(!(0>f))return{node:s};d=c+1}if(0>f)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a,s=t(u,e),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return d[e?"setStart":"setEnd"](n,0),void 0;if(i===o)return d[e?"setStartBefore":"setEndAfter"](n),void 0;if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return d[e?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r),void 0;for(;r;){if(a=r.nodeValue,l+=a.length,l>=i){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r),void 0;for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(f){if(-2147024809!=f.number)throw f;c=i.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var i=this,r=e.dom,o=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l,c=e[n?"start":"end"];c&&(r=c.position>0,a=o.createTextRange(),a.moveToElementText(t(c.indexes)),l=c.offset,l!==s?(a.collapse(c.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,d,f;a=r.create("a"),t=e?s:c,n=e?l:u,d=i.duplicate(),(t==h||t==h.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",d)):(f=t.childNodes,f.length?(n>=f.length?r.insertAfter(a,f[f.length-1]):t.insertBefore(a,f[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,c,u,d,f,p,h=e.dom.doc,m=h.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",d&&(d.innerHTML=""),void 0;l=r.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(p=s.childNodes[l],a=m.createControlRange(),a.addElement(p),a.select(),f=e.getRng(),f.item&&p===f.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}return e}),/**
 * VK.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return(e.mac?t.ctrlKey||t.metaKey:t.ctrlKey)&&!t.altKey}}}),/**
 * ControlSelection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,t,n){return function(i,r){function o(e){return r.settings.object_resizing===!1?!1:/TABLE|IMG|DIV/.test(e.nodeName)?"false"===e.getAttribute("data-mce-resize")?!1:!0:!1}function a(t){var n,i;n=t.screenX-_,i=t.screenY-T,F=n*w[2]+S,R=i*w[3]+D,F=5>F?5:F,R=5>R?5:R,(e.modifierPressed(t)||"IMG"==b.nodeName&&0!==w[2]*w[3])&&(F=Math.round(R/A),R=Math.round(F*A)),L.setStyles(C,{width:F,height:R}),w[2]<0&&C.clientWidth<=F&&L.setStyle(C,"left",N+(S-F)),w[3]<0&&C.clientHeight<=R&&L.setStyle(C,"top",k+(D-R)),B||(r.fire("ObjectResizeStart",{target:b,width:S,height:D}),B=!0)}function s(){function e(e,t){t&&(b.style[e]||!r.schema.isValid(b.nodeName.toLowerCase(),e)?L.setStyle(b,e,t):L.setAttrib(b,e,t))}B=!1,e("width",F),e("height",R),L.unbind(M,"mousemove",a),L.unbind(M,"mouseup",s),P!=M&&(L.unbind(P,"mousemove",a),L.unbind(P,"mouseup",s)),L.remove(C),O&&"TABLE"!=b.nodeName||l(b),r.fire("ObjectResized",{target:b,width:F,height:R}),r.nodeChanged()}function l(e,t,n){var i,l,u,d,f,p=r.getBody().offsetParent||r.getBody();i=L.getPos(e,p),N=i.x,k=i.y,f=e.getBoundingClientRect(),l=f.width||f.right-f.left,u=f.height||f.bottom-f.top,b!=e&&(m(),b=e,F=R=0),d=r.fire("ObjectSelected",{target:e}),o(e)&&!d.isDefaultPrevented()?H(x,function(e,i){function o(t){B=!0,_=t.screenX,T=t.screenY,S=b.clientWidth,D=b.clientHeight,A=D/S,w=e,C=b.cloneNode(!0),L.addClass(C,"mce-clonedresizable"),C.contentEditable=!1,C.unSelectabe=!0,L.setStyles(C,{left:N,top:k,margin:0}),C.removeAttribute("data-mce-selected"),r.getBody().appendChild(C),L.bind(M,"mousemove",a),L.bind(M,"mouseup",s),P!=M&&(L.bind(P,"mousemove",a),L.bind(P,"mouseup",s))}var c,d;return t?(i==t&&o(n),void 0):(c=L.get("mceResizeHandle"+i),c?L.show(c):(d=r.getBody(),c=L.add(d,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":!0,"class":"mce-resizehandle",contentEditable:!1,unSelectabe:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),L.bind(c,"mousedown",function(e){e.preventDefault(),o(e)})),L.setStyles(c,{left:l*e[0]+N-c.offsetWidth/2,top:u*e[1]+k-c.offsetHeight/2}),void 0)}):c(),b.setAttribute("data-mce-selected","1")}function c(){var e,t;b&&b.removeAttribute("data-mce-selected");for(e in x)t=L.get("mceResizeHandle"+e),t&&(L.unbind(t),L.remove(t))}function u(e){function t(e,t){do if(e===t)return!0;while(e=e.parentNode)}var n;return H(L.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),n="mousedown"==e.type?e.target:i.getNode(),n=L.getParent(n,O?"table":"table,img,hr"),n&&(g(),t(i.getStart(),n)&&t(i.getEnd(),n)&&(!O||n!=i.getStart()&&"IMG"!==i.getStart().nodeName))?(l(n),void 0):(c(),void 0)}function d(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function p(e){var t,n,i,o,a,s,c,u=e.srcElement;t=u.getBoundingClientRect(),s=E.clientX-t.left,c=E.clientY-t.top;for(n in x)if(i=x[n],o=u.offsetWidth*i[0],a=u.offsetHeight*i[1],Math.abs(o-s)<8&&Math.abs(a-c)<8){w=i;break}B=!0,r.getDoc().selection.empty(),l(u,n,E)}function h(e){var t=e.srcElement;if(t!=b){if(m(),0===t.id.indexOf("mceResizeHandle"))return e.returnValue=!1,void 0;("IMG"==t.nodeName||"TABLE"==t.nodeName)&&(c(),b=t,d(t,"resizestart",p))}}function m(){f(b,"resizestart",p)}function g(){try{r.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function v(e){var t;if(O){t=M.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function y(){b=C=null,O&&(m(),f(r.getBody(),"controlselect",h))}var b,C,x,w,E,_,T,N,k,S,D,A,B,F,R,L=r.dom,H=t.each,M=r.getDoc(),P=document,O=n.ie&&n.ie<11;x={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var I=".mce-content-body";return r.contentStyles.push(I+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 5px;"+"height: 5px;"+"z-index: 10000"+"}"+I+" .mce-resizehandle:hover {"+"background: #000"+"}"+I+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+I+" .mce-clonedresizable {"+"position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}"),r.on("init",function(){O?(r.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(c(),v(e.target))}),d(r.getBody(),"controlselect",h),r.on("mousedown",function(e){E=e})):(g(),n.ie>=11&&r.on("mouseup mousedown",function(e){("IMG"==e.target.nodeName||"IMG"==r.selection.getNode().nodeName)&&(e.preventDefault(),r.selection.select(e.target))})),r.on("nodechange mousedown ResizeEditor",u),r.on("keydown keyup",function(e){b&&"TABLE"==b.nodeName&&u(e)})}),{controlSelect:v,destroy:y}}}),/**
 * Selection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/Env","tinymce/util/Tools"],function(e,n,i,r,o){function a(e,t,r,o){var a=this;a.dom=e,a.win=t,a.serializer=r,a.editor=o,a.controlSelection=new i(a,o),a.win.getSelection||(a.tridentSel=new n(a))}var s=o.each,l=o.grep,c=o.trim,u=r.ie,d=r.opera;return a.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(){var e,t,n,i,r=this,o=r.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for(n=o.duplicate(),n.collapse(1),e=n.parentElement(),e.ownerDocument!==r.dom.doc&&(e=r.dom.getRoot()),t=i=o.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e.ownerDocument!==n.dom.doc&&(e=n.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return s(h.select(e),function(e,i){e==t&&(n=i)}),n}function i(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function r(){function e(e,n){var r,o,a=e[n?"startContainer":"endContainer"],s=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==a.nodeType){if(t)for(r=a.previousSibling;r&&3==r.nodeType;r=r.previousSibling)s+=r.nodeValue.length;l.push(s)}else o=a.childNodes,s>=o.length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(p.dom.nodeIndex(o[s],t)+c);for(;a&&a!=i;a=a.parentNode)l.push(p.dom.nodeIndex(a,t));return l}var n=p.getRng(!0),i=h.getRoot(),r={};return r.start=e(n,!0),p.isCollapsed()||(r.end=e(n)),r}var o,a,l,c,u,d,f,p=this,h=p.dom,m="&#xFEFF;";if(2==e)return d=p.getNode(),u=d.nodeName,"IMG"==u?{name:u,index:n(u,d)}:p.tridentSel?p.tridentSel.getBookmark(e):r();if(e)return{rng:p.getRng()};if(o=p.getRng(),l=h.uniqueId(),c=p.isCollapsed(),f="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return d=o.item(0),u=d.nodeName,{name:u,index:n(u,d)};a=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_start" style="'+f+'">'+m+"</span>"),c||(a.collapse(!1),o.moveToElementText(a.parentElement()),0===o.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+l+'_end" style="'+f+'">'+m+"</span>"))}catch(g){return null}}else{if(d=p.getNode(),u=d.nodeName,"IMG"==u)return{name:u,index:n(u,d)};a=i(o.cloneRange()),c||(a.collapse(!1),a.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+"_end",style:f},m))),o=i(o),o.collapse(!0),o.insertNode(h.create("span",{"data-mce-type":"bookmark",id:l+"_start",style:f},m))}return p.moveToBookmark({id:l,keep:1}),{id:l}},moveToBookmark:function(e){function t(t){var n,i,a,s,l=e[t?"start":"end"];if(l){for(a=l[0],i=o,n=l.length-1;n>=1;n--){if(s=i.childNodes,l[n]>s.length-1)return;i=s[l[n]]}3===i.nodeType&&(a=Math.min(l[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(l[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0}function n(t){var n,i,r,o,u=m.get(e.id+"_"+t),h=e.keep;if(u&&(n=u.parentNode,"start"==t?(h?(n=u.firstChild,i=1):i=m.nodeIndex(u),a=c=n,f=p=i):(h?(n=u.firstChild,i=1):i=m.nodeIndex(u),c=n,p=i),!h)){for(o=u.previousSibling,r=u.nextSibling,s(l(u.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=m.get(e.id+"_"+t);)m.remove(u,1);o&&r&&o.nodeType==r.nodeType&&3==o.nodeType&&!d&&(i=o.nodeValue.length,o.appendData(r.nodeValue),m.remove(r),"start"==t?(a=c=o,f=p=i):(c=o,p=i))}}function i(e){return!m.isBlock(e)||e.innerHTML||u||(e.innerHTML='<br data-mce-bogus="1" />'),e}var r,o,a,c,f,p,h=this,m=h.dom;if(e)if(e.start){if(r=m.createRng(),o=m.getRoot(),h.tridentSel)return h.tridentSel.moveToBookmark(e);t(!0)&&t()&&h.setRng(r)}else e.id?(n("start"),n("end"),a&&(r=m.createRng(),r.setStart(i(a),f),r.setEnd(i(c),p),h.setRng(r))):e.name?h.select(m.select(e.name)[e.index]):e.rng&&h.setRng(e.rng)},select:function(t,n){function i(t,n){var i=t,r=new e(t,i);do{if(3==t.nodeType&&0!==c(t.nodeValue).length)return n?l.setStart(t,0):l.setEnd(t,t.nodeValue.length),void 0;if(o[t.nodeName])return n?l.setStartBefore(t):"BR"==t.nodeName?l.setEndBefore(t):l.setEndAfter(t),void 0}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?l.setStart(i,0):l.setEnd(i,i.childNodes.length))}var r,o,a=this,s=a.dom,l=s.createRng();if(a.lastFocusBookmark=null,o=s.schema.getNonEmptyElements(),t){if(!n&&a.controlSelection.controlSelect(t))return;r=s.nodeIndex(t),l.setStart(t.parentNode,r),l.setEnd(t.parentNode,r+1),n&&(i(t,1),i(t)),a.setRng(l)}return t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){var t,n,i,r,o=this,a=o.win.document;if(!e&&o.lastFocusBookmark){var s=o.lastFocusBookmark;return s.startContainer?(n=a.createRange(),n.setStart(s.startContainer,s.startOffset),n.setEnd(s.endContainer,s.endOffset)):n=s,n}if(e&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(t=o.getSel())&&(n=t.rangeCount>0?t.getRangeAt(0):t.createRange?t.createRange():a.createRange())}catch(l){}if(u&&n&&n.setStart){try{r=a.selection.createRange()}catch(l){}r&&r.item&&(i=r.item(0),n=a.createRange(),n.setStartBefore(i),n.setEndAfter(i))}return n||(n=a.createRange?a.createRange():a.body.createTextRange()),n.setStart&&9===n.startContainer.nodeType&&n.collapsed&&(i=o.dom.getRoot(),n.setStart(i,0),n.setEnd(i,0)),o.selectedRange&&o.explicitRange&&(0===n.compareBoundaryPoints(n.START_TO_START,o.selectedRange)&&0===n.compareBoundaryPoints(n.END_TO_END,o.selectedRange)?n=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),n},setRng:function(e,t){var n,i=this;if(e.select)try{e.select()}catch(r){}else if(i.tridentSel){if(e.cloneRange)try{return i.tridentSel.addRange(e),void 0}catch(r){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(r){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset;return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(r==o&&2>s-a&&r.hasChildNodes()&&(t=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?e(r.nextSibling,!0):r.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):i.item?i.item(0):i.parentElement():n.dom.getRoot()},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){function t(t){function a(t,n){for(var i=new e(t,m.getParent(t.parentNode,m.isBlock)||g);t=i[n?"prev":"next"]();)if("BR"===t.nodeName)return!0}function s(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function l(t,n){var o,a;for(n=n||c,o=new e(n,m.getParent(n.parentNode,m.isBlock)||g);f=o[t?"prev":"next"]();){if(3===f.nodeType&&f.nodeValue.length>0)return c=f,u=t?f.nodeValue.length:0,i=!0,void 0;if(m.isBlock(f)||p[f.nodeName.toLowerCase()])return;a=f}r&&a&&(c=a,i=!0,u=0)}var c,u,d,f,p,h,m=o.dom,g=m.getRoot();if(c=n[(t?"start":"end")+"Container"],u=n[(t?"start":"end")+"Offset"],p=m.schema.getNonEmptyElements(),9===c.nodeType&&(c=m.getRoot(),u=0),c===g){if(t&&(f=c.childNodes[u>0?u-1:0],f&&(h=f.nodeName.toLowerCase(),p[f.nodeName]||"TABLE"==f.nodeName)))return;if(c.hasChildNodes()&&(u=Math.min(!t&&u>0?u-1:u,c.childNodes.length-1),c=c.childNodes[u],u=0,c.hasChildNodes()&&!/TABLE/.test(c.nodeName))){f=c,d=new e(c,g);do{if(3===f.nodeType&&f.nodeValue.length>0){u=t?0:f.nodeValue.length,c=f,i=!0;break}if(p[f.nodeName.toLowerCase()]){u=m.nodeIndex(f),c=f.parentNode,"IMG"!=f.nodeName||t||u++,i=!0;break}}while(f=t?d.next():d.prev())}}r&&(3===c.nodeType&&0===u&&l(!0),1===c.nodeType&&(f=c.childNodes[u],!f||"BR"!==f.nodeName||s(f,"A")||a(f)||a(f,!0)||l(!0,c.childNodes[u]))),t&&!r&&3===c.nodeType&&u===c.nodeValue.length&&l(!1),i&&n["set"+(t?"Start":"End")](c,u)}var n,i,r,o=this;u||(n=o.getRng(),r=n.collapsed,t(!0),r||t(),i&&(r&&n.collapse(!0),o.setRng(n,o.isForward())))},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};s(i.selectorChangedData,function(e,t){s(o,function(i){return r.is(i,t)?(n[t]||(s(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1):void 0})}),s(n,function(e,i){a[i]||(delete n[i],s(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var n,i,r,o,a=this,s=a.dom,l=s.getRoot();if("BODY"!=l.nodeName){var c=a.getScrollContainer();if(c)return n=t(e).y-t(c).y,o=c.clientHeight,r=c.scrollTop,(r>n||n+25>r+o)&&(c.scrollTop=r>n?n:n-o+25),void 0}i=s.getViewPort(a.editor.getWin()),n=s.getPos(e).y,r=i.y,o=i.h,(n<i.y||n+25>r+o)&&a.editor.getWin().scrollTo(0,r>n?n:n-o+25)},destroy:function(){this.win=null,this.controlSelection.destroy()}},a}),/**
 * Range.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/dom/RangeUtils",["tinymce/util/Tools"],function(e){function t(e){this.walk=function(t,i){function r(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function s(e,t,n){var a=n?"nextSibling":"previousSibling";for(d=e,f=d.parentNode;d&&d!=t;d=f)f=d.parentNode,p=o(d==e?d:d[a],a),p.length&&(n||p.reverse(),i(r(p)))}var l,c,u,d,f,p,h,m=t.startContainer,g=t.startOffset,v=t.endContainer,y=t.endOffset;if(h=e.select("td.mce-item-selected,th.mce-item-selected"),h.length>0)return n(h,function(e){i([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return i(r([m]));for(l=e.findCommonAncestor(m,v),d=m;d;d=d.parentNode){if(d===v)return s(m,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===m)return s(v,l);if(d===l)break}c=a(m,l)||m,u=a(v,l)||v,s(m,c,!0),p=o(c==m?c:c.nextSibling,"nextSibling",u==v?u.nextSibling:u),p.length&&i(r(p)),s(v,u)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}}}var n=e.each;return t.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},t}),/**
 * Formatter.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/util/Tools"],function(e,t,n){return function(i){function r(e){return e.nodeType&&(e=e.nodeName),!!i.schema.getTextBlockElements()[e.toLowerCase()]}function o(e,t){return W.getParents(e,t,W.getRoot())}function a(e){return 1===e.nodeType&&"_mce_caret"===e.id}function s(){u({alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){et(n,function(t,n){W.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),et("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){u(e,{block:e,remove:"all"})}),u(i.settings.formats)}function l(){i.addShortcut("ctrl+b","bold_desc","Bold"),i.addShortcut("ctrl+i","italic_desc","Italic"),i.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;6>=e;e++)i.addShortcut("ctrl+"+e,"",["FormatBlock",!1,"h"+e]);i.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),i.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),i.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function c(e){return e?j[e]:j}function u(e,t){e&&("string"!=typeof e?et(e,function(e,t){u(t,e)}):(t=t.length?t:[t],et(t,function(e){e.deep===O&&(e.deep=!e.selector),e.split===O&&(e.split=!e.selector||e.inline),e.remove===O&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),j[e]=t))}function d(e){var t;return i.dom.getParent(e,function(e){return t=i.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function f(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=d(e.parentNode),i.dom.getStyle(e,"color")&&t?i.dom.setStyle(e,"text-decoration",t):i.dom.getStyle(e,"textdecoration")===t&&i.dom.setStyle(e,"text-decoration",null))}function p(t,n,o){function s(e,t){t=t||y,e&&(t.onformat&&t.onformat(e,t,n,o),et(t.styles,function(t,i){W.setStyle(e,i,T(t,n))}),et(t.attributes,function(t,i){W.setAttrib(e,i,T(t,n))}),et(t.classes,function(t){t=T(t,n),W.hasClass(e,t)||W.addClass(e,t)}))}function l(){function t(t,n){var i=new e(n);for(o=i.current();o;o=i.prev())if(o.childNodes.length>1||o==t||"BR"==o.tagName)return o}var n=i.selection.getRng(),r=n.startContainer,a=n.endContainer;if(r!=a&&0===n.endOffset){var s=t(r,a),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function u(e,t,n,i,r){var o,a,s=[],l=-1,c=-1,u=-1;return et(e.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(l=t,o=e,!1):void 0}),et(e.childNodes,function(e,n){"SPAN"===e.nodeName&&"bookmark"==W.getAttrib(e,"data-mce-type")&&(e.id==t.id+"_start"?c=n:e.id==t.id+"_end"&&(u=n))}),0>=l||l>c&&u>l?(et(tt(e.childNodes),r),0):(a=W.clone(n,Y),et(tt(e.childNodes),function(e,t){(l>c&&l>t||c>l&&t>l)&&(s.push(e),e.parentNode.removeChild(e))}),l>c?e.insertBefore(a,o):c>l&&e.insertBefore(a,o.nextSibling),i.push(a),et(s,function(e){a.appendChild(e)}),a)}function d(e,i,o){var l,c,d=[],f=!0;l=y.inline||y.block,c=W.create(l),s(c),q.walk(e,function(e){function p(e){var m,C,x,E,_;return _=f,m=e.nodeName.toLowerCase(),C=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&Z(e)&&(_=f,f="true"===Z(e),E=!0),w(m,"br")?(h=0,y.block&&W.remove(e),void 0):y.wrapper&&g(e,t,n)?(h=0,void 0):f&&!E&&y.block&&!y.wrapper&&r(m)&&U(C,l)?(e=W.rename(e,l),s(e),d.push(e),h=0,void 0):y.selector&&(et(v,function(t){"collapsed"in t&&t.collapsed!==b||W.is(e,t.selector)&&!a(e)&&(s(e,t),x=!0)}),!y.inline||x)?(h=0,void 0):(!f||E||!U(l,m)||!U(C,l)||!o&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||a(e)||y.inline&&V(e)?"li"==m&&i?h=u(e,i,c,d,p):(h=0,et(tt(e.childNodes),p),E&&(f=_),h=0):(h||(h=W.clone(c,Y),e.parentNode.insertBefore(h,e),d.push(h)),h.appendChild(e)),void 0)}var h;et(e,p)}),y.wrap_links===!1&&et(d,function(e){function t(e){var n,i,r;if("A"===e.nodeName){for(i=W.clone(c,Y),d.push(i),r=tt(e.childNodes),n=0;n<r.length;n++)i.appendChild(r[n]);e.appendChild(i)}et(tt(e.childNodes),t)}t(e)}),et(d,function(e){function i(e){var t=0;return et(e.childNodes,function(e){N(e)||F(e)||t++}),t}function r(e){var t,n;return et(e.childNodes,function(e){return 1!=e.nodeType||F(e)||a(e)?void 0:(t=e,Y)}),t&&x(t,y)&&(n=W.clone(t,Y),s(n),W.replace(n,e,J),W.remove(t,1)),n||e}var o;if(o=i(e),(d.length>1||!V(e))&&0===o)return W.remove(e,1),void 0;if(y.inline||y.wrapper){if(y.exact||1!==o||(e=r(e)),et(v,function(t){et(W.select(t.inline,e),function(e){var i;if(t.wrap_links===!1){i=e.parentNode;do if("A"===i.nodeName)return;while(i=i.parentNode)}D(t,n,e,t.exact?e:null)})}),g(e.parentNode,t,n))return W.remove(e,1),e=0,J;y.merge_with_parents&&W.getParent(e.parentNode,function(i){return g(i,t,n)?(W.remove(e,1),e=0,J):void 0}),e&&y.merge_siblings!==!1&&(e=R(B(e),e),e=R(e,B(e,J)))}})}var h,m,v=c(t),y=v[0],b=!o&&z.isCollapsed();if(y)if(o)o.nodeType?(m=W.createRng(),m.setStartBefore(o),m.setEndAfter(o),d(S(m,v),null,!0)):d(o,null,!0);else if(b&&y.inline&&!W.select("td.mce-item-selected,th.mce-item-selected").length)H("apply",t,n);else{var C=i.selection.getNode();X||!v[0].defaultBlock||W.getParent(C,W.isBlock)||p(v[0].defaultBlock),i.selection.setRng(l()),h=z.getBookmark(),d(S(z.getRng(J),v),h),y.styles&&(y.styles.color||y.styles.textDecoration)&&(nt(C,f,"childNodes"),f(C)),z.moveToBookmark(h),M(z.getRng(J)),i.nodeChanged()}}function h(e,t,n){function r(e){var n,i,o,a,s;if(1===e.nodeType&&Z(e)&&(a=b,b="true"===Z(e),s=!0),n=tt(e.childNodes),b&&!s)for(i=0,o=m.length;o>i&&!D(m[i],t,e,e);i++);if(y.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);s&&(b=a)}}function a(n){var i;return et(o(n.parentNode).reverse(),function(n){var r;i||"_start"==n.id||"_end"==n.id||(r=g(n,e,t),r&&r.split!==!1&&(i=n))}),i}function s(e,n,i,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=W.clone(o,Y),c=0;c<m.length;c++)if(D(m[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||y.mixed&&V(e)||(n=W.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(e){return s(a(e),e,e,!0)}function u(e){var t=W.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return F(n)&&(n=n[e?"firstChild":"lastChild"]),W.remove(t,!0),n}function f(e){var t,n;e=S(e,m,J),y.split&&(t=L(e,J),n=L(e),t!=n?(/^(TR|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TD"==t.nodeName?t.firstChild||t:t.firstChild.firstChild||t),t=k(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=k(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(t),l(n),t=u(J),n=u()):t=n=l(t),e.startContainer=t.parentNode,e.startOffset=K(t),e.endContainer=n.parentNode,e.endOffset=K(n)+1),q.walk(e,function(e){et(e,function(e){r(e),1===e.nodeType&&"underline"===i.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===d(e.parentNode)&&D({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var p,h,m=c(e),y=m[0],b=!0;return n?(n.nodeType?(h=W.createRng(),h.setStartBefore(n),h.setEndAfter(n),f(h)):f(n),void 0):(z.isCollapsed()&&y.inline&&!W.select("td.mce-item-selected,th.mce-item-selected").length?H("remove",e,t):(p=z.getBookmark(),f(z.getRng(J)),z.moveToBookmark(p),y.inline&&v(e,t,z.getStart())&&M(z.getRng(!0)),i.nodeChanged()),void 0)}function m(e,t,n){var i=c(e);!v(e,t,n)||"toggle"in i[0]&&!i[0].toggle?p(e,t,n):h(e,t,n)}function g(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===O){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?W.getAttrib(e,o):E(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!w(a,_(T(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?W.getAttrib(e,l[s]):E(e,l[s]))return t;return t}var o,a,s,l=c(t);if(l&&e)for(a=0;a<l.length;a++)if(o=l[a],x(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!W.hasClass(e,s[a]))return;return o}}function v(e,t,n){function i(n){var i=W.getRoot();return n=W.getParent(n,function(n){return n.parentNode===i||!!g(n,e,t,!0)}),g(n,e,t)}var r;return n?i(n):(n=z.getNode(),i(n)?J:(r=z.getStart(),r!=n&&i(r)?J:Y))}function y(e,t){var n,i=[],r={};return n=z.getStart(),W.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&g(n,a,t)&&(r[a]=!0,i.push(a))},W.getRoot()),i}function b(e){var t,n,i,r,a,s=c(e);if(s)for(t=z.getStart(),n=o(t),r=s.length-1;r>=0;r--){if(a=s[r].selector,!a||s[r].defaultBlock)return J;for(i=n.length-1;i>=0;i--)if(W.is(n[i],a))return J}return Y}function C(e,t,n){var r;return P||(P={},r={},i.on("NodeChange",function(e){var t=o(e.element),n={};et(P,function(e,i){et(t,function(o){return g(o,i,{},e.similar)?(r[i]||(et(e,function(e){e(!0,{node:o,format:i,parents:t})}),r[i]=e),n[i]=e,!1):void 0})}),et(r,function(i,o){n[o]||(delete r[o],et(i,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),et(e.split(","),function(e){P[e]||(P[e]=[],P[e].similar=n),P[e].push(t)}),this}function x(e,t){return w(e,t.inline)?J:w(e,t.block)?J:t.selector?1==e.nodeType&&W.is(e,t.selector):void 0}function w(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function E(e,t){return _(W.getStyle(e,t),t)}function _(e,t){return("color"==t||"backgroundColor"==t)&&(e=W.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function T(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function N(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function k(e,t,n){var i=W.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function S(t,n,a){function s(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var i,r,o,a,s;if(i=r=e?g:y,a=e?"previousSibling":"nextSibling",s=W.getRoot(),3==i.nodeType&&!N(i)&&(e?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&V(r))return r;for(o=r[a];o;o=o[a])if(!F(o)&&!N(o)&&!t(o))return r;if(r.parentNode==s){i=r;break}r=r.parentNode}return i}function l(e,t){for(t===O&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function c(e){for(var t=e;t;){if(1===t.nodeType&&Z(t))return"false"===Z(t)?t:e;t=t.parentNode}return e}function u(t,n,r){function o(e,t){var n,i,o=e.nodeValue;return"undefined"==typeof t&&(t=r?o.length:0),r?(n=o.lastIndexOf(" ",t),i=o.lastIndexOf("",t),n=n>i?n:i,-1===n||a||n++):(n=o.indexOf(" ",t),i=o.indexOf("",t),n=-1!==n&&(-1===i||i>n)?n:i),n}var s,l,c,u;if(3===t.nodeType){if(c=o(t,n),-1!==c)return{container:t,offset:c};u=t}for(s=new e(t,W.getParent(t,V)||i.getBody());l=s[r?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=o(l),-1!==c)return{container:l,offset:c}}else if(V(l))break;return u?(n=r?0:u.length,{container:u,offset:n}):void 0}function d(e,i){var r,a,s,l;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=o(e),a=0;a<r.length;a++)for(s=0;s<n.length;s++)if(l=n[s],!("collapsed"in l&&l.collapsed!==t.collapsed)&&W.is(r[a],l.selector))return r[a];return e}function f(e,t){var i,a=W.getRoot();if(n[0].wrapper||(i=W.getParent(e,n[0].block)),i||(i=W.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=a&&r(e)})),i&&n[0].wrapper&&(i=o(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!V(i[t])&&(i=i[t],!w(i,"br")););return i||e}var p,h,m,g=t.startContainer,v=t.startOffset,y=t.endContainer,b=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(p=g.childNodes.length-1,g=g.childNodes[v>p?p:v],3==g.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),g=c(g),y=c(y),(F(g.parentNode)||F(g))&&(g=F(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(F(y.parentNode)||F(y))&&(y=F(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(t.collapsed&&(m=u(g,v,!0),m&&(g=m.container,v=m.offset),m=u(y,b),m&&(y=m.container,b=m.offset)),h=l(y,b),h.node)){for(;h.node&&0===h.offset&&h.node.previousSibling;)h=l(h.node.previousSibling);h.node&&h.offset>0&&3===h.node.nodeType&&" "===h.node.nodeValue.charAt(h.offset-1)&&h.offset>1&&(y=h.node,y.splitText(h.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=s(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=s())),n[0].selector&&n[0].expand!==Y&&!n[0].inline&&(g=d(g,"previousSibling"),y=d(y,"nextSibling")),(n[0].block||n[0].selector)&&(g=f(g,"previousSibling"),y=f(y,"nextSibling"),n[0].block&&(V(g)||(g=s(!0)),V(y)||(y=s()))),1==g.nodeType&&(v=K(g),g=g.parentNode),1==y.nodeType&&(b=K(y)+1,y=y.parentNode),{startContainer:g,startOffset:v,endContainer:y,endOffset:b}}function D(e,t,n,i){var r,o,a;if(!x(n,e))return Y;if("all"!=e.remove)for(et(e.styles,function(e,r){e=_(T(e,t),r),"number"==typeof r&&(r=e,i=0),(!i||w(E(i,r),e))&&W.setStyle(n,r,""),a=1}),a&&""===W.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),et(e.attributes,function(e,r){var o;if(e=T(e,t),"number"==typeof r&&(r=e,i=0),!i||w(W.getAttrib(i,r),e)){if("class"==r&&(e=W.getAttrib(n,r),e&&(o="",et(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return W.setAttrib(n,r,o),void 0;"class"==r&&n.removeAttribute("className"),Q.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),et(e.classes,function(e){e=T(e,t),(!i||W.hasClass(i,e))&&W.removeClass(n,e)}),o=W.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return Y;return"none"!=e.remove?(A(n,e),J):void 0}function A(e,t){function n(e,t,n){return e=B(e,t,n),!e||"BR"==e.nodeName||V(e)}var i,r=e.parentNode;t.block&&(X?r==W.getRoot()&&(t.list_block&&w(e,t.list_block)||et(tt(e.childNodes),function(e){U(X,e.nodeName.toLowerCase())?i?i.appendChild(e):i=k(e,X):i=0})):V(e)&&!V(r)&&(n(e,Y)||n(e.firstChild,J,1)||e.insertBefore(W.create("br"),e.firstChild),n(e,J)||n(e.lastChild,Y,1)||e.appendChild(W.create("br")))),t.selector&&t.inline&&!w(t.inline,e)||W.remove(e,1)}function B(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!N(e))return e}function F(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function R(e,t){function n(e,t){function n(e){var t={};return et(W.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(t[i]=W.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===O)return Y;if(e[i]!=n)return Y;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return Y;return J}return e.nodeName!=t.nodeName?Y:i(n(e),n(t))?i(W.parseStyle(W.getAttrib(e,"style")),W.parseStyle(W.getAttrib(t,"style")))?J:Y:Y}function i(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!F(r))return r}return e}var r,o;if(e&&t&&(e=i(e,"previousSibling"),t=i(t,"nextSibling"),n(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return W.remove(t),et(tt(t.childNodes),function(t){e.appendChild(t)}),e}return t}function L(t,n){var r,o,a;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],1==r.nodeType&&(a=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>a?a:o]),3===r.nodeType&&n&&o>=r.nodeValue.length&&(r=new e(r,i.getBody()).next()||r),3!==r.nodeType||n||0!==o||(r=new e(r,i.getBody()).prev()||r),r}function H(t,n,o){function a(e){var t=W.create("span",{id:y,"data-mce-bogus":!0,style:b?"color:red":""});return e&&t.appendChild(i.getDoc().createTextNode(G)),t}function s(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==G||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function l(e){for(;e;){if(e.id===y)return e;e=e.parentNode}}function u(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=z.getRng(!0),s(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),W.remove(e)):(n=u(e),n.nodeValue.charAt(0)===G&&(n=n.deleteData(0,1)),W.remove(e,1)),z.setRng(i);else if(e=l(z.getStart()),!e)for(;e=W.get(y);)d(e,!1)}function f(){var e,t,i,r,s,d,f;e=z.getRng(!0),r=e.startOffset,d=e.startContainer,f=d.nodeValue,t=l(z.getStart()),t&&(i=u(t)),f&&r>0&&r<f.length&&/\w/.test(f.charAt(r))&&/\w/.test(f.charAt(r-1))?(s=z.getBookmark(),e.collapse(!0),e=S(e,c(n)),e=q.split(e),p(n,o,e),z.moveToBookmark(s)):(t&&i.nodeValue===G?p(n,o,t):(t=a(!0),i=t.firstChild,e.insertNode(t),r=1,p(n,o,t)),z.setCursorLocation(i,r))}function m(){var e,t,i,s,l,u,d,f,p=z.getRng(!0),m=[];for(e=p.startContainer,t=p.startOffset,l=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===G)&&(s=!0),l=l.parentNode);l;){if(g(l,n,o)){u=l;break}l.nextSibling&&(s=!0),m.push(l),l=l.parentNode}if(u)if(s)i=z.getBookmark(),p.collapse(!0),p=S(p,c(n),!0),p=q.split(p),h(n,o,p),z.moveToBookmark(i);else{for(f=a(),l=f,d=m.length-1;d>=0;d--)l.appendChild(W.clone(m[d],!1)),l=l.firstChild;l.appendChild(W.doc.createTextNode(G)),l=l.firstChild;var v=W.getParent(u,r);v&&W.isEmpty(v)?u.parentNode.replaceChild(f,u):W.insertAfter(f,u),z.setCursorLocation(l,1),W.isEmpty(u)&&W.remove(u)}}function v(){var e;e=l(z.getStart()),e&&!W.isEmpty(e)&&nt(e,function(e){1!=e.nodeType||e.id===y||W.isEmpty(e)||W.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var y="_mce_caret",b=i.settings.caret_debug;i._hasCaretEvents||($=function(){var e,t=[];if(s(l(z.getStart()),t))for(e=t.length;e--;)W.setAttrib(t[e],"data-mce-bogus","1")},I=function(e){var t=e.keyCode;d(),(8==t||37==t||39==t)&&d(l(z.getStart())),v()},i.on("SetContent",function(e){e.selection&&v()}),i._hasCaretEvents=!0),"apply"==t?f():m()}function M(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if(3==s.nodeType&&l>=s.nodeValue.length&&(l=K(s),s=s.parentNode,n=!0),1==s.nodeType)for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new e(s,W.getParent(s,W.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!N(r))return a=W.create("a",null,G),r.parentNode.insertBefore(a,r),t.setStart(r,0),z.setRng(t),W.remove(a),void 0}var P,O,I,$,j={},W=i.dom,z=i.selection,q=new t(W),U=i.schema.isValidChild,V=W.isBlock,X=i.settings.forced_root_block,K=W.nodeIndex,G="",Q=/^(src|href|style)$/,Y=!1,J=!0,Z=W.getContentEditable,et=n.each,tt=n.grep,nt=n.walk,it=n.extend;it(this,{get:c,register:u,apply:p,remove:h,toggle:m,match:v,matchAll:y,matchNode:g,canApply:b,formatChanged:C}),s(),l(),i.on("BeforeGetContent",function(){$&&$()}),i.on("mouseup keydown",function(e){I&&I(e)})}}),/**
 * UndoManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){var n,i=t.trim;return n=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(t){function r(){return i(t.getContent({format:"raw",no_events:1}).replace(n,""))}function o(){a.typing=!1,a.add()}var a,s,l,c,u=0,d=[];return t.on("init",function(){a.add()}),t.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&a.beforeChange()}),t.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&a.add()}),t.on("ObjectResizeStart",function(){a.beforeChange()}),t.on("SaveContent ObjectResized",o),t.dom.bind(t.dom.getRoot(),"dragend",o),t.dom.bind(t.getBody(),"focusout",function(){!t.removed&&a.typing&&o()}),t.on("KeyUp",function(n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||n.ctrlKey)&&(o(),t.nodeChanged()),(46==i||8==i||e.mac&&(91==i||93==i))&&t.nodeChanged(),l&&a.typing&&(t.isDirty()||(t.isNotDirty=!d[0]||r()==d[0].content,t.isNotDirty||t.fire("change",{level:d[0],lastLevel:null})),t.fire("TypingUndo"),l=!1,t.nodeChanged())}),t.on("KeyDown",function(e){var t=e.keyCode;return t>=33&&36>=t||t>=37&&40>=t||45==t?(a.typing&&o(),void 0):((16>t||t>20)&&224!=t&&91!=t&&!a.typing&&(a.beforeChange(),a.typing=!0,a.add(),l=!0),void 0)}),t.on("MouseDown",function(){a.typing&&o()}),t.addShortcut("ctrl+z","","Undo"),t.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos MouseUp",function(e){e.isDefaultPrevented()||t.nodeChanged()}),a={data:d,typing:!1,beforeChange:function(){c||(s=t.selection.getBookmark(2,!0))},add:function(e){var n,i,o=t.settings;if(e=e||{},e.content=r(),c||t.fire("BeforeAddUndo",{level:e}).isDefaultPrevented())return null;if(i=d[u],i&&i.content==e.content)return null;if(d[u]&&(d[u].beforeBookmark=s),o.custom_undo_redo_levels&&d.length>o.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,u=d.length}e.bookmark=t.selection.getBookmark(2,!0),u<d.length-1&&(d.length=u+1),d.push(e),u=d.length-1;var a={level:e,lastLevel:i};return t.fire("AddUndo",a),u>0&&(t.fire("change",a),t.isNotDirty=!1),e},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1),u>0&&(e=d[--u],0===u&&(t.isNotDirty=!0),t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),t.fire("undo",{level:e})),e},redo:function(){var e;return u<d.length-1&&(e=d[++u],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),t.fire("redo",{level:e})),e},clear:function(){d=[],u=0,a.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return u>0||a.typing&&d[0]&&r()!=d[0].content},hasRedo:function(){return u<d.length-1&&!this.typing},transact:function(e){a.beforeChange(),c=!0,e(),c=!1,a.add()}}}}),/**
 * EnterKey.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/Env"],function(e,t){var n=t.ie&&t.ie<11;return function(t){function i(i){function u(e){return e&&r.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==r.getContentEditable(e)}function d(e){var t;r.isBlock(e)&&(t=o.getRng(),e.appendChild(r.create("span",null,"")),o.select(e),e.lastChild.outerHTML="",o.setRng(t))}function f(e){for(var t,n=e,i=[];n=n.firstChild;){if(r.isBlock(n))return;1!=n.nodeType||c[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?r.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&r.remove(n)}function p(t){var n,i,a,s,l=t;if(a=r.createRng(),t.hasChildNodes()){for(n=new e(t,t);i=n.current();){if(3==i.nodeType){a.setStart(i,0),a.setEnd(i,0);break}if(c[i.nodeName.toLowerCase()]){a.setStartBefore(i),a.setEndBefore(i);break}l=i,i=n.next()}i||(a.setStart(l,0),a.setEnd(l,0))}else"BR"==t.nodeName?t.nextSibling&&r.isBlock(t.nextSibling)?((!S||9>S)&&(s=r.create("br"),t.parentNode.insertBefore(s,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));o.setRng(a),r.remove(s),o.scrollIntoView(t)}function h(e){var t,i,o,s=T;if(t=e||"TABLE"==R?r.create(e||H):k.cloneNode(!1),o=t,a.keep_styles!==!1)do if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(s.nodeName)){if("_mce_caret"==s.id)continue;i=s.cloneNode(!1),r.setAttrib(i,"id",""),t.hasChildNodes()?(i.appendChild(t.firstChild),t.appendChild(i)):(o=i,t.appendChild(i))}while(s=s.parentNode);return n||(o.innerHTML='<br data-mce-bogus="1">'),t}function m(t){var n,i,r;if(3==T.nodeType&&(t?N>0:N<T.nodeValue.length))return!1;if(T.parentNode==k&&M&&!t)return!0;if(t&&1==T.nodeType&&T==k.firstChild)return!0;if("TABLE"===T.nodeName||T.previousSibling&&"TABLE"==T.previousSibling.nodeName)return M&&!t||!M&&t;for(n=new e(T,k),3==T.nodeType&&(t&&0===N?n.prev():t||N!=T.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),c[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function g(e,n){var i,o,a,s,c,d,f=H||"P";if(o=r.getParent(e,r.isBlock),d=t.getBody().nodeName.toLowerCase(),!o||!u(o)){if(o=o||_,!o.hasChildNodes())return i=r.create(f),o.appendChild(i),P.setStart(i,0),P.setEnd(i,0),i;for(s=e;s.parentNode!=o;)s=s.parentNode;for(;s&&!r.isBlock(s);)a=s,s=s.previousSibling;if(a&&l.isValidChild(d,f.toLowerCase())){for(i=r.create(f),a.parentNode.insertBefore(i,a),s=a;s&&!r.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;P.setStart(e,n),P.setEnd(e,n)}}return e}function v(){function e(e){for(var t=F[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===k}function t(){var e=F.parentNode;return"LI"==e.nodeName?e:F}var n=F.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(H="LI"),A=H?h(H):r.create("BR"),e(!0)&&e()?"LI"==n?r.insertAfter(A,t()):r.replace(A,F):e(!0)?"LI"==n?(r.insertAfter(A,t()),A.appendChild(r.doc.createTextNode(" ")),A.appendChild(F)):F.parentNode.insertBefore(A,F):e()?(r.insertAfter(A,t()),d(A)):(F=t(),E=P.cloneRange(),E.setStartAfter(k),E.setEndAfter(F),B=E.extractContents(),r.insertAfter(B,F),r.insertAfter(A,F)),r.remove(k),p(A),s.add()}function y(){for(var t,n=new e(T,k);t=n.next();)if(c[t.nodeName.toLowerCase()]||t.length>0)return!0}function b(){var e,t,i;T&&3==T.nodeType&&N>=T.nodeValue.length&&(n||y()||(e=r.create("br"),P.insertNode(e),P.setStartAfter(e),P.setEndAfter(e),t=!0)),e=r.create("br"),P.insertNode(e),n&&"PRE"==R&&(!S||8>S)&&e.parentNode.insertBefore(r.doc.createTextNode("\r"),e),i=r.create("span",{},"&nbsp;"),e.parentNode.insertBefore(i,e),o.scrollIntoView(i),r.remove(i),t?(P.setStartBefore(e),P.setEndBefore(e)):(P.setStartAfter(e),P.setEndAfter(e)),o.setRng(P),s.add()}function C(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function x(e){var t,n,i=r.getRoot();for(t=e;t!==i&&"false"!==r.getContentEditable(t);)"true"===r.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function w(e){var t;n||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(r.getStyle(t,"float",!0)))&&r.add(e,"br"))}var E,_,T,N,k,S,D,A,B,F,R,L,H,M,P=o.getRng(!0);if(!P.collapsed)return t.execCommand("Delete"),void 0;if(!i.isDefaultPrevented()&&(T=P.startContainer,N=P.startOffset,H=(a.force_p_newlines?"p":"")||a.forced_root_block,H=H?H.toUpperCase():"",S=r.doc.documentMode,D=i.shiftKey,1==T.nodeType&&T.hasChildNodes()&&(M=N>T.childNodes.length-1,T=T.childNodes[Math.min(N,T.childNodes.length-1)]||T,N=M&&3==T.nodeType?T.nodeValue.length:0),_=x(T))){if(s.beforeChange(),!r.isBlock(_)&&_!=r.getRoot())return(!H||D)&&b(),void 0;if((H&&!D||!H&&D)&&(T=g(T,N)),k=r.getParent(T,r.isBlock),F=k?r.getParent(k.parentNode,r.isBlock):null,R=k?k.nodeName.toUpperCase():"",L=F?F.nodeName.toUpperCase():"","LI"!=L||i.ctrlKey||(k=F,R=L),"LI"==R){if(!H&&D)return b(),void 0;if(r.isEmpty(k))return v(),void 0}if("PRE"==R&&a.br_in_pre!==!1){if(!D)return b(),void 0}else if(!H&&!D&&"LI"!=R||H&&D)return b(),void 0;H&&k===t.getBody()||(H=H||"P",m()?(A=/^(H[1-6]|PRE|FIGURE)$/.test(R)&&"HGROUP"!=L?h(H):h(),a.end_container_on_empty_block&&u(F)&&r.isEmpty(k)?A=r.split(F,k):r.insertAfter(A,k),p(A)):m(!0)?(A=k.parentNode.insertBefore(h(),k),d(A),p(k)):(E=P.cloneRange(),E.setEndAfter(k),B=E.extractContents(),C(B),A=B.firstChild,r.insertAfter(B,k),f(A),w(k),p(A)),r.setAttrib(A,"id",""),t.fire("NewBlock",{newBlock:A}),s.add())}}var r=t.dom,o=t.selection,a=t.settings,s=t.undoManager,l=t.schema,c=l.getNonEmptyElements();t.on("keydown",function(e){13==e.keyCode&&i(e)!==!1&&e.preventDefault()})}}),/**
 * ForceBlocks.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ForceBlocks",[],function(){return function(e){function t(){var t,s,l,c,u,d,f,p,h,m,g,v,y=r.getStart(),b=e.getBody(),C=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(t=r.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset;try{h=e.getDoc().activeElement===b}catch(x){}}else t.item&&(y=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(y)),h=t.parentElement().ownerDocument===e.getDoc(),m=t.duplicate(),m.collapse(!0),l=-1*m.move("character",C),m.collapsed||(m=t.duplicate(),m.collapse(!1),u=-1*m.move("character",C)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,i.remove(f);continue}d||(d=i.create(v),y.parentNode.insertBefore(d,y),p=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(p&&h){if(t.setStart)t.setStart(s,l),t.setEnd(c,u),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(b),t.collapse(!0),t.moveStart("character",l),u>0&&t.moveEnd("character",u),t.select()}catch(x){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),/**
 * EditorCommands.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools"],function(e,n,i){var r=i.each,o=i.extend,a=i.map,s=i.inArray,l=i.explode,c=n.gecko,u=n.ie,d=!0,f=!1;return function(n){function i(e,t,n){var i;return e=e.toLowerCase(),(i=_.exec[e])?(i(e,t,n),d):f}function p(e){var t;return e=e.toLowerCase(),(t=_.state[e])?t(e):-1}function h(e){var t;return e=e.toLowerCase(),(t=_.value[e])?t(e):f}function m(e,t){t=t||"exec",r(e,function(e,n){r(n.toLowerCase().split(","),function(n){_[t][n]=e})})}function g(e,i,r){return i===t&&(i=f),r===t&&(r=null),n.getDoc().execCommand(e,i,r)}function v(e){return N.match(e)}function y(e,i){N.toggle(e,i?{value:i}:t),n.nodeChanged()}function b(e){x=E.getBookmark(e)}function C(){E.moveToBookmark(x)}var x,w=n.dom,E=n.selection,_={state:{},exec:{},value:{}},T=n.settings,N=n.formatter;o(this,{execCommand:i,queryCommandState:p,queryCommandValue:h,addCommands:m}),m({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},"Cut,Copy,Paste":function(e){var t,i=n.getDoc();try{g(e)}catch(r){t=d}(t||!i.queryCommandSupported(e))&&n.windowManager.alert("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")},unlink:function(e){E.isCollapsed()&&E.select(E.getNode()),g(e),E.collapse(f)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);"full"==t&&(t="justify"),r("left,center,right,justify".split(","),function(e){t!=e&&N.remove("align"+e)}),y("align"+t),i("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;g(e),t=w.getParent(E.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(b(),w.split(n,t),C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&7>=n&&(r=l(T.font_size_style_values),i=l(T.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),y(e,n)},RemoveFormat:function(e){N.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var e=E.getBookmark();n.setContent(n.getContent({cleanup:d}),{cleanup:d}),E.moveToBookmark(e)},mceRemoveNode:function(e,t,i){var r=i||E.getNode();r!=n.getBody()&&(b(),n.dom.remove(r,d),C())},mceSelectNodeDepth:function(e,t,i){var r=0;w.getParent(E.getNode(),function(e){return 1==e.nodeType&&r++==i?(E.select(e),f):void 0},n.getBody())},mceSelectNode:function(e,t,n){E.select(n)},mceInsertContent:function(t,i,r){function o(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=E.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}var a,s,l,c,d,f,p,h,m,g,v,y,b,C;/^ | $/.test(r)&&(r=o(r)),a=n.parser,s=new e({},n.schema),b='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',f={content:r,format:"html",selection:!0},n.fire("BeforeSetContent",f),r=f.content,-1==r.indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,b),E.isCollapsed()||n.getDoc().execCommand("Delete",!1,null),l=E.getNode();var x={context:l.nodeName.toLowerCase()};if(d=a.parse(r,x),v=d.lastChild,"mce_marker"==v.attr("id"))for(p=v,v=v.prev;v;v=v.walk(!0))if(3==v.type||!w.isBlock(v.name)){v.parent.insert(p,v,"br"===v.name);break}if(x.invalid){for(E.setContent(b),l=E.getNode(),c=n.getBody(),9==l.nodeType?l=v=c:v=l;v!==c;)l=v,v=v.parentNode;r=l==c?c.innerHTML:w.getOuterHTML(l),r=s.serialize(a.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(d)}))),l==c?w.setHTML(c,r):w.setOuterHTML(l,r)}else r=s.serialize(d),v=l.firstChild,y=l.lastChild,!v||v===y&&"BR"===v.nodeName?w.setHTML(l,r):E.setContent(r);p=w.get("mce_marker"),h=w.getRect(p),m=w.getViewPort(n.getWin()),(h.y+h.h>m.y+m.h||h.y<m.y||h.x>m.x+m.w||h.x<m.x)&&(C=u?n.getDoc().documentElement:n.getBody(),C.scrollLeft=h.x,C.scrollTop=h.y-m.h+25),g=w.createRng(),v=p.previousSibling,v&&3==v.nodeType?(g.setStart(v,v.nodeValue.length),u||(y=p.nextSibling,y&&3==y.nodeType&&(v.appendData(y.data),y.parentNode.removeChild(y)))):(g.setStartBefore(p),g.setEndBefore(p)),w.remove(p),E.setRng(g),n.fire("SetContent",f),n.addVisual()},mceInsertRawHTML:function(e,t,i){E.setContent("tiny_mce_marker"),n.setContent(n.getContent().replace(/tiny_mce_marker/g,function(){return i}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(e,t,i){n.setContent(i)},"Indent,Outdent":function(e){var t,n,i;t=T.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),p("InsertUnorderedList")||p("InsertOrderedList")?g(e):(T.forced_root_block||w.getParent(E.getNode(),w.isBlock)||N.apply("div"),r(E.getSelectedBlocks(),function(r){var o;"LI"!=r.nodeName&&(o="rtl"==w.getStyle(r,"direction",!0)?"paddingRight":"paddingLeft","outdent"==e?(i=Math.max(0,parseInt(r.style[o]||0,10)-t),w.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+t+n,w.setStyle(r,o,i)))}))},mceRepaint:function(){if(c)try{b(d),E.getSel()&&E.getSel().selectAllChildren(n.getBody()),E.collapse(d),C()}catch(e){}},InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(e,t,i){n.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,E.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=w.getParent(E.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||N.remove("link"),n.href&&N.apply("link",n,i)},selectAll:function(){var e=w.getRoot(),t=w.createRng();E.getRng().setStart?(t.setStart(e,0),t.setEnd(e,e.childNodes.length),E.setRng(t)):g("SelectAll")},mceNewDocument:function(){n.setContent("")}}),m({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=E.isCollapsed()?[w.getParent(E.getNode(),w.isBlock)]:E.getSelectedBlocks(),i=a(n,function(e){return!!N.matchNode(e,t)});return-1!==s(i,d)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(T.inline_styles){if((e=w.getParent(E.getStart(),w.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d;if((e=w.getParent(E.getEnd(),w.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return d}return p("InsertUnorderedList")||p("InsertOrderedList")||!T.inline_styles&&!!w.getParent(E.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=w.getParent(E.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),m({"FontSize,FontName":function(e){var t,n=0;return(t=w.getParent(E.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),m({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}})}}),/**
 * URI.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/URI",["tinymce/util/Tools"],function(e){function t(e,r){var o,a,s=this;return e=i(e),r=s.settings=r||{},/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?(s.source=e,void 0):(0===e.indexOf("/")&&0!==e.indexOf("//")&&(e=(r.base_uri?r.base_uri.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(a=r.base_uri?r.base_uri.path:new t(location.href).directory,e=(r.base_uri&&r.base_uri.protocol||"http")+"://mce_host"+s.toAbsPath(a,e)),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),s[t]=i}),o=r.base_uri,o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),s.port||"mce_host"!==s.host||(s.port=o.port),s.host&&"mce_host"!==s.host||(s.host=o.host),s.source=""),void 0)}var n=e.each,i=e.trim;return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,i=this;if("./"===e)return e;if(e=new t(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(this.host==e.host&&this.protocol==e.protocol?n:0)},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return i=e.length-a,o=0>=i?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t}),/**
 * Class.js
 *
 * Copyright 2003-2012, Moxiecode Systems AB, All rights reserved.
 */
i("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r;if(!i&&(r=this,r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n,i=this,r=i._super;return i._super=f[e],n=t.apply(i,arguments),i._super=r,n}}var l,c,u,d=this,f=d.prototype;i=!0,l=new d,i=!1,e.Mixins&&(r(e.Mixins,function(t){t=t;for(var n in t)"init"!==n&&(e[n]=t[n])}),f.Mixins&&(e.Mixins=f.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t,i=this;return e!==t?(i[n]=e,i):i[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&f.Defaults&&(e.Defaults=o({},f.Defaults,e.Defaults));for(c in e)u=e[c],l[c]="function"==typeof u&&f[c]?s(c,u):u;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),/**
 * Selector.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Selector",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){function n(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var i,r=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,a=/^\s*|\s*$/g,s=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):void 0}function n(e){return e?function(t){return t._name===e}:void 0}function i(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.hasClass(e[n]))return!1;return!0}):void 0}function s(e,t,n){return e?function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?0===n%2:"odd"===e?1===n%2:t[e]?t[e]():!1})):void 0}function c(e,o,c){function u(e){e&&o.push(e)}var d;return d=r.exec(e.replace(a,"")),u(t(d[1])),u(n(d[2])),u(i(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),o.psuedo=!!d[7],o.direct=c,o}function u(e,t){var n,i,r,a=[];do if(o.exec(""),i=o.exec(e),i&&(e=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&u(n,t),e=[],r=0;r<a.length;r++)">"!=a[r]&&e.push(c(a[r],[],">"===a[r-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,n){var i,r,o,a,s,l,c,u,d,f,p,h,m;for(n=n||this._selectors,i=0,r=n.length;r>i;i++){for(s=n[i],a=s.length,m=e,h=0,o=a-1;o>=0;o--)for(u=s[o];m;){for(u.psuedo&&(p=m.parent().items(),d=t.inArray(m,p),f=p.length),l=0,c=u.length;c>l;l++)if(!u[l](m,d,f)){l=c+1;break}if(l===c){h++;break}if(o===a-1)break;m=m.parent()}if(h===a)return!0}return!1},find:function(e){function t(e,n,i){var r,o,s,l,c,u=n[i];for(r=0,o=e.length;o>r;r++){for(c=e[r],s=0,l=u.length;l>s;s++)if(!u[s](c,r,o)){s=l+1;break}if(s===l)i==n.length-1?a.push(c):c.items&&t(c.items(),n,i+1);else if(u.direct)return;c.items&&t(c.items(),n,i)}}var r,o,a=[],l=this._selectors;if(e.items){for(r=0,o=l.length;o>r;r++)t(e.items(),l[r],0);o>1&&(a=n(a))}return i||(i=s.Collection),new i(a)}});return s}),/**
 * Collection.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;i>t;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=this,l=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):!1},prop:function(e,t){var n,i,r=this;return t!==n?(r.each(function(n){n[e]&&n[e](t)}),r):(i=r[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this}},e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),/**
 * DOMUtils.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){return{id:function(){return t.DOM.uniqueId()},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),/**
 * Control.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(e,t,n,i){var r=t.makeMap("focusin focusout scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave wheel keydown keypress keyup contextmenu"," "),o={},a="onmousewheel"in document,s=!1,l=e.extend({Statics:{controlIdLookup:{}},isRtl:function(){return l.rtl},classPrefix:"mce-",init:function(e){var n,r,o=this;if(o.settings=e=t.extend({},o.Defaults,e),o._id=i.id(),o._text=o._name="",o._width=o._height=0,o._aria={role:e.role},n=e.classes)for(n=n.split(" "),n.map={},r=n.length;r--;)n.map[n[r]]=!0;o._classes=n||[],o.visible(!0),t.each("title text width height name classes visible disabled active value".split(" "),function(t){var n,i=e[t];i!==n?o[t](i):o["_"+t]===n&&(o["_"+t]=!1)}),o.on("click",function(){return o.disabled()?!1:void 0}),e.classes&&t.each(e.classes.split(" "),function(e){o.addClass(e)}),o.settings=e,o._borderBox=o.parseBox(e.border),o._paddingBox=o.parseBox(e.padding),o._marginBox=o.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t;e&&!(t=l.controlIdLookup[e.id]);)e=e.parentNode;return t},parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}},initLayoutRect:function(){var e,t,n,r,o,a,s,l,c,u,d=this,f=d.settings,p=d.getEl();e=d._borderBox=d._borderBox||d.measureBox(p,"border"),d._paddingBox=d._paddingBox||d.measureBox(p,"padding"),d._marginBox=d._marginBox||d.measureBox(p,"margin"),u=i.getSize(p),l=f.minWidth,c=f.minHeight,o=l||u.width,a=c||u.height,n=f.width,r=f.height,s=f.autoResize,s="undefined"!=typeof s?s:!n&&!r,n=n||o,r=r||a;var h=e.left+e.right,m=e.top+e.bottom,g=f.maxWidth||65535,v=f.maxHeight||65535;return d._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:h,deltaH:m,contentW:n-h,contentH:r-m,innerW:n-h,innerH:r-m,startMinWidth:l||0,startMinHeight:c||0,minW:Math.min(o,g),minH:Math.min(a,v),maxW:g,maxH:v,autoResize:s,scrollW:0},d._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,c=s._layoutRect;return c||(c=s.initLayoutRect()),e?(i=c.deltaW,r=c.deltaH,e.x!==o&&(c.x=e.x),e.y!==o&&(c.y=e.y),e.minW!==o&&(c.minW=e.minW),e.minH!==o&&(c.minH=e.minH),n=e.w,n!==o&&(n=n<c.minW?c.minW:n,n=n>c.maxW?c.maxW:n,c.w=n,c.innerW=n-i),n=e.h,n!==o&&(n=n<c.minH?c.minH:n,n=n>c.maxH?c.maxH:n,c.h=n,c.innerH=n-r),n=e.innerW,n!==o&&(n=n<c.minW-i?c.minW-i:n,n=n>c.maxW-i?c.maxW-i:n,c.innerW=n,c.w=n+i),n=e.innerH,n!==o&&(n=n<c.minH-r?c.minH-r:n,n=n>c.maxH-r?c.maxH-r:n,c.innerH=n,c.h=n+r),e.contentW!==o&&(c.contentW=e.contentW),e.contentH!==o&&(c.contentH=e.contentH),t=s._lastLayoutRect,(t.x!==c.x||t.y!==c.y||t.w!==c.w||t.h!==c.h)&&(a=l.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=c.x,t.y=c.y,t.w=c.w,t.h=c.h),s):c},repaint:function(){var e,t,n,i,r,o=this,a=0,s=0;e=o.getEl().style,n=o._layoutRect,r=o._lastRepaintRect||{},i=o._borderBox,a=i.left+i.right,s=i.top+i.bottom,n.x!==r.x&&(e.left=n.x+"px",r.x=n.x),n.y!==r.y&&(e.top=n.y+"px",r.y=n.y),n.w!==r.w&&(e.width=n.w-a+"px",r.w=n.w),n.h!==r.h&&(e.height=n.h-s+"px",r.h=n.h),o._hasBody&&n.innerW!==r.innerW&&(t=o.getEl("body").style,t.width=n.innerW+"px",r.innerW=n.innerW),o._hasBody&&n.innerH!==r.innerH&&(t=t||o.getEl("body").style,t.height=n.innerH+"px",r.innerH=n.innerH),o._lastRepaintRect=r,o.fire("repaint",{},!1)},on:function(e,t){function n(e){var t,n;return function(i){return t||l.parents().each(function(i){var r=i.settings.callbacks;return r&&(t=r[e])?(n=i,!1):void 0}),t.call(n,i)}}var i,o,a,s,l=this;if(t)for("string"==typeof t&&(t=n(t)),a=e.toLowerCase().split(" "),s=a.length;s--;)e=a[s],i=l._bindings,i||(i=l._bindings={}),o=i[e],o||(o=i[e]=[]),o.push(t),r[e]&&(l._nativeEvents?l._nativeEvents[e]=!0:l._nativeEvents={name:!0},l._rendered&&l.bindPendingEvents());return l},off:function(e,t){var n,i,r,o,a,s=this,l=s._bindings;if(l)if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],i=l[e],!e){for(r in l)l[r].length=0;return s}if(i)if(t)for(a=i.length;a--;)i[a]===t&&i.splice(a,1);else i.length=0}else s._bindings=[];return s},fire:function(e,t,n){function i(){return!1}function r(){return!0}var o,a,s,l,c=this;if(e=e.toLowerCase(),t=t||{},t.type||(t.type=e),t.control||(t.control=c),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=r},t.stopPropagation=function(){t.isPropagationStopped=r},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=r},t.isDefaultPrevented=i,t.isPropagationStopped=i,t.isImmediatePropagationStopped=i),c._bindings&&(s=c._bindings[e]))for(o=0,a=s.length;a>o&&(t.isImmediatePropagationStopped()||s[o].call(c,t)!==!1);o++);if(n!==!1)for(l=c.parent();l&&!t.isPropagationStopped();)l.fire(e,t,!1),l=l.parent();return t},hasEventListeners:function(e){return e in this._bindings},parents:function(e){var t=this,i=new n;for(t=t.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){for(var n;e;){for(n=t;n&&e!=n;)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];return e=this.classPrefix+e,n&&!!n.map[e]},addClass:function(e,t){var n,i,r=this;return e=this.classPrefix+e,n=r._classes[t||"control"],n||(n=[],n.map={},r._classes[t||"control"]=n),n.map[e]||(n.map[e]=e,n.push(e),r._rendered&&(i=r.getEl(t),i&&(i.className=n.join(" ")))),r},removeClass:function(e,t){var n,i,r,o=this;if(e=this.classPrefix+e,n=o._classes[t||"control"],n&&n.map[e])for(delete n.map[e],i=n.length;i--;)n[i]===e&&n.splice(i,1);return o._rendered&&(r=o.getEl(t),r&&(r.className=n.join(" "))),o},toggleClass:function(e,t,n){var i=this;return t?i.addClass(e,n):i.removeClass(e,n),i},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){return i.innerHtml(this.getEl(),e),this},getEl:function(e,t){var n,r=e?this._id+"-"+e:this._id;return n=o[r]=(t===!0?null:o[r])||i.get(r)},visible:function(e){var t,n=this;return"undefined"!=typeof e?(n._visible!==e&&(n._rendered&&(n.getEl().style.display=e?"":"none"),n._visible=e,t=n.parent(),t&&(t._lastRect=null),n.fire(e?"show":"hide")),n):n._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl();return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n._rendered&&("label"==e&&i.setAttribute("aria-labeledby",n._id),i.setAttribute("role"==e?e:"aria-"+e,t)),n)},encode:function(e,t){return t!==!1&&l.translate&&(e=l.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),a=n.parent();if(n.items){var s=n.items().toArray();for(t=s.length;t--;)s[t].remove()}if(a&&a.items&&(e=[],a.items().each(function(t){t!==n&&e.push(t)}),a.items().set(e),a._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&i.off(r),delete l.controlIdLookup[n._id],delete o[n._id],r&&r.parentNode){var c=r.getElementsByTagName("*");for(t=c.length;t--;)delete o[c[t].id];r.parentNode.removeChild(r)}return n},renderBefore:function(e){var t=this;return e.parentNode.insertBefore(i.createFragment(t.renderHtml()),e),t.postRender(),t},renderTo:function(e){var t=this;return e=e||t.getContainerElm(),e.appendChild(i.createFragment(t.renderHtml())),t.postRender(),t},postRender:function(){var e,t,n,r,o,a=this,s=a.settings;for(r in s)0===r.indexOf("on")&&a.on(r.substr(2),s[r]);if(a._eventsRoot){for(n=a.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)a._nativeEvents[r]=!0}a.bindPendingEvents(),s.style&&(e=a.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),a._visible||i.css(a.getEl(),"display","none"),a.settings.border&&(t=a.borderBox(),i.css(a.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),l.controlIdLookup[a._id]=a;for(var c in a._aria)a.aria(c,a._aria[c]);a.fire("postrender",{},!1)},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),c=l.parentNode,u=t(l,c);return n=u.x,i=u.y,r=l.offsetWidth,o=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==e?(n-=a-r,i-=s-o):"center"==e&&(n-=a/2-r/2,i-=s/2-o/2),c.scrollLeft=n,c.scrollTop=i,this},bindPendingEvents:function(){function e(e){var t=p.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function n(e){var t,n,i,r=p.getParentCtrl(e.target),o=u._lastHoverCtrl,a=0;if(r!==o){if(u._lastHoverCtrl=r,n=r.parents().toArray().reverse(),n.push(r),o){for(i=o.parents().toArray().reverse(),i.push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;t>=a;t--)o=i[t],o.fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)r=n[t],r.fire("mouseenter",{target:r.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=p.fire("wheel",e)}var o,l,c,u,d,f,p=this;if(p._rendered=!0,d=p._nativeEvents){for(c=p.parents().toArray(),c.unshift(p),o=0,l=c.length;!u&&l>o;o++)u=c[o]._eventsRoot;for(u||(u=c[c.length-1]||p),p._eventsRoot=u,l=o,o=0;l>o;o++)c[o]._eventsRoot=u;for(f in d){if(!d)return!1;"wheel"!==f||s?("mouseenter"===f||"mouseleave"===f?u._hasMouseEnter||(i.on(u.getEl(),"mouseleave",t),i.on(u.getEl(),"mouseover",n),u._hasMouseEnter=1):u[f]||(i.on(u.getEl(),f,e),u[f]=!0),d[f]=!1):a?i.on(p.getEl(),"mousewheel",r):i.on(p.getEl(),"DOMMouseScroll",r)}}},reflow:function(){return this.repaint(),this}});return l}),/**
 * Factory.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Factory",[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=t[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),/**
 * Container.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n,i,r,o){var a={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e),e=n.settings,n._fixed=e.fixed,n._items=new t,n.isRtl()&&n.addClass("rtl"),n.addClass("container"),n.addClass("container-body","body"),e.containerCls&&n.addClass(e.containerCls),n._layout=i.create((e.layout||n.layout)+"layout"),n.settings.items&&n.add(n.settings.items),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=a[e]=a[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(){var e=this;return e.keyNav?e.keyNav.focusFirst():e._super(),e},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,o=this,a=[];return r.isArray(t)||(t=[t]),r.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=r.extend({},o.settings.defaults,t),t.type=n.type=n.type||t.type||o.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i,r;t.parent(e),t._rendered||(i=e.getEl("body"),r=o.createFragment(t.renderHtml()),i.hasChildNodes()&&n<=i.childNodes.length-1?i.insertBefore(r,i.childNodes[n]):i.appendChild(r),t.postRender())}),e._layout.applyClasses(e),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" role="'+this.settings.role+'">'+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t._rendered=!0,t.settings.style&&o.css(t.getEl(),t.settings.style),t.settings.border&&(e=t.borderBox(),o.css(t.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&&n.w==t.w&&n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t,n;if(this.visible()){for(e.repaintControls=[],e.repaintControls.map={},n=this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),/**
 * DragHelper.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(e){function t(){var e,t,n,i,r,o,a,s,l=document,c=Math.max;return e=l.documentElement,t=l.body,n=c(e.scrollWidth,t.scrollWidth),i=c(e.clientWidth,t.clientWidth),r=c(e.offsetWidth,t.offsetWidth),o=c(e.scrollHeight,t.scrollHeight),a=c(e.clientHeight,t.clientHeight),s=c(e.offsetHeight,t.offsetHeight),{width:r>n?i:n,height:s>o?a:o}}return function(n,i){function r(){return f.getElementById(i.handle||n)}var o,a,s,l,c,u,d,f=document;i=i||{},s=function(n){var s,p,h=t();n.preventDefault(),a=n.button,s=r(),u=n.screenX,d=n.screenY,p=window.getComputedStyle?window.getComputedStyle(s,null).getPropertyValue("cursor"):s.runtimeStyle.cursor,o=f.createElement("div"),e.css(o,{position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,background:"red",cursor:p}),f.body.appendChild(o),e.on(f,"mousemove",c),e.on(f,"mouseup",l),i.start(n)},c=function(e){return e.button!==a?l(e):(e.deltaX=e.screenX-u,e.deltaY=e.screenY-d,e.preventDefault(),i.drag(e),void 0)},l=function(t){e.off(f,"mousemove",c),e.off(f,"mouseup",l),o.parentNode.removeChild(o),i.stop&&i.stop(t)},this.destroy=function(){e.off(r())},e.on(r(),"mousedown",s)}}),/**
 * Scrollable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,f,p,h,m,g,v,y,b;if(f=r.getEl("scroll"+t)){if(y=a.toLowerCase(),b=s.toLowerCase(),r.getEl("absend")&&e.css(r.getEl("absend"),y,r.layoutRect()[l]-1),!c)return e.css(f,"display","none"),void 0;e.css(f,"display","block"),d=r.getEl("body"),p=r.getEl("scroll"+t+"t"),h=d["client"+s]-2*o,h-=n&&i?f["client"+u]:0,m=d["scroll"+s],g=h/m,v={},v[y]=d["offset"+a]+o,v[b]=h,e.css(f,v),v={},v[y]=d["scroll"+a]*g,v[b]=h*g,e.css(p,v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var c,u=r._id+"-scroll"+n,d=r.classPrefix;r.getEl().appendChild(e.createFragment('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'">'+'<div id="'+u+'t" class="'+d+'scrollbar-thumb"></div>'+"</div>")),r.draghelper=new t(u+"t",{start:function(){c=r.getEl("body")["scroll"+i],e.addClass(e.get(u),d+"active")},drag:function(e){var t,u,d,f,p=r.layoutRect();u=p.contentW>p.innerW,d=p.contentH>p.innerH,f=r.getEl("body")["client"+a]-2*o,f-=u&&d?r.getEl("scroll"+n)["client"+l]:0,t=f/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=c+e["delta"+s]/t},stop:function(){e.removeClass(e.get(u),d+"active")}})}r.addClass("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e.on(r.getEl("body"),"scroll",n)),n())}}}),/**
 * Panel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e._preBodyHtml||"")+n+"</div>"}})}),/**
 * Movable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){function t(t,n,i){var r,o,a,s,l,c,u,d,f,p;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t._fixed&&(a-=f.x,s-=f.y),r=t.getEl(),p=e.getSize(r),l=p.width,c=p.height,p=e.getSize(n),u=p.width,d=p.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this._fixed){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r._rendered?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),/**
 * Resizable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var i=e.getWindowSize();t=1>=t?t*i.w:t,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),/**
 * FloatPanel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(e,t,n,i){function r(e){var t;for(t=l.length;t--;)l[t]===e&&l.splice(t,1);for(t=c.length;t--;)c[t]===e&&c.splice(t,1)}var o,a,s,l=[],c=[],u=e.extend({Mixins:[t,n],init:function(e){function t(){var e,t,n=u.zIndex||65535;if(c.length)for(e=0;e<c.length;e++)c[e].modal&&(n++,t=c[e]),c[e].getEl().style.zIndex=n,c[e].zIndex=n,n++;var r=document.getElementById(d.classPrefix+"modal-block");t?i.css(r,"z-index",t.zIndex-1):r&&(r.parentNode.removeChild(r),s=!1),u.currentZIndex=n}function n(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function r(e){function t(t,n){for(var i,r=0;r<l.length;r++)if(l[r]!=e)for(i=l[r].parent();i&&(i=i.parent());)i==e&&l[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e._fixed?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}var d=this;d._super(e),d._eventsRoot=d,d.addClass("floatpanel"),e.autohide&&(o||(o=function(e){var t,i=d.getParentCtrl(e.target);for(t=l.length;t--;){var r=l[t];if(r.settings.autohide){if(i&&(n(i,r)||r.parent()===i))continue;e=r.fire("autohide",{target:e.target}),e.isDefaultPrevented()||r.hide()}}},i.on(document,"click",o)),l.push(d)),e.autofix&&(a||(a=function(){var e;for(e=l.length;e--;)r(l[e])},i.on(window,"scroll",a)),d.on("move",function(){r(this)})),d.on("postrender show",function(e){if(e.control==d){var n,r=d.classPrefix;d.modal&&!s&&(n=i.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),n=n.firstChild,d.getContainerElm().appendChild(n),setTimeout(function(){i.addClass(n,r+"in"),i.addClass(d.getEl(),r+"in")},0),s=!0),c.push(d),t()}}),d.on("close hide",function(e){if(e.control==d){for(var n=c.length;n--;)c[n]===d&&c.splice(n,1);t()}}),d.on("show",function(){d.parents().each(function(e){return e._fixed?(d.fixed(!0),!1):void 0})}),e.popover&&(d._preBodyHtml='<div class="'+d.classPrefix+'arrow"></div>',d.addClass("popover").addClass("bottom").addClass(d.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.toggleClass("fixed",e),t._fixed=e}return t},show:function(){var e,t=this,n=t._super();for(e=l.length;e--&&l[e]!==t;);return-1===e&&l.push(t),n},hide:function(){return r(this),this._super()},hideAll:function(){u.hideAll()},close:function(){var e=this;return e.fire("close"),e.remove()},remove:function(){r(this),this._super()}});return u.hideAll=function(){for(var e=l.length;e--;){var t=l[e];t.settings.autohide&&(t.fire("cancel",{},!1),t.hide(),l.splice(e,1))}},u}),/**
 * KeyboardNavigation.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/KeyboardNavigation",["tinymce/ui/DomUtils"],function(e){return function(t){function n(){if(!m)if(m=[],f.find)f.find("*").each(function(e){e.canFocus&&m.push(e.getEl())});else for(var e=f.getEl().getElementsByTagName("*"),t=0;t<e.length;t++)e[t].id&&e[t]&&m.push(e[t])}function i(){return document.getElementById(d)}function r(e){return e=e||i(),e&&e.getAttribute("role")}function o(e){for(var t,n=e||i();n=n.parentNode;)if(t=r(n))return t}function a(e){var t=document.getElementById(d);return t?t.getAttribute("aria-"+e):void 0}function s(){var n=i();if(!n||"TEXTAREA"!=n.nodeName&&"text"!=n.type)return t.onAction?t.onAction(d):e.fire(i(),"click",{keyboard:!0}),!0}function l(){var e;t.onCancel?((e=i())&&e.blur(),t.onCancel()):t.root.fire("cancel")}function c(e){function i(e){for(var t=f?f.getEl():document.body;e&&e!=t;){if("none"==e.style.display)return!1;e=e.parentNode}return!0}var r,o,a=-1,l=[];for(n(),o=l.length,o=0;o<m.length;o++)i(m[o])&&l.push(m[o]);for(o=l.length;o--;)if(l[o].id===d){a=o;break}a+=e,0>a?a=l.length-1:a>=l.length&&(a=0),r=l[a],r.focus(),d=r.id,t.actOnFocus&&s()}function u(){var e,i;for(i=r(t.root.getEl()),n(),e=m.length;e--;)if("toolbar"==i&&m[e].id===d)return m[e].focus(),void 0;m[0].focus()}var d,f=t.root,p=t.enableUpDown!==!1,h=t.enableLeftRight!==!1,m=t.items;return f.on("keydown",function(e){var n,i=37,u=39,d=38,f=40,m=27,g=14,v=13,y=32,b=9;switch(e.keyCode){case i:h&&(t.leftAction?t.leftAction():c(-1),n=!0);break;case u:h&&("menuitem"==r()&&"menu"==o()?a("haspopup")&&s():c(1),n=!0);break;case d:p&&(c(-1),n=!0);break;case f:p&&("menuitem"==r()&&"menubar"==o()?s():"button"==r()&&a("haspopup")?s():c(1),n=!0);break;case b:n=!0,e.shiftKey?c(-1):c(1);break;case m:n=!0,l();break;case g:case v:case y:n=s()}n&&(e.stopPropagation(),e.preventDefault())}),f.on("focusin",function(e){n(),d=e.target.id}),{moveFocus:c,focusFirst:u,cancel:l}}}),/**
 * Window.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/KeyboardNavigation","tinymce/ui/DragHelper"],function(e,t,n,i,r){var o=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.addClass("rtl"),n.addClass("window"),n._fixed=!0,e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.addClass("foot"),n.statusbar.parent(n)),n.on("click",function(e){-1!=e.target.className.indexOf(n.classPrefix+"close")&&n.close()}),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(n.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW,t>e.w&&(r.layoutRect({w:t}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),t=o.layoutRect().minW+e.deltaW,t>e.w&&(r.layoutRect({w:t}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=Math.max(0,a.w/2-i.w/2),i.y=Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head">'+'<div class="'+i+'title">'+e.encode(r.title)+"</div>"+'<button type="button" class="'+i+'close" aria-hidden="true">&times;</button>'+'<div id="'+n+'-dragh" class="'+i+'dragh"></div>'+"</div>"),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+o+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+s+"</div>"+a+"</div>"},fullscreen:function(e){var t,i,r=this,o=document.documentElement,a=r.classPrefix;if(e!=r._fullscreen)if(n.on(window,"resize",function(){var e;if(r._fullscreen)if(t)r._timer||(r._timer=setTimeout(function(){var e=n.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();r.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),i=r.layoutRect(),r._fullscreen=e,e){r._initial={x:i.x,y:i.y,w:i.w,h:i.h},r._borderBox=r.parseBox("0"),r.getEl("head").style.display="none",i.deltaH-=i.headerH+2,n.addClass(o,a+"fullscreen"),n.addClass(document.body,a+"fullscreen"),r.addClass("fullscreen");var s=n.getWindowSize();r.moveTo(0,0).resizeTo(s.w,s.h)}else r._borderBox=r.parseBox(r.settings.border),r.getEl("head").style.display="",i.deltaH+=i.headerH,n.removeClass(o,a+"fullscreen"),n.removeClass(document.body,a+"fullscreen"),r.removeClass("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var e,t,n,o=this,a=[];setTimeout(function(){o.addClass("in")},0),o.keyboardNavigation=new i({root:o,enableLeftRight:!1,enableUpDown:!1,items:a,onCancel:function(){o.close()}}),o.find("*").each(function(n){n.canFocus&&(t=t||n.settings.autofocus,e=e||n,"filepicker"==n.type?(a.push(n.getEl("inp")),n.getEl("open")&&a.push(n.getEl("open"))):a.push(n.getEl()))}),o.statusbar&&o.statusbar.find("*").each(function(n){n.canFocus&&(t=t||n.settings.autofocus,e=e||n,a.push(n.getEl()))}),o._super(),o.statusbar&&o.statusbar.postRender(),!t&&e&&e.focus(),this.dragHelper=new r(o._id+"-dragh",{start:function(){n={x:o.layoutRect().x,y:o.layoutRect().y}},drag:function(e){o.moveTo(n.x+e.deltaX,n.y+e.deltaY)}}),o.on("submit",function(e){e.isDefaultPrevented()||o.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this;e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove()}});return o}),/**
 * MessageBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){var i,r=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}},{type:"button",text:"Cancel",onClick:function(e){e.control.parents()[1].close(),r(!1)}}];break;case t.YES_NO:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}];break;case t.YES_NO_CANCEL:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close()}}];break;default:i=[{type:"button",text:"Ok",subtype:"primary",onClick:function(e){e.control.parents()[1].close(),r(!0)}}]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onClose:n.onClose}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),/**
 * WindowManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){function i(){return o.length?o[o.length-1]:void 0}var r=this,o=[];r.windows=o,r.open=function(t,i){var r;return n.editorManager.activeEditor=n,t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit(),r.close()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new e(t),o.push(r),r.on("close",function(){for(var e=o.length;e--;)o[e]===r&&o.splice(e,1);n.focus()}),t.data&&r.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),r.features=t||{},r.params=i||{},n.nodeChanged(),r.renderTo(document.body).reflow()},r.alert=function(e,n,i){t.alert(e,function(){n&&n.call(i||this)})},r.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})},r.close=function(){i()&&i().close()},r.getParams=function(){return i()?i().params:null},r.setParams=function(e){i()&&(i().params=e)}}}),/**
 * Quirks.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 *
 * @ignore-file
 */
i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,t,n,i,r,o){return function(a){function s(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(n){}}function l(){var e=a.getDoc().documentMode;return e?e:6}function c(e){return e.isDefaultPrevented()}function u(){function t(e){function t(){if(3==l.nodeType){if(e&&c==l.length)return!0;if(!e&&0===c)return!0}}var n,i,r,s,l,c,u;n=j.getRng();var d=[n.startContainer,n.startOffset,n.endContainer,n.endOffset];if(n.collapsed||(e=!0),l=n[(e?"start":"end")+"Container"],c=n[(e?"start":"end")+"Offset"],3==l.nodeType&&(i=$.getParent(n.startContainer,$.isBlock),e&&(i=$.getNext(i,$.isBlock)),!i||!t()&&n.collapsed||(r=$.create("em",{id:"__mceDel"}),P(o.grep(i.childNodes),function(e){r.appendChild(e)}),i.appendChild(r))),n=$.createRng(),n.setStart(d[0],d[1]),n.setEnd(d[2],d[3]),j.setRng(n),a.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),r){for(s=j.getBookmark();u=$.get("__mceDel");)$.remove(u,!0);j.moveToBookmark(s)}}a.on("keydown",function(n){var i;i=n.keyCode==I,c(n)||!i&&n.keyCode!=O||e.modifierPressed(n)||(n.preventDefault(),t(i))}),a.addCommand("Delete",function(){t()})}function d(){function e(e){var t=$.create("body"),n=e.cloneContents();return t.appendChild(n),j.serializer.serialize(t,{format:"html"})}function t(t){var n=e(t),i=$.createRng();i.selectNode(a.getBody());var r=e(i);return n===r}a.on("keydown",function(e){var n,i=e.keyCode;if(!c(e)&&(i==I||i==O)){if(n=a.selection.isCollapsed(),n&&!$.isEmpty(a.getBody()))return;if(V&&!n)return;if(!n&&!t(a.selection.getRng()))return;e.preventDefault(),a.setContent(""),a.selection.setCursorLocation(a.getBody(),0),a.nodeChanged()}})}function f(){a.on("keydown",function(t){!c(t)&&65==t.keyCode&&e.metaKeyPressed(t)&&(t.preventDefault(),a.execCommand("SelectAll"))})}function p(){a.settings.content_editable||($.bind(a.getDoc(),"focusin",function(){j.setRng(j.getRng())}),$.bind(a.getDoc(),"mousedown",function(e){e.target==a.getDoc().documentElement&&(a.getWin().focus(),j.setRng(j.getRng()))}))}function h(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===O&&j.isCollapsed()&&0===j.getRng(!0).startOffset){var t=j.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return $.remove(t),e.preventDefault(),void 0;n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&($.remove(n),e.preventDefault())}})}function m(){window.Range.prototype.getClientRects||a.on("mousedown",function(e){if(!c(e)&&"HTML"===e.target.nodeName){var t=a.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function g(){a.on("click",function(e){e=e.target,/^(IMG|HR)$/.test(e.nodeName)&&j.getSel().setBaseAndExtent(e,0,e,1),"A"==e.nodeName&&$.hasClass(e,"mce-item-anchor")&&j.select(e),a.nodeChanged()})}function v(){function e(){var e=$.getAttribs(j.getStart().cloneNode(!1));return function(){var t=j.getStart();t!==a.getBody()&&($.setAttrib(t,"style",null),P(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!j.isCollapsed()&&$.getParent(j.getStart(),$.isBlock)!=$.getParent(j.getEnd(),$.isBlock)}a.on("keypress",function(n){var i;return c(n)||8!=n.keyCode&&46!=n.keyCode||!t()?void 0:(i=e(),a.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),$.bind(a.getDoc(),"cut",function(n){var i;!c(n)&&t()&&(i=e(),setTimeout(function(){i()},0))})}function y(){var e,n;a.on("selectionchange",function(){n&&(clearTimeout(n),n=0),n=window.setTimeout(function(){var n=j.getRng();e&&t.compareRanges(n,e)||(a.nodeChanged(),e=n)},50)})}function b(){document.body.setAttribute("role","application")}function C(){a.on("keydown",function(e){if(!c(e)&&e.keyCode===O&&j.isCollapsed()&&0===j.getRng(!0).startOffset){var t=j.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function x(){l()>7||(s("RespectVisibilityInDesign",!0),a.contentStyles.push(".mceHideBrInPre pre br {display: none}"),$.addClass(a.getBody(),"mceHideBrInPre"),z.addNodeFilter("pre",function(e){for(var t,i,r,o,a=e.length;a--;)for(t=e[a].getAll("br"),i=t.length;i--;)r=t[i],o=r.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new n("#text",3),r,!0).value="\n"}),q.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function w(){$.bind(a.getBody(),"mouseup",function(){var e,t=j.getNode();"IMG"==t.nodeName&&((e=$.getStyle(t,"width"))&&($.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),$.setStyle(t,"width","")),(e=$.getStyle(t,"height"))&&($.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),$.setStyle(t,"height","")))})}function E(){a.on("keydown",function(t){var n,i,r,o,s,l,u,d;if(n=t.keyCode==I,!c(t)&&(n||t.keyCode==O)&&!e.modifierPressed(t)&&(i=j.getRng(),r=i.startContainer,o=i.startOffset,u=i.collapsed,3==r.nodeType&&r.nodeValue.length>0&&(0===o&&!u||u&&o===(n?0:1)))){if(l=r.previousSibling,l&&"IMG"==l.nodeName)return;d=a.schema.getNonEmptyElements(),t.preventDefault(),s=$.create("br",{id:"__tmp"}),r.parentNode.insertBefore(s,r),a.getDoc().execCommand(n?"ForwardDelete":"Delete",!1,null),r=j.getRng().startContainer,l=r.previousSibling,l&&1==l.nodeType&&!$.isBlock(l)&&$.isEmpty(l)&&!d[l.nodeName.toLowerCase()]&&$.remove(l),$.remove("__tmp")}})}function _(){a.on("keydown",function(t){var n,i,r,o,s;if(!c(t)&&t.keyCode==e.BACKSPACE&&(n=j.getRng(),i=n.startContainer,r=n.startOffset,o=$.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(a.formatter.toggle("blockquote",null,s),n=$.createRng(),n.setStart(i,0),n.setEnd(i,0),j.setRng(n))}})}function T(){function e(){a._refreshContentEditable(),s("StyleWithCSS",!1),s("enableInlineTableEditing",!1),W.object_resizing||s("enableObjectResizing",!1)}W.readonly||a.on("BeforeExecCommand MouseDown",e)}function N(){function e(){P($.select("a"),function(e){var t=e.parentNode,n=$.getRoot();if(t.lastChild===e){for(;t&&!$.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}$.add(t,"br",{"data-mce-bogus":1})}})}a.on("SetContent ExecCommand",function(t){("setcontent"==t.type||"mceInsertLink"===t.command)&&e()})}function k(){W.forced_root_block&&a.on("init",function(){s("DefaultParagraphSeparator",W.forced_root_block)})}function S(){a.on("Undo Redo SetContent",function(e){e.initial||a.execCommand("mceRepaint")})}function D(){a.on("keydown",function(e){var t;c(e)||e.keyCode!=O||(t=a.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),a.undoManager.beforeChange(),$.remove(t.item(0)),a.undoManager.add()))})}function A(){var e;l()>=10&&(e="",P("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),a.contentStyles.push(e+"{padding-right: 1px !important}"))}function B(){l()<9&&(z.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),q.addNodeFilter("noscript",function(e){for(var t,r,o,a=e.length;a--;)t=e[a],r=e[a].firstChild,r?r.value=i.decode(r.value):(o=t.attributes.map["data-mce-innertext"],o&&(t.attr("data-mce-innertext",null),r=new n("#text",3),r.value=o,r.raw=!0,t.append(r)))}))}function F(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),$.unbind(a,"mouseup",n),$.unbind(a,"mousemove",t),r=i=0}var i,r,o,a=$.doc,s=a.body;a.documentElement.unselectable=!0,$.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(s.x,s.y),r&&($.bind(a,"mouseup",n),$.bind(a,"mousemove",t),$.win.focus(),r.select())}})}function R(){a.on("keyup focusin",function(t){65==t.keyCode&&e.metaKeyPressed(t)||j.normalize()})}function L(){a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function H(){a.inline||a.on("keydown",function(){document.activeElement==document.body&&a.getWin().focus()})}function M(){a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",function(e){"HTML"==e.target.nodeName&&(a.execCommand("SelectAll"),a.selection.collapse(!0),a.nodeChanged())}))}var P=o.each,O=e.BACKSPACE,I=e.DELETE,$=a.dom,j=a.selection,W=a.settings,z=a.parser,q=a.serializer,U=r.gecko,V=r.ie,X=r.webkit;C(),_(),d(),R(),X&&(E(),u(),p(),g(),k(),r.iOS?(y(),H()):f()),V&&r.ie<11&&(h(),b(),x(),w(),D(),A(),B(),F()),r.ie>=11&&M(),U&&(h(),m(),v(),T(),N(),S(),L())}}),/**
 * Observable.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/Observable",["tinymce/util/Tools"],function(e){function t(){return!1}function n(){return!0}var i="__bindings",r=e.makeMap("focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave keydown keypress keyup contextmenu dragend dragover draggesture dragdrop drop drag"," ");return{fire:function(e,r,o){var a,s,l,c,u,d=this;if(e=e.toLowerCase(),r=r||{},r.type=e,r.target||(r.target=d),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=n},r.stopPropagation=function(){r.isPropagationStopped=n},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=n},r.isDefaultPrevented=t,r.isPropagationStopped=t,r.isImmediatePropagationStopped=t),d[i]&&(a=d[i][e]))for(s=0,l=a.length;l>s&&(a[s]=c=a[s],!r.isImmediatePropagationStopped());s++)if(c.call(d,r)===!1)return r.preventDefault(),r;if(o!==!1&&d.parent)for(u=d.parent();u&&!r.isPropagationStopped();)u.fire(e,r,!1),u=u.parent();return r},on:function(e,t){var n,o,a,s,l=this;if(t===!1&&(t=function(){return!1}),t)for(a=e.toLowerCase().split(" "),s=a.length;s--;)e=a[s],n=l[i],n||(n=l[i]={}),o=n[e],o||(o=n[e]=[],l.bindNative&&r[e]&&l.bindNative(e)),o.push(t);return l},off:function(e,t){var n,o,a,s,l,c=this,u=c[i];if(u)if(e)for(s=e.toLowerCase().split(" "),n=s.length;n--;){if(e=s[n],o=u[e],!e){for(a in u)u[e].length=0;return c}if(o){if(t)for(l=o.length;l--;)o[l]===t&&o.splice(l,1);else o.length=0;!o.length&&c.unbindNative&&r[e]&&(c.unbindNative(e),delete u[e])}}else{if(c.unbindNative)for(e in u)c.unbindNative(e);c[i]=[]}return c},hasEventListeners:function(e){var t=this[i];return e=e.toLowerCase(),!(!t||!t[e]||0===t[e].length)}}}),/**
 * Shortcuts.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122};return function(o){var a=this,s={};o.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&n(s,function(n){var i=t.mac?e.ctrlKey||e.metaKey:e.ctrlKey;if(n.ctrl==i&&n.alt==e.altKey&&n.shift==e.shiftKey)return e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode?(e.preventDefault(),"keydown"==e.type&&n.func.call(n.scope),!0):void 0})}),a.add=function(t,a,l,c){var u;return u=l,"string"==typeof l?l=function(){o.execCommand(u,!1,null)}:e.isArray(u)&&(l=function(){o.execCommand(u[0],u[1],u[2])}),n(i(t.toLowerCase()),function(e){var t={func:l,scope:c||o,desc:o.translate(a),alt:!1,ctrl:!1,shift:!1};n(i(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=!0;break;default:t.charCode=e.charCodeAt(0),t.keyCode=r[e]||e.toUpperCase().charCodeAt(0)}}),s[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t}),!0}}}),/**
 * Editor.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/AddOnManager","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/Shortcuts"],function(e,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w){function E(e,t){return"selectionchange"==t||"drop"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu/.test(t)?e.getDoc():e.getBody()}function _(e,t,i){var r,o,a=this;r=a.documentBaseUrl=i.documentBaseURL,o=i.baseURI,a.settings=t=S({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},t),n.language=t.language||"en",n.languageLoad=t.language_load,n.baseURL=i.baseURL,a.id=t.id=e,a.isNotDirty=!0,a.plugins={},a.documentBaseURI=new f(t.document_base_url||r,{base_uri:o}),a.baseURI=o,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new w(a),a.execCommands={},a.queryStateCommands={},a.queryValueCommands={},a.loadedCSS={},a.suffix=i.suffix,a.editorManager=i,a.inline=t.inline,a.execCallback("setup",a),i.fire("SetupEditor",a)}var T=e.DOM,N=n.ThemeManager,k=n.PluginManager,S=C.extend,D=C.each,A=C.explode,B=C.inArray,F=C.trim,R=C.resolve,L=h.Event,H=b.gecko,M=b.ie;return _.prototype={render:function(){function e(){T.unbind(window,"ready",e),n.render()}function t(){var e=p.ScriptLoader;if(i.language&&"en"!=i.language&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!N.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+o+".js",N.load(i.theme,t)}C.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),D(i.external_plugins,function(e,t){k.load(t,e),i.plugins+=" "+t}),D(i.plugins.split(/[ ,]/),function(e){if(e=F(e),e&&!k.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=k.dependencies(e);D(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=k.createUrl(t,e),k.load(e.resource,e)})}else k.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!L.domLoaded)return T.bind(window,"ready",e),void 0;if(n.getElement()&&b.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||T.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(T.insertAfter(T.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},T.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,a._mceOldSubmit(a)})),n.windowManager=new m(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=T.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}},init:function(){function e(t){var n,i,r=k.get(t);n=k.urls[t]||d.documentBaseUrl.replace(/\/$/,""),t=F(t),r&&-1===B(h,t)&&(D(k.dependencies(t),function(t){e(t)}),i=new r(d,n),d.plugins[t]=i,i.init&&(i.init(d,n),h.push(t)))}var t,n,i,r,o,a,s,l,c,u,d=this,f=d.settings,p=d.getElement(),h=[];if(d.rtl=this.editorManager.i18n.rtl,d.editorManager.add(d),f.aria_label=f.aria_label||T.getAttrib(p,"aria-label",d.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=N.get(f.theme),d.theme=new o(d,N.urls[f.theme]),d.theme.init&&d.theme.init(d,N.urls[f.theme]||d.documentBaseUrl.replace(/\/$/,""))):d.theme=f.theme),D(f.plugins.replace(/\-/g,"").split(/[ ,]/),e),d.fire("BeforeRenderUI"),f.render_ui&&d.theme&&(d.orgDisplay=p.style.display,"function"!=typeof f.theme?(t=f.width||p.style.width||p.offsetWidth,n=f.height||p.style.height||p.offsetHeight,i=f.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+t)&&(t=Math.max(parseInt(t,10)+(o.deltaWidth||0),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10)+(o.deltaHeight||0),i)),o=d.theme.renderUI({targetNode:p,width:t,height:n,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(T.setStyles(o.sizeContainer||o.editorContainer,{wi2dth:t,h2eight:n}),n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=f.theme(d,p),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||d.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||d.id+"_iframecontainer"),n=o.iframeHeight||p.offsetHeight),d.editorContainer=o.editorContainer),f.content_css&&D(A(f.content_css),function(e){d.contentCSS.push(d.documentBaseURI.toAbsolute(e))}),f.content_style&&d.contentStyles.push(f.content_style),f.content_editable)return p=r=o=null,d.initContentBody();for(d.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=d.documentBaseUrl&&(d.iframeHTML+='<base href="'+d.documentBaseURI.getURI()+'" />'),!b.caretAfter&&f.ie7_compat&&(d.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),d.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',u=0;u<d.contentCSS.length;u++){var m=d.contentCSS[u];d.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+m+'" />',d.loadedCSS[m]=!0}s=f.body_id||"tinymce",-1!=s.indexOf("=")&&(s=d.getParam("body_id","","hash"),s=s[d.id]||s),l=f.body_class||"",-1!=l.indexOf("=")&&(l=d.getParam("body_class","","hash"),l=l[d.id]||""),d.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" '+"onload=\"window.parent.tinymce.get('"+d.id+"').fire('load');\"><br></body></html>";var g='javascript:(function(){document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody(true);})()";if(document.domain!=location.hostname&&(a=g),r=T.add(o.iframeContainer,"iframe",{id:d.id+"_ifr",src:a||'javascript:""',frameBorder:"0",allowTransparency:"true",title:d.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}}),M)try{d.getDoc()}catch(v){r.src=a=g}d.contentAreaContainer=o.iframeContainer,o.editorContainer&&(T.get(o.editorContainer).style.display=d.orgDisplay),T.get(d.id).style.display="none",T.setAttrib(d.id,"aria-hidden",!0),a||d.initContentBody(),p=r=o=null},initContentBody:function(t){var n,o,f=this,p=f.settings,h=T.get(f.id),m=f.getDoc();p.inline||(f.getElement().style.visibility=f.orgVisibility),t||p.content_editable||(m.open(),m.write(f.iframeHTML),m.close()),p.content_editable&&(f.on("remove",function(){var e=this.getBody();T.removeClass(e,"mce-content-body"),T.removeClass(e,"mce-edit-focus"),T.setAttrib(e,"tabIndex",null),T.setAttrib(e,"contentEditable",null)}),T.addClass(h,"mce-content-body"),h.tabIndex=-1,f.contentDocument=m=p.content_document||document,f.contentWindow=p.content_window||window,f.bodyElement=h,p.content_document=p.content_window=null,p.root_name=h.nodeName.toLowerCase()),n=f.getBody(),n.disabled=!0,p.readonly||(n.contentEditable=f.getParam("content_editable_state",!0)),n.disabled=!1,f.schema=new g(p),f.dom=new e(m,{keep_values:!0,url_converter:f.convertURL,url_converter_scope:f,hex_colors:p.force_hex_style_colors,class_filter:p.class_filter,update_styles:!0,root_element:p.content_editable?f.id:null,collect:p.content_editable,schema:f.schema,onSetAttrib:function(e){f.fire("SetAttrib",e)}}),f.parser=new v(p,f.schema),f.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r,o=e.length,a=f.dom;o--;)n=e[o],i=n.attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?n.attr(r,a.serializeStyle(a.parseStyle(i),n.name)):n.attr(r,f.convertURL(i,t,n.name)))}),f.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),f.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),f.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=f.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(r)&&(t.empty().append(new i("br",1)).shortEnded=!0)}),f.serializer=new r(p,f),f.selection=new a(f.dom,f.getWin(),f.serializer,f),f.formatter=new s(f),f.undoManager=new l(f),f.forceBlocks=new u(f),f.enterKey=new c(f),f.editorCommands=new d(f),f.fire("PreInit"),p.browser_spellcheck||p.gecko_spellcheck||(m.body.spellcheck=!1,T.setAttrib(n,"spellcheck","false")),f.fire("PostRender"),f.quirks=y(f),p.directionality&&(n.dir=p.directionality),p.nowrap&&(n.style.whiteSpace="nowrap"),p.protect&&f.on("BeforeSetContent",function(e){D(p.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),f.on("SetContent",function(){f.addVisual(f.getBody())}),p.padd_empty_editor&&f.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),f.load({initial:!0,format:"html"}),f.startContent=f.getContent({format:"raw"}),f.initialized=!0,D(f._pendingNativeEvents,function(e){f.dom.bind(E(f,e),e,function(e){f.fire(e.type,e)})}),f.fire("init"),f.focus(!0),f.nodeChanged({initial:!0}),f.execCallback("init_instance_callback",f),f.contentStyles.length>0&&(o="",D(f.contentStyles,function(e){o+=e+"\r\n"}),f.dom.addStyle(o)),D(f.contentCSS,function(e){f.loadedCSS[e]||(f.dom.loadCSS(e),f.loadedCSS[e]=!0)}),p.auto_focus&&setTimeout(function(){var e=f.editorManager.get(p.auto_focus);e.selection.select(e.getBody(),1),e.selection.collapse(1),e.getBody().focus(),e.getWin().focus()},100),h=m=n=null},focus:function(e){var t,n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc();e||(n=a.getRng(),n.item&&(i=n.item(0)),o._refreshContentEditable(),s||(b.opera||o.getBody().focus(),o.getWin().focus()),(H||s)&&(r=o.getBody(),r.setActive?r.setActive():r.focus(),s&&a.normalize()),i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())),o.editorManager.activeEditor!=o&&((t=o.editorManager.activeEditor)&&t.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:t})),o.editorManager.activeEditor=o},execCallback:function(e){var t,n=this,i=n.settings[e];if(i)return n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=i.replace(/\.\w+$/,""),t=t?R(t):0,i=R(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?D(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),i[F(e[0])]=e.length>1?F(e[1]):F(e)}):i=r,i):r},nodeChanged:function(){var e,t,n,i=this,r=i.selection;i.initialized&&!i.settings.disable_nodechange&&(n=i.getBody(),e=r.getStart()||n,e=M&&e.ownerDocument!=i.getDoc()?i.getBody():e,"IMG"==e.nodeName&&r.isCollapsed()&&(e=e.parentNode),t=[],i.dom.getParent(e,function(e){return e===n?!0:(t.push(e),void 0)}),i.fire("NodeChange",{element:e,parents:t}))},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){var r,o=this,a=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus||o.focus(),i=S({},i),i=o.fire("BeforeExecCommand",{command:e,ui:t,value:n}),i.isDefaultPrevented()?!1:(r=o.execCommands[e])&&r.func.call(r.scope,t,n)!==!0?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(D(o.plugins,function(i){return i.execCommand&&i.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),a=!0,!1):void 0}),a?a:o.theme&&o.theme.execCommand&&o.theme.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):o.editorCommands.execCommand(e,t,n)?(o.fire("ExecCommand",{command:e,ui:t,value:n}),!0):(o.getDoc().execCommand(e,t,n),o.fire("ExecCommand",{command:e,ui:t,value:n}),void 0))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(n=i.editorCommands.queryCommandState(e),-1!==n)return n;try{return i.getDoc().queryCommandState(e)}catch(r){}}},queryCommandValue:function(e){var n,i,r=this;if(!r._isHidden()){if((n=r.queryValueCommands[e])&&(i=n.func.call(n.scope),i!==!0))return i;if(i=r.editorCommands.queryCommandValue(e),i!==t)return i;try{return r.getDoc().queryCommandValue(e)}catch(o){}}},show:function(){var e=this;T.show(e.getContainer()),T.hide(e.id),e.load(),e.fire("show")},hide:function(){var e=this,t=e.getDoc();M&&t&&t.execCommand("SelectAll"),e.save(),T.hide(e.getContainer()),T.setStyle(e.id,"display",e.orgDisplay),e.fire("hide")},isHidden:function(){return!T.isHidden(this.id)},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();return r?(e=e||{},e.load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire("LoadContent",e),e.element=r=null,n):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(r.innerHTML=t,(n=T.getParent(i.id,"form"))&&D(n.elements,function(e){return e.name==i.id?(e.value=t,!1):void 0})),e.element=r=null,e.set_dirty!==!1&&(i.isNotDirty=!0),t},setContent:function(e,t){var n,i=this,r=i.getBody();if(t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(n=i.settings.forced_root_block,n&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?e=M&&11>M?"<"+n+"></"+n+">":"<"+n+'><br data-mce-bogus="1"></'+n+">":M||(e='<br data-mce-bogus="1">'),r.innerHTML=e,i.fire("SetContent",t)):("raw"!==t.format&&(e=new o({},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=F(e),i.dom.setHTML(r,t.content),t.no_events||i.fire("SetContent",t)),!t.initial){var a=i.dom,s=i.selection;11>M&&a.isBlock(r.firstChild)&&a.isEmpty(r.firstChild)?(r.firstChild.appendChild(a.doc.createTextNode("")),s.select(r.firstChild,!0),a.remove(r.firstChild.lastChild)):(s.select(r,!0),s.collapse(!0))}return t.content},getContent:function(e){var t,n=this,i=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?i.innerHTML:"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),e.content="text"!=e.format?F(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e){this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=T.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return T.get(this.settings.content_element||this.id)},getWin:function(){var e,t=this;return t.contentWindow||(e=T.get(t.id+"_ifr"),e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),D(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",t=o.getAttrib(e,"border"),t&&"0"!=t||(i.hasVisual?o.addClass(e,n):o.removeClass(e,n)),void 0;case"A":return o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n="mce-item-anchor",t&&(i.hasVisual?o.addClass(e,n):o.removeClass(e,n))),void 0}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;if(!e.removed){e.removed=1,e.hasHiddenInput&&T.remove(e.getElement().nextSibling);var t=e.getDoc();M&&t&&t.execCommand("SelectAll"),e.save(),T.setStyle(e.id,"display",e.orgDisplay),e.settings.content_editable||(L.unbind(e.getWin()),L.unbind(e.getDoc()));var n=e.getContainer();L.unbind(e.getBody()),L.unbind(n),e.fire("remove"),e.editorManager.remove(e),T.remove(n),e.destroy()}},bindNative:function(e){var t=this;t.settings.readonly||(t.initialized?t.dom.bind(E(t,e),e,function(n){t.fire(e,n)}):t._pendingNativeEvents?t._pendingNativeEvents.push(e):t._pendingNativeEvents=[e])},unbindNative:function(e){var t=this;t.initialized&&t.dom.unbind(e)},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return n.remove(),void 0;e&&H&&(L.unbind(n.getDoc()),L.unbind(n.getWin()),L.unbind(n.getBody())),e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),t=n.formElement,t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),T.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=null,n.settings.content_element=n.bodyElement=n.contentDocument=n.contentWindow=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return H?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},S(_.prototype,x),_}),/**
 * I18n.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/I18n",[],function(){var e={};return{rtl:!1,add:function(t,n){for(var i in n)e[i]=n[i];this.rtl=this.rtl||"rtl"===e._dir},translate:function(t){if("undefined"==typeof t)return t;if("string"!=typeof t&&t.raw)return t.raw;if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}}),/**
 * FocusManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){function n(i){function r(){try{return document.activeElement}catch(e){return document.body}}function o(e){return e&&e.startContainer?{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}:e}function a(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function s(s){function l(t){return!!e.DOM.getParent(t,n.isEditorUIElement)}var c,u,d=s.editor;d.on("init",function(){"onbeforedeactivate"in document&&t.ie<11?d.dom.bind(d.getBody(),"beforedeactivate",function(){var e=d.getDoc().selection;try{c=e&&e.createRange?e.createRange():d.selection.getRng()}catch(t){}}):(d.inline||t.ie>10)&&(d.on("nodechange keyup",function(){var e,t=document.activeElement;for(t&&t.id==d.id+"_ifr"&&(t=d.getBody());t;){if(t==d.getBody()){e=!0;break}t=t.parentNode}e&&(c=d.selection.getRng())}),t.webkit&&(u=function(){var e=d.selection.getRng();e.collapsed||(c=e)},e.DOM.bind(document,"selectionchange",u),d.on("remove",function(){e.DOM.unbind(document,"selectionchange",u)})))}),d.on("mousedown",function(){d.selection.lastFocusBookmark=null}),d.on("focusin",function(){var e=i.focusedEditor;d.selection.lastFocusBookmark&&(d.selection.setRng(a(d,d.selection.lastFocusBookmark)),d.selection.lastFocusBookmark=null),e!=d&&(e&&e.fire("blur",{focusedEditor:d}),i.activeEditor=d,d.fire("focus",{blurredEditor:e}),d.focus(!1),i.focusedEditor=d)}),d.on("focusout",function(){d.selection.lastFocusBookmark=o(c),window.setTimeout(function(){var e=i.focusedEditor;e!=d&&(d.selection.lastFocusBookmark=null),l(r())||e!=d||(d.fire("blur",{focusedEditor:null}),i.focusedEditor=null,d.selection.lastFocusBookmark=null)},0)})}i.on("AddEditor",s)}return n.isEditorUIElement=function(e){return-1!==e.className.indexOf("mce-")},n}),/**
 * EditorManager.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,n,i,r,o,a,s,l){var c,u=n.DOM,d=o.explode,f=o.each,p=o.extend,h=0,m={majorVersion:"4",minorVersion:"0.8",releaseDate:"2013-10-10",editors:[],i18n:s,activeEditor:null,setup:function(){var e,t,n,r=this,o="";if(t=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=a[s].src;if(/tinymce(\.jquery|)(\.min|\.dev|)\.js/.test(c)){-1!=c.indexOf(".min")&&(o=".min"),e=c.substring(0,c.lastIndexOf("/"));break}}r.baseURL=new i(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new i(r.baseURL),r.suffix=o,r.focusManager=new l(r)},init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&&!u.get(t)?e.name:u.uniqueId(),e.setAttribute("id",t)),t}function i(e,t,n){var i=e[t];if(i)return i.apply(n||this,Array.prototype.slice.call(arguments,2))}function r(e,t){return t.constructor===RegExp?t.test(e.className):u.hasClass(e,t)}function o(){var c,m;if(u.unbind(window,"ready",o),i(t,"onpageload"),t.types)return f(t.types,function(i){f(u.select(i.selector),function(r){var o=new e(n(r),p({},t,i),s);l.push(o),o.render(1)})}),void 0;if(t.selector)return f(u.select(t.selector),function(i){var r=new e(n(i),t,s);l.push(r),r.render(1)}),void 0;switch(t.mode){case"exact":c=t.elements||"",c.length>0&&f(d(c),function(n){u.get(n)?(a=new e(n,t,s),l.push(a),a.render(!0)):f(document.forms,function(i){f(i.elements,function(i){i.name===n&&(n="mce_editor_"+h++,u.setAttrib(i,"id",n),a=new e(n,t,s),l.push(a),a.render(1))})})});break;case"textareas":case"specific_textareas":f(u.select("textarea"),function(i){t.editor_deselector&&r(i,t.editor_deselector)||(!t.editor_selector||r(i,t.editor_selector))&&(a=new e(n(i),t,s),l.push(a),a.render(!0))})}t.oninit&&(c=m=0,f(l,function(e){m++,e.initialized?c++:e.on("init",function(){c++,c==m&&i(t,"oninit")}),c==m&&i(t,"oninit")}))}var a,s=this,l=[];s.settings=t,u.bind(window,"ready",o)},get:function(e){return e===t?this.editors:this.editors[e]},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire("AddEditor",{editor:e}),c||(c=function(){t.fire("BeforeUnload")},u.bind(window,"beforeunload",c)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i,r=this,o=r.editors;{if(e){if("string"==typeof e)return e=e.selector||e,f(u.select(e),function(e){r.remove(o[e.id])}),void 0;if(n=e,!o[n.id])return null;for(delete o[n.id],t=0;t<o.length;t++)if(o[t]==n){o.splice(t,1),i=!0;break}return r.activeEditor==n&&(r.activeEditor=o[0]),i&&r.fire("RemoveEditor",{editor:n}),o.length||u.unbind(window,"beforeunload",c),n.remove(),n}for(t=o.length-1;t>=0;t--)r.remove(o[t])}},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":return r.get(i)||new e(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(t,n,i):!1},triggerSave:function(){f(this.editors,function(e){e.save()})},addI18n:function(e,t){s.add(e,t)},translate:function(e){return s.translate(e)}};return p(m,a),m.setup(),window.tinymce=window.tinyMCE=m,m}),/**
 * LegacyInput.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function r(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(t,n){e(n,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",r))})})}),/**
 * XHR.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/XHR",[],function(){return{send:function(e){function t(){!e.async||4==n.readyState||i++>1e4?(e.success&&1e4>i&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,i>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(e.data),!e.async)return t();setTimeout(t,10)}}}}),/**
 * JSON.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSON",[],function(){function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t),i+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),/**
 * JSONRequest.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),/**
 * JSONP.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),/**
 * LocalStorage.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/util/LocalStorage",[],function(){function e(){s=[];for(var e in a)s.push(e);r.length=s.length}function n(){function n(e){var n,i;return i=e!==t?u+e:r.indexOf(",",u),-1===i||i>r.length?null:(n=r.substring(u,i),u=i+1,n)}var i,r,s,u=0;if(a={},c){o.load(l),r=o.getAttribute(l)||"";do i=n(parseInt(n(),32)||0),null!==i&&(s=n(parseInt(n(),32)||0),a[i]=s);while(null!==i);e()}}function i(){var t,n="";if(c){for(var i in a)t=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+t.length.toString(32)+","+t;o.setAttribute(l,n),o.save(l),e()}}var r,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",o=document.documentElement,c=!!o.addBehavior,c&&o.addBehavior("#default#userData"),r={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,i()},removeItem:function(e){delete a[e],i()},clear:function(){a={},i()}},n(),r}),/**
 * Compat.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),/**
 * Layout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t,n,i,r=this,o=r.settings;t=e.items().filter(":visible"),n=o.firstControlClass,i=o.lastControlClass,t.each(function(e){e.removeClass(n).removeClass(i),o.controlClass&&e.addClass(o.controlClass)}),t.eq(0).addClass(n),t.eq(-1).addClass(i)},renderHtml:function(e){var t,n=this,i=n.settings,r="";return t=e.items(),t.eq(0).addClass(i.firstControlClass),t.eq(-1).addClass(i.lastControlClass),t.each(function(e){i.controlClass&&e.addClass(i.controlClass),r+=e.renderHtml()}),r},recalc:function(){},postRender:function(){}})}),/**
 * AbsoluteLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),/**
 * Tooltip.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().lastChild.innerHTML=t.encode(e)),t):t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation">'+'<div class="'+t+'tooltip-arrow"></div>'+'<div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div>"+"</div>"},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),/**
 * Widget.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),t.canFocus=!0,e.tooltip&&i.tooltips!==!1&&t.on("mouseenter mouseleave",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t&&"mouseenter"==n.type){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.toggleClass("tooltip-n","bc-tc"==r),i.toggleClass("tooltip-nw","bc-tl"==r),i.toggleClass("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.aria("label",e.tooltip)},tooltip:function(){var e=this;return n||(n=new t({type:"tooltip"}),n.renderTo(e.getContainerElm())),n},active:function(e){var t,n=this;return e!==t&&(n.aria("pressed",e),n.toggleClass("active",e)),n._super(e)},disabled:function(e){var t,n=this;return e!==t&&(n.aria("disabled",e),n.toggleClass("disabled",e)),n._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=!0,e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&setTimeout(function(){e.focus()},0)},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),/**
 * Button.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n.on("click mousedown",function(e){e.preventDefault()}),n._super(e),t=e.size,e.subtype&&n.addClass(e.subtype),t&&n.addClass("btn-"+t)},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon,r="";return e.settings.image&&(i="none",r=" style=\"background-image: url('"+e.settings.image+"')\""),i=e.settings.icon?n+"ico "+n+"i-"+i:"",'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+'<button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+(e._text?(i?"":"")+e.encode(e._text):"")+"</button>"+"</div>"}})}),/**
 * ButtonGroup.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"toolbar"},renderHtml:function(){var e=this,t=e._layout;return e.addClass("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'">'+'<div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),/**
 * Checkbox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){var t=this;return"undefined"!=typeof e?(e?t.addClass("checked"):t.removeClass("checked"),t._checked=e,t.aria("checked",e),t):t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labeledby="'+t+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span>"+"</div>"}})}),/**
 * PanelButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.popover=!0,i.autohide=!0,e.panel=new t(i).on("hide",function(){e.active(!1)}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():e.showPanel())}),e._super()}})}),/**
 * ColorButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",r=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'">'+'<button role="presentation" hidefocus type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(i?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(i){i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),/**
 * ComboBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var n=this;n._super(e),n.addClass("combobox"),n.on("click",function(e){for(var t=e.target;t;)t.id&&-1!=t.id.indexOf("-open")&&n.fire("action"),t=t.parentNode}),n.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&n.parents().reverse().each(function(t){return e.preventDefault(),n.fire("change"),t.hasEventListeners("submit")&&t.toJSON?(t.fire("submit",{data:t.toJSON()}),!1):void 0})}),e.placeholder&&(n.addClass("placeholder"),n.on("focusin",function(){n._hasOnChange||(t.on(n.getEl("inp"),"change",function(){n.fire("change")}),n._hasOnChange=!0),n.hasClass("placeholder")&&(n.getEl("inp").value="",n.removeClass("placeholder"))}),n.on("focusout",function(){0===n.value().length&&(n.getEl("inp").value=e.placeholder,n.addClass("placeholder"))}))},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t.removeClass("placeholder"),t._rendered&&(t.getEl("inp").value=e),t):t._rendered?(e=t.getEl("inp").value,e!=t.settings.placeholder?e:""):t._value},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl("inp").disabled=e),t._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,n,i=this,r=i.getEl(),o=i.getEl("open"),a=i.layoutRect();e=o?a.w-t.getSize(o).width-10:a.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(n=i.layoutRect().h-2+"px"),t.css(r.firstChild,{width:e,lineHeight:n}),i._super(),i},postRender:function(){var e=this;return t.on(this.getEl("inp"),"change",function(){e.fire("change")}),e._super()},remove:function(){t.off(this.getEl("inp")),this._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=r.value||r.placeholder||"",s="";return e=r.icon?o+"ico "+o+"i-"+r.icon:"",t=n._text,(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1">'+'<button id="'+i+'-action" type="button" hidefocus tabindex="-1">'+(e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button>"+"</div>",n.addClass("has-open")),'<div id="'+i+'" class="'+n.classes()+'">'+'<input id="'+i+'-inp" class="'+o+"textbox "+o+'placeholder" value="'+a+'" hidefocus="true"'+(n.disabled()?' disabled="disabled"':"")+">"+s+"</div>"}})}),/**
 * Path.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Path",["tinymce/ui/Widget","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.addClass("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.data()[n],index:n})})},focus:function(){var e=this;return e.keyNav=new t({root:e,enableLeftRight:!0}),e.keyNav.focusFirst(),e},data:function(e){var t=this;return"undefined"!=typeof e?(t._data=e,t.update(),t):t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super(),e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes()+'">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e,t,n=this,i=n._data||[],r="",o=n.classPrefix;for(e=0,t=i.length;t>e;e++)r+=(e>0?'<div class="'+o+'divider" aria-hidden="true"> '+n.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(e==t-1?" "+o+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+n._id+"-"+e+'">'+i[e].name+"</div>";return r||(r='<div class="'+o+'path-item">&nbsp;</div>'),r}})}),/**
 * ElementPath.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function e(e){return 1===e.nodeType&&("BR"==e.nodeName||!!e.getAttribute("data-mce-bogus"))}var n=this,i=t.activeEditor;return n.on("select",function(t){var n,r=[],o=i.getBody();for(i.focus(),n=i.selection.getStart();n&&n!=o;)e(n)||r.push(n),n=n.parentNode;i.selection.select(r[r.length-1-t.index]),i.nodeChanged()}),i.on("nodeChange",function(t){for(var r=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});r.push({name:s.name})}n.data(r)}),n._super()}})}),/**
 * FormItem.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),/**
 * Form.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem"],function(e,t){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,n=e.items();n.each(function(n){var i,r=n.settings.label;r&&(i=new t({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",text:r,flex:0,forId:n._id}]}),i.type="formitem","undefined"==typeof n.settings.flex&&(n.settings.flex=1),e.replace(n,i),i.add(n))})},recalcLabels:function(){var e,t,n=this,i=0,r=[];if(n.settings.labelGapCalc!==!1)for(n.items().filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,r.push(t)}),t=n.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t},visible:function(e){var t=this._super(e);return e===!0&&this._rendered&&this.recalcLabels(),t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.recalcLabels(),e.fromJSON(e.settings.data)}})}),/**
 * FieldSet.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</fieldset>"}})}),/**
 * FilePicker.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t,n=this,i=tinymce.activeEditor;e.spellcheck=!1,t=i.settings.file_browser_callback,t&&(e.icon="browse",e.onaction=function(){t(n.getEl("inp").id,n.getEl("inp").value,e.filetype,window)}),n._super(e)}})}),/**
 * FitLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),/**
 * FlexLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w,E,_,T,N,k,S,D,A,B,F,R,L,H,M,P,O,I,$,j=[],W=Math.max,z=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e._paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(T="y",E="h",_="minH",N="maxH",S="innerH",k="top",D="bottom",A="deltaH",B="contentH",P="left",L="w",F="x",R="innerW",H="minW",M="maxW",O="right",I="deltaW",$="contentW"):(T="x",E="w",_="minW",N="maxW",S="innerW",k="left",D="right",A="deltaW",B="contentW",P="top",L="h",F="y",R="innerH",H="minH",M="maxH",O="bottom",I="deltaH",$="contentH"),d=r[S]-o[k]-o[k],w=u=0,t=0,n=i.length;n>t;t++)p=i[t],h=p.layoutRect(),m=p.settings,g=m.flex,d-=n-1>t?c:0,g>0&&(u+=g,h[N]&&j.push(p),h.flex=g),d-=h[_],v=o[P]+h[H]+o[O],v>w&&(w=v);if(C={},C[_]=0>d?r[_]-d+r[A]:r[S]-d+r[A],C[H]=w+r[I],C[B]=r[S]-d,C[$]=w,C.minW=z(C.minW,r.maxW),C.minH=z(C.minH,r.maxH),C.minW=W(C.minW,r.startMinWidth),C.minH=W(C.minH,r.startMinHeight),!r.autoResize||C.minW==r.minW&&C.minH==r.minH){for(b=d/u,t=0,n=j.length;n>t;t++)p=j[t],h=p.layoutRect(),y=h[N],v=h[_]+Math.ceil(h.flex*b),v>y?(d-=h[N]-h[_],u-=h.flex,h.flex=0,h.maxFlexSize=y):h.maxFlexSize=0;for(b=d/u,x=o[k],C={},0===u&&("end"==l?x=d+o[k]:"center"==l?(x=Math.round(r[S]/2-(r[S]-d)/2)+o[k],0>x&&(x=o[k])):"justify"==l&&(x=o[k],c=Math.floor(d/(i.length-1)))),C[F]=o[P],t=0,n=i.length;n>t;t++)p=i[t],h=p.layoutRect(),v=h.maxFlexSize||h[_],"center"===s?C[F]=Math.round(r[R]/2-h[L]/2):"stretch"===s?(C[L]=W(h[H]||0,r[R]-o[P]-o[O]),C[F]=o[P]):"end"===s&&(C[F]=r[R]-h[L]-o.top),h.flex>0&&(v+=Math.ceil(h.flex*b)),C[E]=v,C[T]=x,p.layoutRect(C),p.recalc&&p.recalc(),x+=v+c}else if(C.w=C.minW,C.h=C.minH,e.layoutRect(C),this.recalc(e),null===e._lastRect){var q=e.parent();q&&(q._lastRect=null,q.recalc())}}})}),/**
 * FlowLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})}})}),/**
 * FormatControls.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,t,n,i,r,o){function a(e){function t(t){function n(e){return e.replace(/%(\w+)/g,"")}var i,r,o,a,l=e.dom,c="";return a=e.settings.preview_styles,a===!1?"":(a||(a="font-family font-size font-weight text-decoration text-transform color background-color border border-radius"),(t=e.formatter.get(t))?(t=t[0],i=t.block||t.inline||"span",r=l.create(i),s(t.styles,function(e,t){e=n(e),e&&l.setStyle(r,t,e)}),s(t.attributes,function(e,t){e=n(e),e&&l.setAttrib(r,t,e)}),s(t.classes,function(e){e=n(e),l.hasClass(r,e)||l.addClass(r,e)}),e.fire("PreviewFormats"),l.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=l.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,s(a.split(" "),function(t){var n=l.getStyle(r,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*o+"px"}"border"==t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(r),c):void 0)}function i(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,a=null;s(r.parents,function(e){return s(t,function(t){return n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a?!1:void 0}),a?!1:void 0}),i.value(a)})}}function r(e){e=e.split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function o(){function n(e){var t=[];if(e)return s(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=n(e.items);else{var a=e.format||"custom"+i++;e.format||(e.name=a,r.push(e)),o.format=a}t.push(o)}),t}var i=0,r=[],o=[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];e.on("init",function(){s(r,function(t){e.formatter.register(t.name,t)})});var a=n(e.settings.style_formats||o);return a={type:"menu",items:a,onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?t(this.settings.format):void 0},onPostRender:function(){var t=this,n=this.settings.format;n&&t.parent().on("show",function(){t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))})},onclick:function(){this.settings.format&&f(this.settings.format)}}}}function a(){return e.undoManager?e.undoManager.hasUndo():!1}function l(){return e.undoManager?e.undoManager.hasRedo():!1}function c(){var t=this;t.disabled(!a()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!a())})}function u(){var t=this;t.disabled(!l()),e.on("Undo Redo AddUndo TypingUndo",function(){t.disabled(!l())})}function d(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function f(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var p;p=o(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){f(n)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),s({blockquote:["Toggle blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}})}),e.addButton("undo",{tooltip:"Undo",onPostRender:c,cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:u,cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:c,cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:u,cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:d,cmd:"mceToggleVisualAid"}),s({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:p}),e.addButton("formatselect",function(){var n=[],o=r(e.settings.block_formats||"Paragraph=p;Address=address;Pre=pre;Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6");return s(o,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t(e[1])}})}),{type:"listbox",text:{raw:o[0][0]},values:n,fixedWidth:!0,onselect:f,onPostRender:i(n)}}),e.addButton("fontselect",function(){var t="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=[],o=r(e.settings.font_formats||t);return s(o,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:!0,onPostRender:i(n,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||n;return s(r.split(" "),function(e){t.push({text:e,value:e})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:i(t,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:p})}var s=i.each;r.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),a(t.editor)}),e.translate=function(e){return r.translate(e)},t.tooltips=!o.iOS}),/**
 * GridLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,f,p,h,m,g,v,y,b,C,x,w,E,_,T,N,k,S,D=e.settings,A=[],B=[];for(D=e.settings,i=e.items().filter(":visible"),r=e.layoutRect(),n=D.columns||Math.ceil(Math.sqrt(i.length)),t=Math.ceil(i.length/n),v=D.spacingH||D.spacing||0,y=D.spacingV||D.spacing||0,b=D.alignH||D.align,C=D.alignV||D.align,m=e._paddingBox,b&&"string"==typeof b&&(b=[b]),C&&"string"==typeof C&&(C=[C]),u=0;n>u;u++)A.push(0);for(d=0;t>d;d++)B.push(0);for(d=0;t>d;d++)for(u=0;n>u&&(c=i[d*n+u],c);u++)l=c.layoutRect(),E=l.minW,_=l.minH,A[u]=E>A[u]?E:A[u],B[d]=_>B[d]?_:B[d];for(k=r.innerW-m.left-m.right,x=0,u=0;n>u;u++)x+=A[u]+(u>0?v:0),k-=(u>0?v:0)+A[u];for(S=r.innerH-m.top-m.bottom,w=0,d=0;t>d;d++)w+=B[d]+(d>0?y:0),S-=(d>0?y:0)+B[d];if(x+=m.left+m.right,w+=m.top+m.bottom,s={},s.minW=x+(r.w-r.innerW),s.minH=w+(r.h-r.innerH),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH,s.minW=Math.min(s.minW,r.maxW),s.minH=Math.min(s.minH,r.maxH),s.minW=Math.max(s.minW,r.startMinWidth),s.minH=Math.max(s.minH,r.startMinHeight),!r.autoResize||s.minW==r.minW&&s.minH==r.minH){r.autoResize&&(s=e.layoutRect(s),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH);var F;F="start"==D.packV?0:S>0?Math.floor(S/t):0;var R=0,L=D.flexWidths;if(L)for(u=0;u<L.length;u++)R+=L[u];else R=n;var H=k/R;for(u=0;n>u;u++)A[u]+=L?Math.ceil(L[u]*H):H;for(p=m.top,d=0;t>d;d++){for(f=m.left,a=B[d]+F,u=0;n>u&&(c=i[d*n+u],c);u++)h=c.settings,l=c.layoutRect(),o=A[u],T=N=0,l.x=f,l.y=p,g=h.alignH||(b?b[u]||b[0]:null),"center"==g?l.x=f+o/2-l.w/2:"right"==g?l.x=f+o-l.w:"stretch"==g&&(l.w=o),g=h.alignV||(C?C[u]||C[0]:null),"center"==g?l.y=p+a/2-l.h/2:"bottom"==g?l.y=p+a-l.h:"stretch"==g&&(l.h=a),c.layoutRect(l),f+=o+v,c.recalc&&c.recalc();p+=a+y}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var M=e.parent();M&&(M._lastRect=null,M.recalc())}}})}),/**
 * Iframe.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),/**
 * Label.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.addClass("widget"),t.addClass("label"),t.canFocus=!1,e.multiline&&t.addClass("autoscroll"),e.strong&&t.addClass("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var i=t.getSize(e.getEl());i.width>n.maxW&&(n.minW=n.maxW,e.addClass("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},text:function(e){var t=this;return t._rendered&&e&&this.innerHtml(t.encode(e)),t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t:"")+'">'+e.encode(e._text)+"</label>"}})}),/**
 * Toolbar.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Toolbar",["tinymce/ui/Container","tinymce/ui/KeyboardNavigation"],function(e,t){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.addClass("toolbar")},postRender:function(){var e=this;return e.items().addClass("toolbar-item"),e.keyNav=new t({root:e,enableLeftRight:!0}),e._super()}})}),/**
 * MenuBar.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",defaults:{type:"menubutton"}}})}),/**
 * MenuButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),t.addClass("menubtn"),e.fixedWidth&&t.addClass("fixed-width"),t.aria("haspopup",!0),t.hasPopup=!0},showMenu:function(){var e,n=this,i=n.settings;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type)}).fire("show"),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void 0)},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1))},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,i=e.classPrefix,r=e.settings.icon?i+"ico "+i+"i-"+e.settings.icon:"";return e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+'<button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"></i>':"")+"<span>"+(e._text?(r?"":"")+e.encode(e._text):"")+"</span>"+' <i class="'+i+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.keyboard&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},text:function(e){var t,n,i=this;if(i._rendered)for(n=i.getEl("open").getElementsByTagName("span"),t=0;t<n.length;t++)n[t].innerHTML=i.encode(e);return this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),/**
 * ListBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){return e.extend({init:function(e){var t,n,i,r,o,a=this;if(a._values=t=e.values,t){for(n=0;n<t.length;n++)i=t[n].selected||e.value===t[n].value,i&&(r=r||t[n].text,a._value=t[n].value);e.menu=t}e.text=e.text||r||t[0].text,a._super(e),a.addClass("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.settings.value),o=n})},value:function(e){function t(e,r){e.items().each(function(e){n=e.value()===r,n&&(i=i||e.text()),e.active(n),e.menu&&t(e.menu,r)})}var n,i,r,o,a=this;if("undefined"!=typeof e){if(a.menu)t(a.menu,e);else for(r=a.settings.menu,o=0;o<r.length;o++)n=r[o].value==e,n&&(i=i||r[o].text),r[o].active=n;a.text(i||this.settings.text)}return a._super(e)}})}),/**
 * MenuItem.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory"],function(e,t){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass("menu-item"),e.menu&&t.addClass("menu-item-expand"),e.preview&&t.addClass("menu-item-preview"),("-"===t._text||"|"===t._text)&&(t.addClass("menu-item-sep"),t.aria("role","separator"),t.canFocus=!1,t._text="-"),e.selectable&&(t.aria("role","menuitemcheckbox"),t.aria("checked",!0),t.addClass("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.addClass("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.keyboard&&setTimeout(function(){t.menu.items()[0].focus()},0)):(t.parent().hideAll(),t.fire("cancel"),t.fire("select")))}),e.menu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){e=n.menu,e?e.show():(e=i.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),e.reflow(),e.fire("show"),e.on("cancel",function(){n.focus()}),e.on("hide",function(t){t.control===e&&n.removeClass("selected")})),e._parentMenu=r,e.addClass("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),o="menu-sub-"+o,e.removeClass(e._lastRel),e.addClass(o),e._lastRel=o,n.addClass("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.classPrefix,r=e.encode(e._text),o=e.settings.icon,a="";return o&&e.parent().addClass("menu-has-icons"),n.image&&(o="none",a=" style=\"background-image: url('"+n.image+"')\""),o=i+"ico "+i+"i-"+(e.settings.icon||"none"),'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+("-"!==r?'<i class="'+o+'"'+a+"></i>&nbsp;":"")+("-"!==r?'<span id="'+t+'-text" class="'+i+'text">'+r+"</span>":"")+(n.shortcut?'<div id="'+t+'-shortcut" class="'+i+'menu-shortcut">'+n.shortcut+"</div>":"")+(n.menu?'<div class="'+i+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),/**
 * Menu.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,t,n,i){var r=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"menu"},init:function(e){var r=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var o=e.items,a=o.length;a--;)o[a]=i.extend({},e.itemDefaults,o[a]);r._super(e),r.addClass("menu"),r.keyNav=new t({root:r,enableUpDown:!0,enableLeftRight:!0,leftAction:function(){r.parent()instanceof n&&r.keyNav.cancel()},onCancel:function(){r.fire("cancel",{},!1),r.hide()}})},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("cancel"),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.selectable?(e._hasIcons=!0,!1):void 0}),e._super()}});return r}),/**
 * Radio.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),/**
 * ResizeHandle.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.addClass("resizehandle"),"both"==e.settings.direction&&e.addClass("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'">'+'<i class="'+t+"ico "+t+'i-resize"></i>'+"</div>"},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},end:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),/**
 * Spacer.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.addClass("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})}),/**
 * SplitButton.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(e,t){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"splitbutton"},repaint:function(){var e,n,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),e=o.firstChild,n=o.lastChild,t.css(e,{width:a.w-t.getSize(n).width,height:a.h-2}),t.css(n,{height:a.h-2}),i=e.firstChild.style,i.width=i.height="100%",i=n.firstChild.style,i.width=i.height="100%",r},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";return'<div id="'+t+'" class="'+e.classes()+'">'+'<button type="button" hidefocus tabindex="-1">'+(i?'<i class="'+i+'"></i>':"")+(e._text?(i?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus tabindex="-1">'+(e._menuBtnText?(i?"":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if("BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),t.call(this,e),void 0;n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),/**
 * StackLayout.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),/**
 * TabPanel.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(e,t){return e.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){this.activeTabId&&t.removeClass(this.getEl(this.activeTabId),this.classPrefix+"active"),this.activeTabId="t"+e,t.addClass(this.getEl("t"+e),this.classPrefix+"active"),e!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=e),this.items()[e].show().fire("showtab"),this.reflow()},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){n+='<div id="'+e._id+"-t"+r+'" class="'+i+'tab" unselectable="on">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes()+'" hideFocus="1" tabIndex="-1">'+'<div id="'+e._id+'-head" class="'+i+'tabs">'+n+"</div>"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,n,i,r=this;n=t.getSize(r.getEl("head")).width,n=0>n?0:n,i=0,r.items().each(function(e,t){n=Math.max(n,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH),r.settings.activeTab!=t&&e.hide()}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=n,e.settings.h=i,e.layoutRect({x:0,y:0,w:n,h:i})});var o=t.getSize(r.getEl("head")).height;return r.settings.minWidth=n,r.settings.minHeight=i+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),/**
 * TextBox.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t._value=e.value||"",t.addClass("textbox"),e.multiline?t.addClass("multiline"):t.on("keydown",function(e){13==e.keyCode&&t.parents().reverse().each(function(t){return e.preventDefault(),t.hasEventListeners("submit")&&t.toJSON?(t.fire("submit",{data:t.toJSON()}),!1):void 0})})},disabled:function(e){var t=this;return t._rendered&&"undefined"!=typeof e&&(t.getEl().disabled=e),t._super(e)},value:function(e){var t=this;return"undefined"!=typeof e?(t._value=e,t._rendered&&(t.getEl().value=e),t):t._rendered?t.getEl().value:t._value},repaint:function(){var e,t,n,i,r=this,o=0,a=0;e=r.getEl().style,t=r._layoutRect,i=r._lastRepaintRect||{};var s=document;return!r.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=r._borderBox,o=n.left+n.right+8,a=n.top+n.bottom+(r.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-o+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),r._lastRepaintRect=i,r.fire("repaint",{},!1),r},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e._value,!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),e.disabled()&&(r+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="true"'+r+">"+i+"</textarea>":'<input id="'+t+'" class="'+e.classes()+'" value="'+i+'" hidefocus="true"'+r+">"},postRender:function(){var e=this;return t.on(e.getEl(),"change",function(t){e.fire("change",t)}),e._super()},remove:function(){t.off(this.getEl()),this._super()}})}),/**
 * Throbber.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */
i("tinymce/ui/Throbber",["tinymce/ui/DomUtils"],function(e){return function(t){var n,i=this;i.show=function(r){return i.hide(),n=!0,window.setTimeout(function(){n&&t.appendChild(e.createFragment('<div class="mce-throbber"></div>'))},r||0),i},i.hide=function(){var e=t.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),n=!1,i}}}),o(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/util/Tools","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/Selection","tinymce/dom/RangeUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/KeyboardNavigation","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/ui/ComboBox","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this);